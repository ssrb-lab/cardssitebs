var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function ee(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function E(e,t){return ee(e.type,t,e.props)}function te(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ne(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var D=/\/+/g;function re(e,t){return typeof e==`object`&&e&&e.key!=null?ne(``+e.key):t.toString(36)}function ie(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ae(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ae(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+re(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(D,`$&/`)+`/`),ae(o,r,i,``,function(e){return e})):o!=null&&(te(o)&&(o=E(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(D,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+re(a,u),c+=ae(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+re(a,u++),c+=ae(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ae(ie(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function oe(e,t,n){if(e==null)return e;var r=[],i=0;return ae(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function se(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var O=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},k={map:oe,forEach:function(e,t,n){oe(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oe(e,function(){t++}),t},toArray:function(e){return oe(e,function(e){return e})||[]},only:function(e){if(!te(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=k,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return ee(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return ee(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=te,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:se}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,O)}catch(e){O(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,te());else{var t=n(l);t!==null&&re(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function ee(){return g?!0:!(e.unstable_now()-T<w)}function E(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&ee());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&re(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?te():S=!1}}}var te;if(typeof y==`function`)te=function(){y(E)};else if(typeof MessageChannel<`u`){var ne=new MessageChannel,D=ne.port2;ne.port1.onmessage=E,te=function(){D.postMessage(null)}}else te=function(){_(E,0)};function re(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,re(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,te()))),r},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),ee=Symbol.for(`react.suspense_list`),E=Symbol.for(`react.memo`),te=Symbol.for(`react.lazy`),ne=Symbol.for(`react.activity`),D=Symbol.for(`react.memo_cache_sentinel`),re=Symbol.iterator;function ie(e){return typeof e!=`object`||!e?null:(e=re&&e[re]||e[`@@iterator`],typeof e==`function`?e:null)}var ae=Symbol.for(`react.client.reference`);function oe(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case ee:return`SuspenseList`;case ne:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case E:return t=e.displayName||null,t===null?oe(e.type)||`Memo`:t;case te:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var se=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},le=[],ue=-1;function de(e){return{current:e}}function fe(e){0>ue||(e.current=le[ue],le[ue]=null,ue--)}function A(e,t){ue++,le[ue]=e.current,e.current=t}var pe=de(null),me=de(null),he=de(null),ge=de(null);function _e(e,t){switch(A(he,t),A(me,e),A(pe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qd(t),e=Jd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}fe(pe),A(pe,e)}function ve(){fe(pe),fe(me),fe(he)}function ye(e){e.memoizedState!==null&&A(ge,e);var t=pe.current,n=Jd(t,e.type);t!==n&&(A(me,e),A(pe,n))}function be(e){me.current===e&&(fe(pe),fe(me)),ge.current===e&&(fe(ge),rp._currentValue=ce)}var xe,Se;function Ce(e){if(xe===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||``,Se=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+xe+e+Se}var we=!1;function Te(e,t){if(!e||we)return``;we=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{we=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Ce(n):``}function Ee(e,t){switch(e.tag){case 26:case 27:case 5:return Ce(e.type);case 16:return Ce(`Lazy`);case 13:return e.child!==t&&t!==null?Ce(`Suspense Fallback`):Ce(`Suspense`);case 19:return Ce(`SuspenseList`);case 0:case 15:return Te(e.type,!1);case 11:return Te(e.type.render,!1);case 1:return Te(e.type,!0);case 31:return Ce(`Activity`);default:return``}}function De(e){try{var t=``,n=null;do t+=Ee(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Oe=Object.prototype.hasOwnProperty,ke=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,je=t.unstable_shouldYield,Me=t.unstable_requestPaint,Ne=t.unstable_now,Pe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ie=t.unstable_UserBlockingPriority,Le=t.unstable_NormalPriority,Re=t.unstable_LowPriority,ze=t.unstable_IdlePriority,Be=t.log,Ve=t.unstable_setDisableYieldValue,He=null,Ue=null;function We(e){if(typeof Be==`function`&&Ve(e),Ue&&typeof Ue.setStrictMode==`function`)try{Ue.setStrictMode(He,e)}catch{}}var Ge=Math.clz32?Math.clz32:Je,Ke=Math.log,qe=Math.LN2;function Je(e){return e>>>=0,e===0?32:31-(Ke(e)/qe|0)|0}var Ye=256,Xe=262144,j=4194304;function Ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ze(n))):i=Ze(o):i=Ze(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ze(n))):i=Ze(o)):i=Ze(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function et(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tt(){var e=j;return j<<=1,!(j&62914560)&&(j=4194304),e}function nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function M(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rt(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ge(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&it(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function it(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ge(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function at(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ot(e,t){var n=t&-t;return n=n&42?1:st(n),(n&(e.suspendedLanes|t))===0?n:0}function st(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ct(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lt(){var e=k.p;return e===0?(e=window.event,e===void 0?32:yp(e.type)):e}function ut(e,t){var n=k.p;try{return k.p=e,t()}finally{k.p=n}}var dt=Math.random().toString(36).slice(2),ft=`__reactFiber$`+dt,pt=`__reactProps$`+dt,mt=`__reactContainer$`+dt,ht=`__reactEvents$`+dt,gt=`__reactListeners$`+dt,_t=`__reactHandles$`+dt,vt=`__reactResources$`+dt,yt=`__reactMarker$`+dt;function bt(e){delete e[ft],delete e[pt],delete e[ht],delete e[gt],delete e[_t]}function xt(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_f(e);e!==null;){if(n=e[ft])return n;e=_f(e)}return t}e=n,n=e.parentNode}return null}function St(e){if(e=e[ft]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ct(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function wt(e){var t=e[vt];return t||=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Tt(e){e[yt]=!0}var Et=new Set,Dt={};function Ot(e,t){kt(e,t),kt(e+`Capture`,t)}function kt(e,t){for(Dt[e]=t,e=0;e<t.length;e++)Et.add(t[e])}var At=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),jt={},Mt={};function Nt(e){return Oe.call(Mt,e)?!0:Oe.call(jt,e)?!1:At.test(e)?Mt[e]=!0:(jt[e]=!0,!1)}function Pt(e,t,n){if(Nt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ft(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function It(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function N(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Lt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Rt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P(e){if(!e._valueTracker){var t=Lt(e)?`checked`:`value`;e._valueTracker=Rt(e,t,``+e[t])}}function zt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Lt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Bt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Vt=/[\n"\\]/g;function Ht(e){return e.replace(Vt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Ut(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+N(t)):e.value!==``+N(t)&&(e.value=``+N(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Gt(e,o,N(n)):Gt(e,o,N(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+N(s):e.removeAttribute(`name`)}function Wt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){P(e);return}n=n==null?``:``+N(n),t=t==null?n:``+N(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),P(e)}function Gt(e,t,n){t===`number`&&Bt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+N(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qt(e,t,n){if(t!=null&&(t=``+N(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+N(n)}function Jt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(se(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=N(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),P(e)}function Yt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Zt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Xt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Qt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Zt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Zt(e,o,t[o])}function $t(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var en=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),tn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nn(e){return tn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function rn(){}var an=null;function on(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sn=null,cn=null;function ln(e){var t=St(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Ut(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Ht(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[pt]||null;if(!a)throw Error(i(90));Ut(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&zt(r)}break a;case`textarea`:qt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Kt(e,!!n.multiple,t,!1)}}}var un=!1;function dn(e,t,n){if(un)return e(t,n);un=!0;try{return e(t)}finally{if(un=!1,(sn!==null||cn!==null)&&(wu(),sn&&(t=sn,e=cn,cn=sn=null,ln(t),e)))for(t=0;t<e.length;t++)ln(e[t])}}function fn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[pt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var pn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),mn=!1;if(pn)try{var hn={};Object.defineProperty(hn,`passive`,{get:function(){mn=!0}}),window.addEventListener(`test`,hn,hn),window.removeEventListener(`test`,hn,hn)}catch{mn=!1}var gn=null,_n=null,vn=null;function yn(){if(vn)return vn;var e,t=_n,n=t.length,r,i=`value`in gn?gn.value:gn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return vn=i.slice(e,1<r?1-r:void 0)}function bn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xn(){return!0}function Sn(){return!1}function Cn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?xn:Sn,this.isPropagationStopped=Sn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),t}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tn=Cn(wn),En=h({},wn,{view:0,detail:0}),Dn=Cn(En),On,kn,An,jn=h({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==An&&(An&&e.type===`mousemove`?(On=e.screenX-An.screenX,kn=e.screenY-An.screenY):kn=On=0,An=e),On)},movementY:function(e){return`movementY`in e?e.movementY:kn}}),Mn=Cn(jn),Nn=Cn(h({},jn,{dataTransfer:0})),Pn=Cn(h({},En,{relatedTarget:0})),Fn=Cn(h({},wn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=Cn(h({},wn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Ln=Cn(h({},wn,{data:0})),Rn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},zn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Bn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bn[e])?!!t[e]:!1}function Hn(){return Vn}var Un=Cn(h({},En,{key:function(e){if(e.key){var t=Rn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=bn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?zn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(e){return e.type===`keypress`?bn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?bn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Wn=Cn(h({},jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Gn=Cn(h({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn})),Kn=Cn(h({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0})),qn=Cn(h({},jn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Jn=Cn(h({},wn,{newState:0,oldState:0})),Yn=[9,13,27,32],Xn=pn&&`CompositionEvent`in window,Zn=null;pn&&`documentMode`in document&&(Zn=document.documentMode);var Qn=pn&&`TextEvent`in window&&!Zn,$n=pn&&(!Xn||Zn&&8<Zn&&11>=Zn),er=` `,tr=!1;function nr(e,t){switch(e){case`keyup`:return Yn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function rr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var ir=!1;function ar(e,t){switch(e){case`compositionend`:return rr(t);case`keypress`:return t.which===32?(tr=!0,er):null;case`textInput`:return e=t.data,e===er&&tr?null:e;default:return null}}function or(e,t){if(ir)return e===`compositionend`||!Xn&&nr(e,t)?(e=yn(),vn=_n=gn=null,ir=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return $n&&t.locale!==`ko`?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!sr[e.type]:t===`textarea`}function lr(e,t,n,r){sn?cn?cn.push(r):cn=[r]:sn=r,t=Md(t,`onChange`),0<t.length&&(n=new Tn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var ur=null,dr=null;function fr(e){wd(e,0)}function pr(e){if(zt(Ct(e)))return e}function mr(e,t){if(e===`change`)return t}var hr=!1;if(pn){var gr;if(pn){var _r=`oninput`in document;if(!_r){var vr=document.createElement(`div`);vr.setAttribute(`oninput`,`return;`),_r=typeof vr.oninput==`function`}gr=_r}else gr=!1;hr=gr&&(!document.documentMode||9<document.documentMode)}function yr(){ur&&(ur.detachEvent(`onpropertychange`,br),dr=ur=null)}function br(e){if(e.propertyName===`value`&&pr(dr)){var t=[];lr(t,dr,e,on(e)),dn(fr,t)}}function xr(e,t,n){e===`focusin`?(yr(),ur=t,dr=n,ur.attachEvent(`onpropertychange`,br)):e===`focusout`&&yr()}function Sr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return pr(dr)}function Cr(e,t){if(e===`click`)return pr(t)}function wr(e,t){if(e===`input`||e===`change`)return pr(t)}function Tr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Er=typeof Object.is==`function`?Object.is:Tr;function Dr(e,t){if(Er(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Oe.call(t,i)||!Er(e[i],t[i]))return!1}return!0}function Or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kr(e,t){var n=Or(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Or(n)}}function Ar(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ar(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bt(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Nr=pn&&`documentMode`in document&&11>=document.documentMode,Pr=null,Fr=null,F=null,Ir=!1;function Lr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ir||Pr==null||Pr!==Bt(r)||(r=Pr,`selectionStart`in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),F&&Dr(F,r)||(F=r,r=Md(Fr,`onSelect`),0<r.length&&(t=new Tn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function Rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var zr={animationend:Rr(`Animation`,`AnimationEnd`),animationiteration:Rr(`Animation`,`AnimationIteration`),animationstart:Rr(`Animation`,`AnimationStart`),transitionrun:Rr(`Transition`,`TransitionRun`),transitionstart:Rr(`Transition`,`TransitionStart`),transitioncancel:Rr(`Transition`,`TransitionCancel`),transitionend:Rr(`Transition`,`TransitionEnd`)},Br={},Vr={};pn&&(Vr=document.createElement(`div`).style,`AnimationEvent`in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),`TransitionEvent`in window||delete zr.transitionend.transition);function Hr(e){if(Br[e])return Br[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vr)return Br[e]=t[n];return e}var Ur=Hr(`animationend`),Wr=Hr(`animationiteration`),Gr=Hr(`animationstart`),Kr=Hr(`transitionrun`),qr=Hr(`transitionstart`),Jr=Hr(`transitioncancel`),Yr=Hr(`transitionend`),Xr=new Map,Zr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Zr.push(`scrollEnd`);function Qr(e,t){Xr.set(e,t),Ot(t,[e])}var $r=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ei=[],ti=0,ni=0;function ri(){for(var e=ti,t=ni=ti=0;t<e;){var n=ei[t];ei[t++]=null;var r=ei[t];ei[t++]=null;var i=ei[t];ei[t++]=null;var a=ei[t];if(ei[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&si(n,i,a)}}function ii(e,t,n,r){ei[ti++]=e,ei[ti++]=t,ei[ti++]=n,ei[ti++]=r,ni|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ai(e,t,n,r){return ii(e,t,n,r),ci(e)}function oi(e,t){return ii(e,null,null,t),ci(e)}function si(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ge(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ci(e){if(50<hu)throw hu=0,gu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var li={};function ui(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,n,r){return new ui(e,t,n,r)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,t){var n=e.alternate;return n===null?(n=di(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)fi(e)&&(s=1);else if(typeof e==`string`)s=Jf(e,n,pe.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ne:return e=di(31,n,t,a),e.elementType=ne,e.lanes=o,e;case y:return gi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=di(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=di(13,n,t,a),e.elementType=T,e.lanes=o,e;case ee:return e=di(19,n,t,a),e.elementType=ee,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case E:s=14;break a;case te:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=di(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function gi(e,t,n,r){return e=di(7,e,r,t),e.lanes=n,e}function _i(e,t,n){return e=di(6,e,null,t),e.lanes=n,e}function vi(e){var t=di(18,null,null,0);return t.stateNode=e,t}function yi(e,t,n){return t=di(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bi=new WeakMap;function xi(e,t){if(typeof e==`object`&&e){var n=bi.get(e);return n===void 0?(t={value:e,source:t,stack:De(t)},bi.set(e,t),t):n}return{value:e,source:t,stack:De(t)}}var Si=[],Ci=0,wi=null,Ti=0,Ei=[],Di=0,Oi=null,ki=1,Ai=``;function ji(e,t){Si[Ci++]=Ti,Si[Ci++]=wi,wi=e,Ti=t}function Mi(e,t,n){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,Oi=e;var r=ki;e=Ai;var i=32-Ge(r)-1;r&=~(1<<i),n+=1;var a=32-Ge(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ki=1<<32-Ge(t)+i|n<<i|r,Ai=a+e}else ki=1<<a|n<<i|r,Ai=e}function Ni(e){e.return!==null&&(ji(e,1),Mi(e,1,0))}function Pi(e){for(;e===wi;)wi=Si[--Ci],Si[Ci]=null,Ti=Si[--Ci],Si[Ci]=null;for(;e===Oi;)Oi=Ei[--Di],Ei[Di]=null,Ai=Ei[--Di],Ei[Di]=null,ki=Ei[--Di],Ei[Di]=null}function Fi(e,t){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,ki=t.id,Ai=t.overflow,Oi=e}var Ii=null,Li=null,Ri=!1,zi=null,Bi=!1,Vi=Error(i(519));function Hi(e){throw Ji(xi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Vi}function Ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ft]=e,t[pt]=r,n){case`dialog`:Td(`cancel`,t),Td(`close`,t);break;case`iframe`:case`object`:case`embed`:Td(`load`,t);break;case`video`:case`audio`:for(n=0;n<Sd.length;n++)Td(Sd[n],t);break;case`source`:Td(`error`,t);break;case`img`:case`image`:case`link`:Td(`error`,t),Td(`load`,t);break;case`details`:Td(`toggle`,t);break;case`input`:Td(`invalid`,t),Wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Td(`invalid`,t);break;case`textarea`:Td(`invalid`,t),Jt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Rd(t.textContent,n)?(r.popover!=null&&(Td(`beforetoggle`,t),Td(`toggle`,t)),r.onScroll!=null&&Td(`scroll`,t),r.onScrollEnd!=null&&Td(`scrollend`,t),r.onClick!=null&&(t.onclick=rn),t=!0):t=!1,t||Hi(e,!0)}function Wi(e){for(Ii=e.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Ii=Ii.return}}function Gi(e){if(e!==Ii)return!1;if(!Ri)return Wi(e),Ri=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Yd(e.type,e.memoizedProps)),n=!n),n&&Li&&Hi(e),Wi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=gf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=gf(e)}else t===27?(t=Li,rf(e.type)?(e=hf,hf=null,Li=e):Li=t):Li=Ii?mf(e.stateNode.nextSibling):null;return!0}function Ki(){Li=Ii=null,Ri=!1}function qi(){var e=zi;return e!==null&&(tu===null?tu=e:tu.push.apply(tu,e),zi=null),e}function Ji(e){zi===null?zi=[e]:zi.push(e)}var Yi=de(null),Xi=null,Zi=null;function Qi(e,t,n){A(Yi,t._currentValue),t._currentValue=n}function $i(e){e._currentValue=Yi.current,fe(Yi)}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function ta(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ea(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ea(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function na(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Er(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ge.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[rp]:e.push(rp))}a=a.return}e!==null&&ta(t,e,n,r),t.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!Er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){Xi=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return sa(Xi,e)}function oa(e,t){return Xi===null&&ia(e),sa(e,t)}function sa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Zi===null){if(e===null)throw Error(i(308));Zi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zi=Zi.next=t;return n}var ca=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},la=t.unstable_scheduleCallback,ua=t.unstable_NormalPriority,da={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fa(){return{controller:new ca,data:new Map,refCount:0}}function pa(e){e.refCount--,e.refCount===0&&la(ua,function(){e.controller.abort()})}var ma=null,ha=0,ga=0,_a=null;function va(e,t){if(ma===null){var n=ma=[];ha=0,ga=gd(),_a={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ha++,t.then(ya,ya),t}function ya(){if(--ha===0&&ma!==null){_a!==null&&(_a.status=`fulfilled`);var e=ma;ma=null,ga=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ba(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var xa=O.S;O.S=function(e,t){iu=Ne(),typeof t==`object`&&t&&typeof t.then==`function`&&va(e,t),xa!==null&&xa(e,t)};var Sa=de(null);function Ca(){var e=Sa.current;return e===null?Vl.pooledCache:e}function wa(e,t){t===null?A(Sa,Sa.current):A(Sa,t.pool)}function Ta(){var e=Ca();return e===null?null:{parent:da._currentValue,pool:e}}var Ea=Error(i(460)),Da=Error(i(474)),Oa=Error(i(542)),ka={then:function(){}};function Aa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function ja(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(rn,rn),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e;default:if(typeof t.status==`string`)t.then(rn,rn);else{if(e=Vl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e}throw Na=t,Ea}}function Ma(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Na=e,Ea):e}}var Na=null;function Pa(){if(Na===null)throw Error(i(459));var e=Na;return Na=null,e}function Fa(e){if(e===Ea||e===Oa)throw Error(i(483))}var Ia=null,La=0;function Ra(e){var t=La;return La+=1,Ia===null&&(Ia=[]),ja(Ia,e,t)}function za(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ba(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Va(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=pi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=_i(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===te&&Ma(i)===t.type)?(t=a(t,n.props),za(t,n),t.return=e,t):(t=hi(n.type,n.key,n.props,null,e.mode,r),za(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=yi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=gi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=_i(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=hi(t.type,t.key,t.props,null,e.mode,n),za(n,t),n.return=e,n;case v:return t=yi(t,e.mode,n),t.return=e,t;case te:return t=Ma(t),f(e,t,n)}if(se(t)||ie(t))return t=gi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ra(t),n);if(t.$$typeof===C)return f(e,oa(e,t),n);Ba(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case te:return n=Ma(n),p(e,t,n,r)}if(se(n)||ie(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ra(n),r);if(n.$$typeof===C)return p(e,t,oa(e,n),r);Ba(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case te:return r=Ma(r),m(e,t,n,r,i)}if(se(r)||ie(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ra(r),i);if(r.$$typeof===C)return m(e,t,n,oa(t,r),i);Ba(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Ri&&ji(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Ri&&ji(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Ri&&ji(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Ri&&ji(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Ri&&ji(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Ri&&ji(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===te&&Ma(l)===r.type){n(e,r.sibling),c=a(r,o.props),za(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=gi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=hi(o.type,o.key,o.props,null,e.mode,c),za(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=yi(o,e.mode,c),c.return=e,e=c}return s(e);case te:return o=Ma(o),b(e,r,o,c)}if(se(o))return h(e,r,o,c);if(ie(o)){if(l=ie(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ra(o),c);if(o.$$typeof===C)return b(e,r,oa(e,o),c);Ba(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=_i(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{La=0;var i=b(e,t,n,r);return Ia=null,i}catch(t){if(t===Ea||t===Oa)throw t;var a=di(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ha=Va(!0),Ua=Va(!1),Wa=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ka(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Bl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ci(e),si(e,null,n),t}return ii(e,r,t,n),ci(e)}function Ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}function Xa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Za=!1;function Qa(){if(Za){var e=_a;if(e!==null)throw e}}function $a(e,t,n,r){Za=!1;var i=e.updateQueue;Wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Hl&f)===f:(r&f)===f){f!==0&&f===ga&&(Za=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Wa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Yl|=o,e.lanes=o,e.memoizedState=d}}function eo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function to(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eo(n[e],t)}var no=de(null),ro=de(0);function io(e,t){e=ql,A(ro,e),A(no,t),ql=e|t.baseLanes}function ao(){A(ro,ql),A(no,no.current)}function oo(){ql=ro.current,fe(no),fe(ro)}var so=de(null),co=null;function lo(e){var t=e.alternate;A(ho,ho.current&1),A(so,e),co===null&&(t===null||no.current!==null||t.memoizedState!==null)&&(co=e)}function uo(e){A(ho,ho.current),A(so,e),co===null&&(co=e)}function fo(e){e.tag===22?(A(ho,ho.current),A(so,e),co===null&&(co=e)):po(e)}function po(){A(ho,ho.current),A(so,so.current)}function mo(e){fe(so),co===e&&(co=null),fe(ho)}var ho=de(0);function go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||df(n)||ff(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _o=0,I=null,vo=null,yo=null,bo=!1,xo=!1,So=!1,Co=0,wo=0,To=null,Eo=0;function Do(){throw Error(i(321))}function Oo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Er(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,a){return _o=a,I=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Ks:qs,So=!1,a=n(r,i),So=!1,xo&&(a=jo(t,n,r,i)),Ao(e),a}function Ao(e){O.H=Gs;var t=vo!==null&&vo.next!==null;if(_o=0,yo=vo=I=null,bo=!1,wo=0,To=null,t)throw Error(i(300));e===null||uc||(e=e.dependencies,e!==null&&ra(e)&&(uc=!0))}function jo(e,t,n,r){I=e;var a=0;do{if(xo&&(To=null),wo=0,xo=!1,25<=a)throw Error(i(301));if(a+=1,yo=vo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}O.H=Js,o=t(n,r)}while(xo);return o}function Mo(){var e=O.H,t=e.useState()[0];return t=typeof t.then==`function`?zo(t):t,e=e.useState()[0],(vo===null?null:vo.memoizedState)!==e&&(I.flags|=1024),t}function No(){var e=Co!==0;return Co=0,e}function Po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bo=!1}_o=0,yo=vo=I=null,xo=!1,wo=Co=0,To=null}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yo===null?I.memoizedState=yo=e:yo=yo.next=e,yo}function Lo(){if(vo===null){var e=I.alternate;e=e===null?null:e.memoizedState}else e=vo.next;var t=yo===null?I.memoizedState:yo.next;if(t!==null)yo=t,vo=e;else{if(e===null)throw I.alternate===null?Error(i(467)):Error(i(310));vo=e,e={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},yo===null?I.memoizedState=yo=e:yo=yo.next=e}return yo}function Ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var t=wo;return wo+=1,To===null&&(To=[]),e=ja(To,e,t),t=I,(yo===null?t.memoizedState:yo.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Ks:qs),e}function Bo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return zo(e);if(e.$$typeof===C)return aa(e)}throw Error(i(438,String(e)))}function Vo(e){var t=null,n=I.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=I.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Ro(),I.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=D;return t.index++,n}function Ho(e,t){return typeof t==`function`?t(e):t}function Uo(e){return Wo(Lo(),vo,e)}function Wo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(_o&f)===f:(Hl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ga&&(d=!0);else if((_o&p)===p){u=u.next,p===ga&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,I.lanes|=p,Yl|=p;f=u.action,So&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,I.lanes|=f,Yl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Er(o,e.memoizedState)&&(uc=!0,d&&(n=_a,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=Lo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Er(o,t.memoizedState)||(uc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ko(e,t,n){var r=I,a=Lo(),o=Ri;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Er((vo||a).memoizedState,n);if(s&&(a.memoizedState=n,uc=!0),a=a.queue,_s(Yo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||yo!==null&&yo.memoizedState.tag&1){if(r.flags|=2048,fs(9,{destroy:void 0},Jo.bind(null,r,a,n,t),null),Vl===null)throw Error(i(349));o||_o&127||qo(r,t,n)}return n}function qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=I.updateQueue,t===null?(t=Ro(),I.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Zo(e)}function Yo(e,t,n){return n(function(){Xo(t)&&Zo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Er(e,n)}catch{return!0}}function Zo(e){var t=oi(e,2);t!==null&&yu(t,e,2)}function Qo(e){var t=Io();if(typeof e==`function`){var n=e;if(e=n(),So){We(!0);try{n()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function $o(e,t,n,r){return e.baseState=n,Wo(e,vo,typeof r==`function`?r:Ho)}function es(e,t,n,r,a){if(Hs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};O.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,ts(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,o={};O.T=o;try{var s=n(i,r),c=O.S;c!==null&&c(o,s),ns(e,t,s)}catch(n){is(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),O.T=a}}else try{a=n(i,r),ns(e,t,a)}catch(n){is(e,t,n)}}function ns(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){rs(e,t,n)},function(n){return is(e,t,n)}):rs(e,t,n)}function rs(e,t,n){t.status=`fulfilled`,t.value=n,as(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ts(e,n)))}function is(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,as(t),t=t.next;while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ss(e,t){if(Ri){var n=Vl.formState;if(n!==null){a:{var r=I;if(Ri){if(Li){b:{for(var i=Li,a=Bi;i.nodeType!==8;){if(!a){i=null;break b}if(i=mf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Li=mf(i.nextSibling),r=i.data===`F!`;break a}}Hi(r)}r=!1}r&&(t=n[0])}}return n=Io(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=zs.bind(null,I,r),r.dispatch=n,r=Qo(!1),a=Vs.bind(null,I,!1,r.queue),r=Io(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=es.bind(null,I,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return ls(Lo(),vo,e)}function ls(e,t,n){if(t=Wo(e,t,os)[0],e=Uo(Ho)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=zo(t)}catch(e){throw e===Ea?Oa:e}else r=t;t=Lo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(I.flags|=2048,fs(9,{destroy:void 0},us.bind(null,i,n),null)),[r,a,e]}function us(e,t){e.action=t}function ds(e){var t=Lo(),n=vo;if(n!==null)return ls(t,n,e);Lo(),t=t.memoizedState,n=Lo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=I.updateQueue,t===null&&(t=Ro(),I.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return Lo().memoizedState}function ms(e,t,n,r){var i=Io();I.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0},n,r===void 0?null:r)}function hs(e,t,n,r){var i=Lo();r=r===void 0?null:r;var a=i.memoizedState.inst;vo!==null&&r!==null&&Oo(r,vo.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(I.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function gs(e,t){ms(8390656,8,e,t)}function _s(e,t){hs(2048,8,e,t)}function vs(e){I.flags|=4;var t=I.updateQueue;if(t===null)t=Ro(),I.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ys(e){var t=Lo().memoizedState;return vs({ref:t,nextImpl:e}),function(){if(Bl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function bs(e,t){return hs(4,2,e,t)}function xs(e,t){return hs(4,4,e,t)}function Ss(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cs(e,t,n){n=n==null?null:n.concat([e]),hs(4,4,Ss.bind(null,t,e),n)}function ws(){}function Ts(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Oo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Es(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Oo(t,r[1]))return r[0];if(r=e(),So){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[r,t],r}function Ds(e,t,n){return n===void 0||_o&1073741824&&!(Hl&261930)?e.memoizedState=t:(e.memoizedState=n,e=vu(),I.lanes|=e,Yl|=e,n)}function Os(e,t,n,r){return Er(n,t)?n:no.current===null?!(_o&42)||_o&1073741824&&!(Hl&261930)?(uc=!0,e.memoizedState=n):(e=vu(),I.lanes|=e,Yl|=e,t):(e=Ds(e,n,r),Er(e,t)||(uc=!0),e)}function ks(e,t,n,r,i){var a=k.p;k.p=a!==0&&8>a?a:8;var o=O.T,s={};O.T=s,Vs(e,!1,t,n);try{var c=i(),l=O.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Bs(e,t,ba(c,r),_u(e)):Bs(e,t,r,_u(e))}catch(n){Bs(e,t,{then:function(){},status:`rejected`,reason:n},_u())}finally{k.p=a,o!==null&&s.types!==null&&(o.types=s.types),O.T=o}}function As(){}function js(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ms(e).queue;ks(e,a,t,ce,n===null?As:function(){return Ns(e),n(r)})}function Ms(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:ce},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ns(e){var t=Ms(e);t.next===null&&(t=e.alternate.memoizedState),Bs(e,t.next.queue,{},_u())}function Ps(){return aa(rp)}function Fs(){return Lo().memoizedState}function Is(){return Lo().memoizedState}function Ls(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=_u();e=qa(n);var r=Ja(t,e,n);r!==null&&(yu(r,t,n),Ya(r,t,n)),t={cache:fa()},e.payload=t;return}t=t.return}}function Rs(e,t,n){var r=_u();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hs(e)?Us(t,n):(n=ai(e,t,n,r),n!==null&&(yu(n,e,r),Ws(n,t,r)))}function zs(e,t,n){Bs(e,t,n,_u())}function Bs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))Us(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Er(s,o))return ii(e,t,i,0),Vl===null&&ri(),!1}catch{}if(n=ai(e,t,i,r),n!==null)return yu(n,e,r),Ws(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:gd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hs(e)){if(t)throw Error(i(479))}else t=ai(e,n,r,2),t!==null&&yu(t,e,2)}function Hs(e){var t=e.alternate;return e===I||t!==null&&t===I}function Us(e,t){xo=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}var Gs={readContext:aa,use:Bo,useCallback:Do,useContext:Do,useEffect:Do,useImperativeHandle:Do,useLayoutEffect:Do,useInsertionEffect:Do,useMemo:Do,useReducer:Do,useRef:Do,useState:Do,useDebugValue:Do,useDeferredValue:Do,useTransition:Do,useSyncExternalStore:Do,useId:Do,useHostTransitionStatus:Do,useFormState:Do,useActionState:Do,useOptimistic:Do,useMemoCache:Do,useCacheRefresh:Do};Gs.useEffectEvent=Do;var Ks={readContext:aa,use:Bo,useCallback:function(e,t){return Io().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:gs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ms(4194308,4,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Io();t=t===void 0?null:t;var r=e();if(So){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Io();if(n!==void 0){var i=n(t);if(So){We(!0);try{n(t)}finally{We(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Rs.bind(null,I,e),[r.memoizedState,e]},useRef:function(e){var t=Io();return e={current:e},t.memoizedState=e},useState:function(e){e=Qo(e);var t=e.queue,n=zs.bind(null,I,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ws,useDeferredValue:function(e,t){return Ds(Io(),e,t)},useTransition:function(){var e=Qo(!1);return e=ks.bind(null,I,e.queue,!0,!1),Io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=I,a=Io();if(Ri){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Vl===null)throw Error(i(349));Hl&127||qo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,gs(Yo.bind(null,r,o,e),[e]),r.flags|=2048,fs(9,{destroy:void 0},Jo.bind(null,r,o,n,t),null),n},useId:function(){var e=Io(),t=Vl.identifierPrefix;if(Ri){var n=Ai,r=ki;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Co++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Eo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ps,useFormState:ss,useActionState:ss,useOptimistic:function(e){var t=Io();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,I,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return Io().memoizedState=Ls.bind(null,I)},useEffectEvent:function(e){var t=Io(),n={impl:e};return t.memoizedState=n,function(){if(Bl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},qs={readContext:aa,use:Bo,useCallback:Ts,useContext:aa,useEffect:_s,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Es,useReducer:Uo,useRef:ps,useState:function(){return Uo(Ho)},useDebugValue:ws,useDeferredValue:function(e,t){return Os(Lo(),vo.memoizedState,e,t)},useTransition:function(){var e=Uo(Ho)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:zo(e),t]},useSyncExternalStore:Ko,useId:Fs,useHostTransitionStatus:Ps,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return $o(Lo(),vo,e,t)},useMemoCache:Vo,useCacheRefresh:Is};qs.useEffectEvent=ys;var Js={readContext:aa,use:Bo,useCallback:Ts,useContext:aa,useEffect:_s,useImperativeHandle:Cs,useInsertionEffect:bs,useLayoutEffect:xs,useMemo:Es,useReducer:Go,useRef:ps,useState:function(){return Go(Ho)},useDebugValue:ws,useDeferredValue:function(e,t){var n=Lo();return vo===null?Ds(n,e,t):Os(n,vo.memoizedState,e,t)},useTransition:function(){var e=Go(Ho)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:zo(e),t]},useSyncExternalStore:Ko,useId:Fs,useHostTransitionStatus:Ps,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){var n=Lo();return vo===null?(n.baseState=e,[e,n.queue.dispatch]):$o(n,vo,e,t)},useMemoCache:Vo,useCacheRefresh:Is};Js.useEffectEvent=ys;function Ys(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_u(),i=qa(r);i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(yu(t,e,r),Ya(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_u(),i=qa(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(yu(t,e,r),Ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_u(),r=qa(n);r.tag=2,t!=null&&(r.callback=t),t=Ja(e,r,n),t!==null&&(yu(t,e,n),Ya(t,e,n))}};function Zs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Dr(n,r)||!Dr(i,a):!0}function Qs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function $s(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function ec(e){$r(e)}function tc(e){console.error(e)}function nc(e){$r(e)}function rc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function ic(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ac(e,t,n){return n=qa(n),n.tag=3,n.payload={element:null},n.callback=function(){rc(e,t)},n}function oc(e){return e=qa(e),e.tag=3,e}function sc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ic(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){ic(t,n,r),typeof i!=`function`&&(su===null?su=new Set([this]):su.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function cc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&na(t,n,a,!0),n=so.current,n!==null){switch(n.tag){case 31:case 13:return co===null?ju():n.alternate===null&&Jl===0&&(Jl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Xu(e,r,a)),!1;case 22:return n.flags|=65536,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Xu(e,r,a)),!1}throw Error(i(435,n.tag))}return Xu(e,r,a),ju(),!1}if(Ri)return t=so.current,t===null?(r!==Vi&&(t=Error(i(423),{cause:r}),Ji(xi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=xi(r,n),a=ac(e.stateNode,r,a),Xa(e,a),Jl!==4&&(Jl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Vi&&(e=Error(i(422),{cause:r}),Ji(xi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=xi(o,n),eu===null?eu=[o]:eu.push(o),Jl!==4&&(Jl=2),t===null)return!0;r=xi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ac(n.stateNode,r,e),Xa(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(su===null||!su.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=oc(a),sc(a,e,n,r),Xa(n,a),!1}n=n.return}while(n!==null);return!1}var lc=Error(i(461)),uc=!1;function dc(e,t,n,r){t.child=e===null?Ua(t,null,n,r):Ha(t,e.child,n,r)}function fc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ia(t),r=ko(e,t,n,o,a,i),s=No(),e!==null&&!uc?(Po(e,t,i),L(e,t,i)):(Ri&&s&&Ni(t),t.flags|=1,dc(e,t,r,i),t.child)}function pc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!fi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,mc(e,t,a,r,i)):(e=hi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ic(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Dr:n,n(o,r)&&e.ref===t.ref)return L(e,t,i)}return t.flags|=1,e=pi(a,r),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Dr(a,r)&&e.ref===t.ref)if(uc=!1,t.pendingProps=r=a,Ic(e,i))e.flags&131072&&(uc=!0);else return t.lanes=e.lanes,L(e,t,i)}return Sc(e,t,n,r,i)}function hc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return _c(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wa(t,a===null?null:a.cachePool),a===null?ao():io(t,a),fo(t);else return r=t.lanes=536870912,_c(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&wa(t,null),ao(),po(t)):(wa(t,a.cachePool),io(t,a),po(t),t.memoizedState=null);return dc(e,t,i,n),t.child}function gc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _c(e,t,n,r,i){var a=Ca();return a=a===null?null:{parent:da._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&wa(t,null),ao(),fo(t),e!==null&&na(e,t,r,!0),t.childLanes=i,null}function vc(e,t){return t=jc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function yc(e,t,n){return Ha(t,e.child,null,n),e=vc(t,t.pendingProps),e.flags|=2,mo(t),t.memoizedState=null,e}function bc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Ri){if(r.mode===`hidden`)return e=vc(t,r),t.lanes=536870912,gc(null,e);if(uo(t),(e=Li)?(e=uf(e,Bi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Hi(t);return t.lanes=536870912,null}return vc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(uo(t),a)if(t.flags&256)t.flags&=-257,t=yc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(uc||na(e,t,n,!1),a=(n&e.childLanes)!==0,uc||a){if(r=Vl,r!==null&&(s=ot(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,oi(e,s),yu(r,e,s),lc;ju(),t=yc(e,t,n)}else e=o.treeContext,Li=mf(s.nextSibling),Ii=t,Ri=!0,zi=null,Bi=!1,e!==null&&Fi(t,e),t=vc(t,r),t.flags|=4096;return t}return e=pi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Sc(e,t,n,r,i){return ia(t),n=ko(e,t,n,r,void 0,i),r=No(),e!==null&&!uc?(Po(e,t,i),L(e,t,i)):(Ri&&r&&Ni(t),t.flags|=1,dc(e,t,n,i),t.child)}function Cc(e,t,n,r,i,a){return ia(t),t.updateQueue=null,n=jo(t,r,n,i),Ao(e),r=No(),e!==null&&!uc?(Po(e,t,a),L(e,t,a)):(Ri&&r&&Ni(t),t.flags|=1,dc(e,t,n,a),t.child)}function wc(e,t,n,r,i){if(ia(t),t.stateNode===null){var a=li,o=n.contextType;typeof o==`object`&&o&&(a=aa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ga(t),o=n.contextType,a.context=typeof o==`object`&&o?aa(o):li,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Ys(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Xs.enqueueReplaceState(a,a.state,null),$a(t,r,a,i),Qa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=$s(n,s);a.props=c;var l=a.context,u=n.contextType;o=li,typeof u==`object`&&u&&(o=aa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Qs(t,a,r,o),Wa=!1;var f=t.memoizedState;a.state=f,$a(t,r,a,i),Qa(),l=t.memoizedState,s||f!==l||Wa?(typeof d==`function`&&(Ys(t,n,d,r),l=t.memoizedState),(c=Wa||Zs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ka(e,t),o=t.memoizedProps,u=$s(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=li,typeof l==`object`&&l&&(c=aa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Qs(t,a,r,c),Wa=!1,f=t.memoizedState,a.state=f,$a(t,r,a,i),Qa();var p=t.memoizedState;o!==d||f!==p||Wa||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof s==`function`&&(Ys(t,n,s,r),p=t.memoizedState),(u=Wa||Zs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,xc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ha(t,e.child,null,i),t.child=Ha(t,null,n,i)):dc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=L(e,t,i),e}function Tc(e,t,n,r){return Ki(),t.flags|=256,dc(e,t,n,r),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:Ta()}}function Oc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Ql),e}function kc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ho.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Ri){if(a?lo(t):po(t),(e=Li)?(e=uf(e,Bi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Hi(t);return ff(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(po(t),a=t.mode,c=jc({mode:`hidden`,children:c},a),r=gi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Dc(n),r.childLanes=Oc(e,s,n),t.memoizedState=Ec,gc(null,r)):(lo(t),Ac(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(lo(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState===null?(po(t),c=r.fallback,a=t.mode,r=jc({mode:`visible`,children:r.children},a),c=gi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ha(t,e.child,null,n),r=t.child,r.memoizedState=Dc(n),r.childLanes=Oc(e,s,n),t.memoizedState=Ec,t=gc(null,r)):(po(t),t.child=e.child,t.flags|=128,t=null);else if(lo(t),ff(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ji({value:r,source:null,stack:null}),t=Mc(e,t,n)}else if(uc||na(e,t,n,!1),s=(n&e.childLanes)!==0,uc||s){if(s=Vl,s!==null&&(r=ot(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,oi(e,r),yu(s,e,r),lc;df(c)||ju(),t=Mc(e,t,n)}else df(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Li=mf(c.nextSibling),Ii=t,Ri=!0,zi=null,Bi=!1,e!==null&&Fi(t,e),t=Ac(t,r.children),t.flags|=4096);return t}return a?(po(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=pi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=gi(c,a,n,null),c.flags|=2):c=pi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,gc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Dc(n):(a=c.cachePool,a===null?a=Ta():(l=da._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Oc(e,s,n),t.memoizedState=Ec,gc(e.child,r)):(lo(t),n=e.child,e=n.sibling,n=pi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Ac(e,t){return t=jc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function jc(e,t){return e=di(22,e,null,t),e.lanes=0,e}function Mc(e,t,n){return Ha(t,e.child,null,n),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function Pc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Fc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ho.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,A(ho,o),dc(e,t,r,n),r=Ri?Ti:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nc(e,n,t);else if(e.tag===19)Nc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&go(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&go(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pc(t,!0,n,null,a,r);break;case`together`:Pc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function L(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ic(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ra(e))):!0}function Lc(e,t,n){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Qi(t,da,e.memoizedState.cache),Ki();break;case 27:case 5:ye(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Qi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(lo(t),e=L(e,t,n),e===null?null:e.sibling):kc(e,t,n):(lo(t),t.flags|=128,null);lo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(na(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Fc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),A(ho,ho.current),r)break;return null;case 22:return t.lanes=0,hc(e,t,n,t.pendingProps);case 24:Qi(t,da,e.memoizedState.cache)}return L(e,t,n)}function Rc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)uc=!0;else{if(!Ic(e,n)&&!(t.flags&128))return uc=!1,Lc(e,t,n);uc=!!(e.flags&131072)}else uc=!1,Ri&&t.flags&1048576&&Mi(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ma(t.elementType),t.type=e,typeof e==`function`)fi(e)?(r=$s(e,r),t.tag=1,t=wc(null,t,e,r,n)):(t.tag=0,t=Sc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=fc(null,t,e,r,n);break a}else if(a===E){t.tag=14,t=pc(null,t,e,r,n);break a}}throw t=oe(e)||e,Error(i(306,t,``))}}return t;case 0:return Sc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=$s(r,t.pendingProps),wc(e,t,r,a,n);case 3:a:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ka(e,t),$a(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Qi(t,da,r),r!==o.cache&&ta(t,[da],n,!0),Qa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Tc(e,t,r,n);break a}else if(r!==a){a=xi(Error(i(424)),t),Ji(a),t=Tc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Li=mf(e.firstChild),Ii=t,Ri=!0,zi=null,Bi=!0,n=Ua(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){t=L(e,t,n);break a}dc(e,t,r,n)}t=t.child}return t;case 26:return xc(e,t),e===null?(n=Pf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ri||(n=t.type,e=t.pendingProps,r=Kd(he.current).createElement(n),r[ft]=t,r[pt]=e,Bd(r,n,e),Tt(r),t.stateNode=r):t.memoizedState=Pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ye(t),e===null&&Ri&&(r=t.stateNode=vf(t.type,t.pendingProps,he.current),Ii=t,Bi=!0,a=Li,rf(t.type)?(hf=a,Li=mf(r.firstChild)):Li=a),dc(e,t,t.pendingProps.children,n),xc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ri&&((a=r=Li)&&(r=cf(r,t.type,t.pendingProps,Bi),r===null?a=!1:(t.stateNode=r,Ii=t,Li=mf(r.firstChild),Bi=!1,a=!0)),a||Hi(t)),ye(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Yd(a,o)?r=null:s!==null&&Yd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=ko(e,t,Mo,null,null,n),rp._currentValue=a),xc(e,t),dc(e,t,r,n),t.child;case 6:return e===null&&Ri&&((e=n=Li)&&(n=lf(n,t.pendingProps,Bi),n===null?e=!1:(t.stateNode=n,Ii=t,Li=null,e=!0)),e||Hi(t)),null;case 13:return kc(e,t,n);case 4:return _e(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ha(t,null,r,n):dc(e,t,r,n),t.child;case 11:return fc(e,t,t.type,t.pendingProps,n);case 7:return dc(e,t,t.pendingProps,n),t.child;case 8:return dc(e,t,t.pendingProps.children,n),t.child;case 12:return dc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Qi(t,t.type,r.value),dc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ia(t),a=aa(a),r=r(a),t.flags|=1,dc(e,t,r,n),t.child;case 14:return pc(e,t,t.type,t.pendingProps,n);case 15:return mc(e,t,t.type,t.pendingProps,n);case 19:return Fc(e,t,n);case 31:return bc(e,t,n);case 22:return hc(e,t,n,t.pendingProps);case 24:return ia(t),r=aa(da),e===null?(a=Ca(),a===null&&(a=Vl,o=fa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ga(t),Qi(t,da,a)):((e.lanes&n)!==0&&(Ka(e,t),$a(t,null,null,n),Qa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Qi(t,da,r),r!==a.cache&&ta(t,[da],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Qi(t,da,r))),dc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function R(e){e.flags|=4}function zc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Ou())e.flags|=8192;else throw Na=ka,Da}else e.flags&=-16777217}function Bc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Yf(t))if(Ou())e.flags|=8192;else throw Na=ka,Da}function z(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:tt(),e.lanes|=t,$l|=t)}function B(e,t){if(!Ri)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function V(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vc(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return V(t),null;case 1:return V(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$i(da),ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?R(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi())),V(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(R(t),o===null?(V(t),zc(t,a,null,r,n)):(V(t),Bc(t,o))):o?o===e.memoizedState?(V(t),t.flags&=-16777217):(R(t),V(t),Bc(t,o)):(e=e.memoizedProps,e!==r&&R(t),V(t),zc(t,a,e,r,n)),null;case 27:if(be(t),n=he.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&R(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return V(t),null}e=pe.current,Gi(t)?Ui(t,e):(e=vf(a,r,n),t.stateNode=e,R(t))}return V(t),null;case 5:if(be(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&R(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return V(t),null}if(o=pe.current,Gi(t))Ui(t,o);else{var s=Kd(he.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ft]=t,o[pt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Bd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&R(t)}}return V(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&R(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=he.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ii,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Rd(e.nodeValue,n)),e||Hi(t,!0)}else e=Kd(e).createTextNode(r),e[ft]=t,t.stateNode=e}return V(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Gi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ft]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;V(t),e=!1}else n=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mo(t),t):(mo(t),null);if(t.flags&128)throw Error(i(558))}return V(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ft]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;V(t),a=!1}else a=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(mo(t),t):(mo(t),null)}return mo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),z(t,t.updateQueue),V(t),null);case 4:return ve(),e===null&&Od(t.stateNode.containerInfo),V(t),null;case 10:return $i(t.type),V(t),null;case 19:if(fe(ho),r=t.memoizedState,r===null)return V(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)B(r,!1);else{if(Jl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=go(e),o!==null){for(t.flags|=128,B(r,!1),e=o.updateQueue,t.updateQueue=e,z(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mi(n,e),n=n.sibling;return A(ho,ho.current&1|2),Ri&&ji(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ne()>au&&(t.flags|=128,a=!0,B(r,!1),t.lanes=4194304)}else{if(!a)if(e=go(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,z(t,e),B(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Ri)return V(t),null}else 2*Ne()-r.renderingStartTime>au&&n!==536870912&&(t.flags|=128,a=!0,B(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(V(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ne(),e.sibling=null,n=ho.current,A(ho,a?n&1|2:n&1),Ri&&ji(t,r.treeForkCount),e);case 22:case 23:return mo(t),oo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(V(t),t.subtreeFlags&6&&(t.flags|=8192)):V(t),n=t.updateQueue,n!==null&&z(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&fe(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$i(da),V(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Hc(e,t){switch(Pi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(da),ve(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return be(t),null;case 31:if(t.memoizedState!==null){if(mo(t),t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ho),null;case 4:return ve(),null;case 10:return $i(t.type),null;case 22:case 23:return mo(t),oo(),e!==null&&fe(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $i(da),null;case 25:return null;default:return null}}function Uc(e,t){switch(Pi(t),t.tag){case 3:$i(da),ve();break;case 26:case 27:case 5:be(t);break;case 4:ve();break;case 31:t.memoizedState!==null&&mo(t);break;case 13:mo(t);break;case 19:fe(ho);break;case 10:$i(t.type);break;case 22:case 23:mo(t),oo(),e!==null&&fe(Sa);break;case 24:$i(da)}}function Wc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Yu(t,t.return,e)}}function Gc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Yu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Yu(t,t.return,e)}}function Kc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{to(t,n)}catch(t){Yu(e,e.return,t)}}}function qc(e,t,n){n.props=$s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Yu(e,t,n)}}function Jc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Yu(e,t,n)}}function Yc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Yu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Yu(e,t,n)}else n.current=null}function Xc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Yu(e,e.return,t)}}function Zc(e,t,n){try{var r=e.stateNode;Vd(r,e.type,n,t),r[pt]=t}catch(t){Yu(e,e.return,t)}}function Qc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rf(e.type)||e.tag===4}function $c(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Qc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rn));else if(r!==4&&(r===27&&rf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&rf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Bd(t,r,n),t[ft]=e,t[pt]=n}catch(t){Yu(e,e.return,t)}}var rl=!1,il=!1,al=!1,ol=typeof WeakSet==`function`?WeakSet:Set,sl=null;function cl(e,t){if(e=e.containerInfo,Wd=fp,e=jr(e),Mr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Gd={focusedElem:e,selectionRange:n},fp=!1,sl=t;sl!==null;)if(t=sl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,sl=e;else for(;sl!==null;){switch(t=sl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=$s(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Yu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)sf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:sf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,sl=e;break}sl=t.return}}function H(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&Wc(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Yu(n,n.return,e)}else{var i=$s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Yu(n,n.return,e)}}r&64&&Kc(n),r&512&&Jc(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{to(e,t)}catch(e){Yu(n,n.return,e)}}break;case 27:t===null&&r&4&&nl(n);case 26:case 5:Sl(e,n),t===null&&r&4&&Xc(n),r&512&&Jc(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),r&4&&ml(e,n);break;case 13:Sl(e,n),r&4&&hl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$u.bind(null,n),pf(e,n))));break;case 22:if(r=n.memoizedState!==null||rl,!r){t=t!==null&&t.memoizedState!==null||il,i=rl;var a=il;rl=r,(il=t)&&!a?wl(e,n,(n.subtreeFlags&8772)!=0):Sl(e,n),rl=i,il=a}break;case 30:break;default:Sl(e,n)}}function ll(e){var t=e.alternate;t!==null&&(e.alternate=null,ll(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;n!==null;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(Ue&&typeof Ue.onCommitFiberUnmount==`function`)try{Ue.onCommitFiberUnmount(He,n)}catch{}switch(n.tag){case 26:il||Yc(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:il||Yc(n,t);var r=ul,i=dl;rf(n.type)&&(ul=n.stateNode,dl=!1),fl(e,t,n),yf(n.stateNode),ul=r,dl=i;break;case 5:il||Yc(n,t);case 6:if(r=ul,i=dl,ul=null,fl(e,t,n),ul=r,dl=i,ul!==null)if(dl)try{(ul.nodeType===9?ul.body:ul.nodeName===`HTML`?ul.ownerDocument.body:ul).removeChild(n.stateNode)}catch(e){Yu(n,t,e)}else try{ul.removeChild(n.stateNode)}catch(e){Yu(n,t,e)}break;case 18:ul!==null&&(dl?(e=ul,af(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Rp(e)):af(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:Gc(2,n,t),il||Gc(4,n,t),fl(e,t,n);break;case 1:il||(Yc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&qc(n,t,r)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:il=(r=il)||n.memoizedState!==null,fl(e,t,n),il=r;break;default:fl(e,t,n)}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rp(e)}catch(e){Yu(t,t.return,e)}}}function hl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rp(e)}catch(e){Yu(t,t.return,e)}}function gl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ol),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ol),t;default:throw Error(i(435,e.tag))}}function _l(e,t){var n=gl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ed.bind(null,e,t);t.then(r,r)}})}function vl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(rf(c.type)){ul=c.stateNode,dl=!1;break a}break;case 5:ul=c.stateNode,dl=!1;break a;case 3:case 4:ul=c.stateNode.containerInfo,dl=!0;break a}c=c.return}if(ul===null)throw Error(i(160));pl(o,s,a),ul=null,dl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bl(t,e),t=t.sibling}var yl=null;function bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vl(t,e),U(e),r&4&&(Gc(3,e,e.return),Wc(3,e),Gc(5,e,e.return));break;case 1:vl(t,e),U(e),r&512&&(il||n===null||Yc(n,n.return)),r&64&&rl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=yl;if(vl(t,e),U(e),r&512&&(il||n===null||Yc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[yt]||o[ft]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Bd(o,r,n),o[ft]=e,Tt(o),r=o;break a;case`link`:var s=Kf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Bd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Kf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Bd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ft]=e,Tt(o),r=o}e.stateNode=r}else qf(a,e.type,e.stateNode);else e.stateNode=Vf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?qf(a,e.type,e.stateNode):Vf(a,r,e.memoizedProps))}break;case 27:vl(t,e),U(e),r&512&&(il||n===null||Yc(n,n.return)),n!==null&&r&4&&Zc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(vl(t,e),U(e),r&512&&(il||n===null||Yc(n,n.return)),e.flags&32){a=e.stateNode;try{Yt(a,``)}catch(t){Yu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Zc(e,a,n===null?a:n.memoizedProps)),r&1024&&(al=!0);break;case 6:if(vl(t,e),U(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Yu(e,e.return,t)}}break;case 3:if(Gf=null,a=yl,yl=Sf(t.containerInfo),vl(t,e),yl=a,U(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rp(t.containerInfo)}catch(t){Yu(e,e.return,t)}al&&(al=!1,xl(e));break;case 4:r=yl,yl=Sf(e.stateNode.containerInfo),vl(t,e),U(e),yl=r;break;case 12:vl(t,e),U(e);break;case 31:vl(t,e),U(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 13:vl(t,e),U(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ru=Ne()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=rl,d=il;if(rl=u||a,il=d||l,vl(t,e),il=d,rl=u,U(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||rl||il||Cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Yu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Yu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?of(m,!0):of(l.stateNode,!1)}catch(e){Yu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,_l(e,n))));break;case 19:vl(t,e),U(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,_l(e,r)));break;case 30:break;case 21:break;default:vl(t,e),U(e)}}function U(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Qc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;tl(e,$c(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Yt(o,``),n.flags&=-33),tl(e,$c(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;el(e,$c(e),s);break;default:throw Error(i(161))}}catch(t){Yu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)H(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gc(4,t,t.return),Cl(t);break;case 1:Yc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&qc(t,t.return,n),Cl(t);break;case 27:yf(t.stateNode);case 26:case 5:Yc(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wl(i,a,n),Wc(4,a);break;case 1:if(wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Yu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)eo(c[i],s)}catch(e){Yu(r,r.return,e)}}n&&o&64&&Kc(a),Jc(a,a.return);break;case 27:nl(a);case 26:case 5:wl(i,a,n),n&&r===null&&o&4&&Xc(a),Jc(a,a.return);break;case 12:wl(i,a,n);break;case 31:wl(i,a,n),n&&o&4&&ml(i,a);break;case 13:wl(i,a,n),n&&o&4&&hl(i,a);break;case 22:a.memoizedState===null&&wl(i,a,n),Jc(a,a.return);break;case 30:break;default:wl(i,a,n)}t=t.sibling}}function Tl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&pa(n))}function El(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e))}function Dl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ol(e,t,n,r),t=t.sibling}function Ol(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,n,r),i&2048&&Wc(9,t);break;case 1:Dl(e,t,n,r);break;case 3:Dl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e)));break;case 12:if(i&2048){Dl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Yu(t,t.return,e)}}else Dl(e,t,n,r);break;case 31:Dl(e,t,n,r);break;case 13:Dl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Dl(e,t,n,r):(a._visibility|=2,kl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Dl(e,t,n,r):W(e,t),i&2048&&Tl(o,t);break;case 24:Dl(e,t,n,r),i&2048&&El(t.alternate,t);break;default:Dl(e,t,n,r)}}function kl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:kl(a,o,s,c,i),Wc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,kl(a,o,s,c,i)):u._visibility&2?kl(a,o,s,c,i):W(a,o),i&&l&2048&&Tl(o.alternate,o);break;case 24:kl(a,o,s,c,i),i&&l&2048&&El(o.alternate,o);break;default:kl(a,o,s,c,i)}t=t.sibling}}function W(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:W(n,r),i&2048&&Tl(r.alternate,r);break;case 24:W(n,r),i&2048&&El(r.alternate,r);break;default:W(n,r)}t=t.sibling}}var Al=8192;function jl(e,t,n){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)Ml(e,t,n),e=e.sibling}function Ml(e,t,n){switch(e.tag){case 26:jl(e,t,n),e.flags&Al&&e.memoizedState!==null&&Xf(n,yl,e.memoizedState,e.memoizedProps);break;case 5:jl(e,t,n);break;case 3:case 4:var r=yl;yl=Sf(e.stateNode.containerInfo),jl(e,t,n),yl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,jl(e,t,n),Al=r):jl(e,t,n));break;default:jl(e,t,n)}}function Nl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];sl=r,Ll(r,e)}Nl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fl(e),e=e.sibling}function Fl(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&Gc(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Il(e)):Pl(e);break;default:Pl(e)}}function Il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];sl=r,Ll(r,e)}Nl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gc(8,t,t.return),Il(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Il(t));break;default:Il(t)}e=e.sibling}}function Ll(e,t){for(;sl!==null;){var n=sl;switch(n.tag){case 0:case 11:case 15:Gc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:pa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,sl=r;else a:for(n=e;sl!==null;){r=sl;var i=r.sibling,a=r.return;if(ll(r),r===n){sl=null;break a}if(i!==null){i.return=a,sl=i;break a}sl=a}}}var Rl={getCacheForType:function(e){var t=aa(da),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return aa(da).controller.signal}},zl=typeof WeakMap==`function`?WeakMap:Map,Bl=0,Vl=null,G=null,Hl=0,K=0,Ul=null,Wl=!1,Gl=!1,Kl=!1,ql=0,Jl=0,Yl=0,Xl=0,Zl=0,Ql=0,$l=0,eu=null,tu=null,nu=!1,ru=0,iu=0,au=1/0,ou=null,su=null,cu=0,lu=null,uu=null,du=0,fu=0,pu=null,mu=null,hu=0,gu=null;function _u(){return Bl&2&&Hl!==0?Hl&-Hl:O.T===null?lt():gd()}function vu(){if(Ql===0)if(!(Hl&536870912)||Ri){var e=Xe;Xe<<=1,!(Xe&3932160)&&(Xe=262144),Ql=e}else Ql=536870912;return e=so.current,e!==null&&(e.flags|=32),Ql}function yu(e,t,n){(e===Vl&&(K===2||K===9)||e.cancelPendingCommit!==null)&&(Eu(e,0),Cu(e,Hl,Ql,!1)),M(e,n),(!(Bl&2)||e!==Vl)&&(e===Vl&&(!(Bl&2)&&(Xl|=n),Jl===4&&Cu(e,Hl,Ql,!1)),cd(e))}function bu(e,t,n){if(Bl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||$e(e,t),a=r?Pu(e,t):Mu(e,t,!0),o=r;do{if(a===0){Gl&&!r&&Cu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Su(n)){a=Mu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=eu;var l=c.current.memoizedState.isDehydrated;if(l&&(Eu(c,s).flags|=256),s=Mu(c,s,!1),s!==2){if(Kl&&!l){c.errorRecoveryDisabledLanes|=o,Xl|=o,a=4;break a}o=tu,tu=a,o!==null&&(tu===null?tu=o:tu.push.apply(tu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Eu(e,0),Cu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Cu(r,t,Ql,!Wl);break a;case 2:tu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=ru+300-Ne(),10<a)){if(Cu(r,t,Ql,!Wl),Qe(r,0,!0)!==0)break a;du=t,r.timeoutHandle=Qd(xu.bind(null,r,n,tu,ou,nu,t,Ql,Xl,$l,Wl,o,`Throttled`,-0,0),a);break a}xu(r,n,tu,ou,nu,t,Ql,Xl,$l,Wl,o,null,-0,0)}}break}while(1);cd(e)}function xu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Ml(t,a,d);var m=(a&62914560)===a?ru-Ne():(a&4194048)===a?iu-Ne():0;if(m=Qf(d,m),m!==null){du=a,e.cancelPendingCommit=m(Vu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Cu(e,a,o,!l);return}}Vu(e,t,a,n,r,i,o,s,c)}function Su(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Er(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cu(e,t,n,r){t&=~Zl,t&=~Xl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ge(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&it(e,n,t)}function wu(){return Bl&6?!0:(ld(0,!1),!1)}function Tu(){if(G!==null){if(K===0)var e=G.return;else e=G,Zi=Xi=null,Fo(e),Ia=null,La=0,e=G;for(;e!==null;)Uc(e.alternate,e),e=e.return;G=null}}function Eu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$d(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),du=0,Tu(),Vl=e,G=n=pi(e.current,null),Hl=t,K=0,Ul=null,Wl=!1,Gl=$e(e,t),Kl=!1,$l=Ql=Zl=Xl=Yl=Jl=0,tu=eu=null,nu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ge(r),a=1<<i;t|=e[i],r&=~a}return ql=t,ri(),n}function Du(e,t){I=null,O.H=Gs,t===Ea||t===Oa?(t=Pa(),K=3):t===Da?(t=Pa(),K=4):K=t===lc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Ul=t,G===null&&(Jl=1,rc(e,xi(t,e.current)))}function Ou(){var e=so.current;return e===null?!0:(Hl&4194048)===Hl?co===null:(Hl&62914560)===Hl||Hl&536870912?e===co:!1}function ku(){var e=O.H;return O.H=Gs,e===null?Gs:e}function Au(){var e=O.A;return O.A=Rl,e}function ju(){Jl=4,Wl||(Hl&4194048)!==Hl&&so.current!==null||(Gl=!0),!(Yl&134217727)&&!(Xl&134217727)||Vl===null||Cu(Vl,Hl,Ql,!1)}function Mu(e,t,n){var r=Bl;Bl|=2;var i=ku(),a=Au();(Vl!==e||Hl!==t)&&(ou=null,Eu(e,t)),t=!1;var o=Jl;a:do try{if(K!==0&&G!==null){var s=G,c=Ul;switch(K){case 8:Tu(),o=6;break a;case 3:case 2:case 9:case 6:so.current===null&&(t=!0);var l=K;if(K=0,Ul=null,Ru(e,s,c,l),n&&Gl){o=0;break a}break;default:l=K,K=0,Ul=null,Ru(e,s,c,l)}}Nu(),o=Jl;break}catch(t){Du(e,t)}while(1);return t&&e.shellSuspendCounter++,Zi=Xi=null,Bl=r,O.H=i,O.A=a,G===null&&(Vl=null,Hl=0,ri()),o}function Nu(){for(;G!==null;)Iu(G)}function Pu(e,t){var n=Bl;Bl|=2;var r=ku(),a=Au();Vl!==e||Hl!==t?(ou=null,au=Ne()+500,Eu(e,t)):Gl=$e(e,t);a:do try{if(K!==0&&G!==null){t=G;var o=Ul;b:switch(K){case 1:K=0,Ul=null,Ru(e,t,o,1);break;case 2:case 9:if(Aa(o)){K=0,Ul=null,Lu(t);break}t=function(){K!==2&&K!==9||Vl!==e||(K=7),cd(e)},o.then(t,t);break a;case 3:K=7;break a;case 4:K=5;break a;case 7:Aa(o)?(K=0,Ul=null,Lu(t)):(K=0,Ul=null,Ru(e,t,o,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var c=G;if(s?Yf(s):c.stateNode.complete){K=0,Ul=null;var l=c.sibling;if(l!==null)G=l;else{var u=c.return;u===null?G=null:(G=u,zu(u))}break b}}K=0,Ul=null,Ru(e,t,o,5);break;case 6:K=0,Ul=null,Ru(e,t,o,6);break;case 8:Tu(),Jl=6;break a;default:throw Error(i(462))}}Fu();break}catch(t){Du(e,t)}while(1);return Zi=Xi=null,O.H=r,O.A=a,Bl=n,G===null?(Vl=null,Hl=0,ri(),Jl):0}function Fu(){for(;G!==null&&!je();)Iu(G)}function Iu(e){var t=Rc(e.alternate,e,ql);e.memoizedProps=e.pendingProps,t===null?zu(e):G=t}function Lu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Cc(n,t,t.pendingProps,t.type,void 0,Hl);break;case 11:t=Cc(n,t,t.pendingProps,t.type.render,t.ref,Hl);break;case 5:Fo(t);default:Uc(n,t),t=G=mi(t,ql),t=Rc(n,t,ql)}e.memoizedProps=e.pendingProps,t===null?zu(e):G=t}function Ru(e,t,n,r){Zi=Xi=null,Fo(t),Ia=null,La=0;var i=t.return;try{if(cc(e,i,t,n,Hl)){Jl=1,rc(e,xi(n,e.current)),G=null;return}}catch(t){if(i!==null)throw G=i,t;Jl=1,rc(e,xi(n,e.current)),G=null;return}t.flags&32768?(Ri||r===1?e=!0:Gl||Hl&536870912?e=!1:(Wl=e=!0,(r===2||r===9||r===3||r===6)&&(r=so.current,r!==null&&r.tag===13&&(r.flags|=16384))),Bu(t,e)):zu(t)}function zu(e){var t=e;do{if(t.flags&32768){Bu(t,Wl);return}e=t.return;var n=Vc(t.alternate,t,ql);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);Jl===0&&(Jl=5)}function Bu(e,t){do{var n=Hc(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);Jl=6,G=null}function Vu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Ku();while(cu!==0);if(Bl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ni,rt(e,n,o,s,c,l),e===Vl&&(G=Vl=null,Hl=0),uu=t,lu=e,du=n,fu=o,pu=a,mu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,td(Le,function(){return qu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=O.T,O.T=null,a=k.p,k.p=2,s=Bl,Bl|=4;try{cl(e,t,n)}finally{Bl=s,k.p=a,O.T=r}}cu=1,Hu(),Uu(),Wu()}}function Hu(){if(cu===1){cu=0;var e=lu,t=uu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=O.T,O.T=null;var r=k.p;k.p=2;var i=Bl;Bl|=4;try{bl(t,e);var a=Gd,o=jr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ar(s.ownerDocument.documentElement,s)){if(c!==null&&Mr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=kr(s,h),v=kr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}fp=!!Wd,Gd=Wd=null}finally{Bl=i,k.p=r,O.T=n}}e.current=t,cu=2}}function Uu(){if(cu===2){cu=0;var e=lu,t=uu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=O.T,O.T=null;var r=k.p;k.p=2;var i=Bl;Bl|=4;try{H(e,t.alternate,t)}finally{Bl=i,k.p=r,O.T=n}}cu=3}}function Wu(){if(cu===4||cu===3){cu=0,Me();var e=lu,t=uu,n=du,r=mu;t.subtreeFlags&10256||t.flags&10256?cu=5:(cu=0,uu=lu=null,Gu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(su=null),ct(n),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot==`function`)try{Ue.onCommitFiberRoot(He,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=O.T,i=k.p,k.p=2,O.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{O.T=t,k.p=i}}du&3&&Ku(),cd(e),i=e.pendingLanes,n&261930&&i&42?e===gu?hu++:(hu=0,gu=e):hu=0,ld(0,!1)}}function Gu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pa(t)))}function Ku(){return Hu(),Uu(),Wu(),qu()}function qu(){if(cu!==5)return!1;var e=lu,t=fu;fu=0;var n=ct(du),r=O.T,a=k.p;try{k.p=32>n?32:n,O.T=null,n=pu,pu=null;var o=lu,s=du;if(cu=0,uu=lu=null,du=0,Bl&6)throw Error(i(331));var c=Bl;if(Bl|=4,Fl(o.current),Ol(o,o.current,s,n),Bl=c,ld(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot==`function`)try{Ue.onPostCommitFiberRoot(He,o)}catch{}return!0}finally{k.p=a,O.T=r,Gu(e,t)}}function Ju(e,t,n){t=xi(n,t),t=ac(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(M(e,2),cd(e))}function Yu(e,t,n){if(e.tag===3)Ju(e,e,n);else for(;t!==null;){if(t.tag===3){Ju(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(su===null||!su.has(r))){e=xi(n,e),n=oc(2),r=Ja(t,n,2),r!==null&&(sc(n,r,t,e),M(r,2),cd(r));break}}t=t.return}}function Xu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Kl=!0,i.add(n),e=Zu.bind(null,e,t,n),t.then(e,e))}function Zu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vl===e&&(Hl&n)===n&&(Jl===4||Jl===3&&(Hl&62914560)===Hl&&300>Ne()-ru?!(Bl&2)&&Eu(e,0):Zl|=n,$l===Hl&&($l=0)),cd(e)}function Qu(e,t){t===0&&(t=tt()),e=oi(e,t),e!==null&&(M(e,t),cd(e))}function $u(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qu(e,n)}function ed(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Qu(e,n)}function td(e,t){return ke(e,t)}var nd=null,rd=null,id=!1,ad=!1,od=!1,sd=0;function cd(e){e!==rd&&e.next===null&&(rd===null?nd=rd=e:rd=rd.next=e),ad=!0,id||(id=!0,hd())}function ld(e,t){if(!od&&ad){od=!0;do for(var n=!1,r=nd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ge(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,md(r,a))}else a=Hl,a=Qe(r,r===Vl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||$e(r,a)||(n=!0,md(r,a));r=r.next}while(n);od=!1}}function ud(){dd()}function dd(){ad=id=!1;var e=0;sd!==0&&Zd()&&(e=sd);for(var t=Ne(),n=null,r=nd;r!==null;){var i=r.next,a=fd(r,t);a===0?(r.next=null,n===null?nd=i:n.next=i,i===null&&(rd=n)):(n=r,(e!==0||a&3)&&(ad=!0)),r=i}cu!==0&&cu!==5||ld(e,!1),sd!==0&&(sd=0)}function fd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ge(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=et(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Vl,n=Hl,n=Qe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(K===2||K===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ae(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ae(r),ct(n)){case 2:case 8:n=Ie;break;case 32:n=Le;break;case 268435456:n=ze;break;default:n=Le}return r=pd.bind(null,e),n=ke(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ae(r),e.callbackPriority=2,e.callbackNode=null,2}function pd(e,t){if(cu!==0&&cu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ku()&&e.callbackNode!==n)return null;var r=Hl;return r=Qe(e,e===Vl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(bu(e,r,t),fd(e,Ne()),e.callbackNode!=null&&e.callbackNode===n?pd.bind(null,e):null)}function md(e,t){if(Ku())return null;bu(e,t,!0)}function hd(){tf(function(){Bl&6?ke(Fe,ud):dd()})}function gd(){if(sd===0){var e=ga;e===0&&(e=Ye,Ye<<=1,!(Ye&261888)&&(Ye=256)),sd=e}return sd}function _d(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:nn(``+e)}function vd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=_d((i[pt]||null).action),o=r.submitter;o&&(t=(t=o[pt]||null)?_d(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Tn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(sd!==0){var e=o?vd(i,o):new FormData(i);js(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?vd(i,o):new FormData(i),js(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var bd=0;bd<Zr.length;bd++){var xd=Zr[bd];Qr(xd.toLowerCase(),`on`+(xd[0].toUpperCase()+xd.slice(1)))}Qr(Ur,`onAnimationEnd`),Qr(Wr,`onAnimationIteration`),Qr(Gr,`onAnimationStart`),Qr(`dblclick`,`onDoubleClick`),Qr(`focusin`,`onFocus`),Qr(`focusout`,`onBlur`),Qr(Kr,`onTransitionRun`),Qr(qr,`onTransitionStart`),Qr(Jr,`onTransitionCancel`),Qr(Yr,`onTransitionEnd`),kt(`onMouseEnter`,[`mouseout`,`mouseover`]),kt(`onMouseLeave`,[`mouseout`,`mouseover`]),kt(`onPointerEnter`,[`pointerout`,`pointerover`]),kt(`onPointerLeave`,[`pointerout`,`pointerover`]),Ot(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ot(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ot(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ot(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Sd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Cd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Sd));function wd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}}}}function Td(e,t){var n=t[ht];n===void 0&&(n=t[ht]=new Set);var r=e+`__bubble`;n.has(r)||(kd(t,e,2,!1),n.add(r))}function Ed(e,t,n){var r=0;t&&(r|=4),kd(n,e,r,t)}var Dd=`_reactListening`+Math.random().toString(36).slice(2);function Od(e){if(!e[Dd]){e[Dd]=!0,Et.forEach(function(t){t!==`selectionchange`&&(Cd.has(t)||Ed(t,!1,e),Ed(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dd]||(t[Dd]=!0,Ed(`selectionchange`,!1,t))}}function kd(e,t,n,r){switch(yp(t)){case 2:var i=pp;break;case 8:i=mp;break;default:i=hp}n=i.bind(null,t,n,e),i=void 0,!mn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ad(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=xt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}dn(function(){var r=a,i=on(n),s=[];a:{var c=Xr.get(e);if(c!==void 0){var l=Tn,u=e;switch(e){case`keypress`:if(bn(n)===0)break a;case`keydown`:case`keyup`:l=Un;break;case`focusin`:u=`focus`,l=Pn;break;case`focusout`:u=`blur`,l=Pn;break;case`beforeblur`:case`afterblur`:l=Pn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Mn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Nn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Gn;break;case Ur:case Wr:case Gr:l=Fn;break;case Yr:l=Kn;break;case`scroll`:case`scrollend`:l=Dn;break;case`wheel`:l=qn;break;case`copy`:case`cut`:case`paste`:l=In;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Wn;break;case`toggle`:case`beforetoggle`:l=Jn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=fn(m,p),g!=null&&d.push(jd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==an&&(u=n.relatedTarget||n.fromElement)&&(xt(u)||u[mt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?xt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Mn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Wn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ct(l),h=u==null?c:Ct(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,xt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Nd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Pd(s,c,l,d,!1),u!==null&&f!==null&&Pd(s,f,u,d,!0)}}a:{if(c=r?Ct(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=mr;else if(cr(c))if(hr)v=wr;else{v=Sr;var y=xr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&$t(r.elementType)&&(v=mr):v=Cr;if(v&&=v(e,r)){lr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Gt(c,`number`,c.value)}switch(y=r?Ct(r):window,e){case`focusin`:(cr(y)||y.contentEditable===`true`)&&(Pr=y,Fr=r,F=null);break;case`focusout`:F=Fr=Pr=null;break;case`mousedown`:Ir=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ir=!1,Lr(s,n,i);break;case`selectionchange`:if(Nr)break;case`keydown`:case`keyup`:Lr(s,n,i)}var b;if(Xn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else ir?nr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&($n&&n.locale!==`ko`&&(ir||x!==`onCompositionStart`?x===`onCompositionEnd`&&ir&&(b=yn()):(gn=i,_n=`value`in gn?gn.value:gn.textContent,ir=!0)),y=Md(r,x),0<y.length&&(x=new Ln(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=rr(n),b!==null&&(x.data=b)))),(b=Qn?ar(e,n):or(e,n))&&(x=Md(r,`onBeforeInput`),0<x.length&&(y=new Ln(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),yd(s,e,r,n,i)}wd(s,t)})}function jd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Md(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=fn(e,n),i!=null&&r.unshift(jd(e,i,a)),i=fn(e,t),i!=null&&r.push(jd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=fn(n,a),l!=null&&o.unshift(jd(n,l,c))):i||(l=fn(n,a),l!=null&&o.push(jd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Fd=/\r\n?/g,Id=/\u0000|\uFFFD/g;function Ld(e){return(typeof e==`string`?e:``+e).replace(Fd,`
`).replace(Id,``)}function Rd(e,t){return t=Ld(t),Ld(e)===t}function q(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Yt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Yt(e,``+r);break;case`className`:Ft(e,`class`,r);break;case`tabIndex`:Ft(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ft(e,n,r);break;case`style`:Qt(e,r,o);break;case`data`:if(t!==`object`){Ft(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=nn(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&q(e,t,`name`,a.name,a,null),q(e,t,`formEncType`,a.formEncType,a,null),q(e,t,`formMethod`,a.formMethod,a,null),q(e,t,`formTarget`,a.formTarget,a,null)):(q(e,t,`encType`,a.encType,a,null),q(e,t,`method`,a.method,a,null),q(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=nn(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=rn);break;case`onScroll`:r!=null&&Td(`scroll`,e);break;case`onScrollEnd`:r!=null&&Td(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=nn(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Td(`beforetoggle`,e),Td(`toggle`,e),Pt(e,`popover`,r);break;case`xlinkActuate`:It(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:It(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:It(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:It(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Pt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=en.get(n)||n,Pt(e,n,r))}}function zd(e,t,n,r,a,o){switch(n){case`style`:Qt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Yt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Yt(e,``+r);break;case`onScroll`:r!=null&&Td(`scroll`,e);break;case`onScrollEnd`:r!=null&&Td(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=rn);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[pt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Pt(e,n,r)}}}function Bd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Td(`error`,e),Td(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:q(e,t,o,s,n,null)}}a&&q(e,t,`srcSet`,n.srcSet,n,null),r&&q(e,t,`src`,n.src,n,null);return;case`input`:Td(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:q(e,t,r,d,n,null)}}Wt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Td(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:q(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Kt(e,!!r,n,!0):Kt(e,!!r,t,!1);return;case`textarea`:for(s in Td(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:q(e,t,s,c,n,null)}Jt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:q(e,t,l,r,n,null)}return;case`dialog`:Td(`beforetoggle`,e),Td(`toggle`,e),Td(`cancel`,e),Td(`close`,e);break;case`iframe`:case`object`:Td(`load`,e);break;case`video`:case`audio`:for(r=0;r<Sd.length;r++)Td(Sd[r],e);break;case`image`:Td(`error`,e),Td(`load`,e);break;case`details`:Td(`toggle`,e);break;case`embed`:case`source`:case`link`:Td(`error`,e),Td(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:q(e,t,u,r,n,null)}return;default:if($t(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&zd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&q(e,t,c,r,n,null))}function Vd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||q(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&q(e,t,p,m,r,f)}}Ut(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||q(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&q(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Kt(e,!!n,n?[]:``,!1):Kt(e,!!n,t,!0)):Kt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:q(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&q(e,t,s,a,r,o)}qt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:q(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:q(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&q(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:q(e,t,u,p,r,m)}return;default:if($t(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&zd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||zd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&q(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||q(e,t,f,p,r,m)}function Hd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Ud(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Hd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Hd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Wd=null,Gd=null;function Kd(e){return e.nodeType===9?e:e.ownerDocument}function qd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Jd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Yd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Zd(){var e=window.event;return e&&e.type===`popstate`?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var Qd=typeof setTimeout==`function`?setTimeout:void 0,$d=typeof clearTimeout==`function`?clearTimeout:void 0,ef=typeof Promise==`function`?Promise:void 0,tf=typeof queueMicrotask==`function`?queueMicrotask:ef===void 0?Qd:function(e){return ef.resolve(null).then(e).catch(nf)};function nf(e){setTimeout(function(){throw e})}function rf(e){return e===`head`}function af(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Rp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)yf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,yf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[yt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&yf(e.ownerDocument.body);n=i}while(n);Rp(t)}function of(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function sf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:sf(n),bt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function cf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(!r)if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;else if(!e[yt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}if(e=mf(e.nextSibling),e===null)break}return null}function lf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=mf(e.nextSibling),e===null))return null;return e}function uf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=mf(e.nextSibling),e===null))return null;return e}function df(e){return e.data===`$?`||e.data===`$~`}function ff(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function pf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function mf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var hf=null;function gf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return mf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function vf(e,t,n){switch(t=Kd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function yf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bt(e)}var bf=new Map,xf=new Set;function Sf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cf=k.d;k.d={f:wf,r:Tf,D:Df,C:Of,L:kf,m:Af,X:Mf,S:jf,M:Nf};function wf(){var e=Cf.f(),t=wu();return e||t}function Tf(e){var t=St(e);t!==null&&t.tag===5&&t.type===`form`?Ns(t):Cf.r(e)}var J=typeof document>`u`?null:document;function Ef(e,t,n){var r=J;if(r&&typeof t==`string`&&t){var i=Ht(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),xf.has(i)||(xf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Bd(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Df(e){Cf.D(e),Ef(`dns-prefetch`,e,null)}function Of(e,t){Cf.C(e,t),Ef(`preconnect`,e,t)}function kf(e,t,n){Cf.L(e,t,n);var r=J;if(r&&e&&t){var i=`link[rel="preload"][as="`+Ht(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Ht(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Ht(n.imageSizes)+`"]`)):i+=`[href="`+Ht(e)+`"]`;var a=i;switch(t){case`style`:a=Ff(e);break;case`script`:a=zf(e)}bf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),bf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(If(a))||t===`script`&&r.querySelector(Bf(a))||(t=r.createElement(`link`),Bd(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Af(e,t){Cf.m(e,t);var n=J;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Ht(r)+`"][href="`+Ht(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=zf(e)}if(!bf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),bf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Bf(a)))return}r=n.createElement(`link`),Bd(r,`link`,e),Tt(r),n.head.appendChild(r)}}}function jf(e,t,n){Cf.S(e,t,n);var r=J;if(r&&e){var i=wt(r).hoistableStyles,a=Ff(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(If(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=bf.get(a))&&Uf(e,n);var c=o=r.createElement(`link`);Tt(c),Bd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Hf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Mf(e,t){Cf.X(e,t);var n=J;if(n&&e){var r=wt(n).hoistableScripts,i=zf(e),a=r.get(i);a||(a=n.querySelector(Bf(i)),a||(e=h({src:e,async:!0},t),(t=bf.get(i))&&Wf(e,t),a=n.createElement(`script`),Tt(a),Bd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Nf(e,t){Cf.M(e,t);var n=J;if(n&&e){var r=wt(n).hoistableScripts,i=zf(e),a=r.get(i);a||(a=n.querySelector(Bf(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=bf.get(i))&&Wf(e,t),a=n.createElement(`script`),Tt(a),Bd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Pf(e,t,n,r){var a=(a=he.current)?Sf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Ff(n.href),n=wt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Ff(n.href);var o=wt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(If(e)))&&!o._p&&(s.instance=o,s.state.loading=5),bf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},bf.set(e,n),o||Rf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=zf(n),n=wt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ff(e){return`href="`+Ht(e)+`"`}function If(e){return`link[rel="stylesheet"][`+e+`]`}function Lf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Bd(t,`link`,n),Tt(t),e.head.appendChild(t))}function zf(e){return`[src="`+Ht(e)+`"]`}function Bf(e){return`script[async]`+e}function Vf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Ht(n.href)+`"]`);if(r)return t.instance=r,Tt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Tt(r),Bd(r,`style`,a),Hf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Ff(n.href);var o=e.querySelector(If(a));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;r=Lf(n),(a=bf.get(a))&&Uf(r,a),o=(e.ownerDocument||e).createElement(`link`),Tt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Bd(o,`link`,r),t.state.loading|=4,Hf(o,n.precedence,e),t.instance=o;case`script`:return o=zf(n.src),(a=e.querySelector(Bf(o)))?(t.instance=a,Tt(a),a):(r=n,(a=bf.get(o))&&(r=h({},n),Wf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Tt(a),Bd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Hf(r,n.precedence,e));return t.instance}function Hf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Wf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Gf=null;function Kf(e,t,n){if(Gf===null){var r=new Map,i=Gf=new Map;i.set(n,r)}else i=Gf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[yt]||a[ft]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function qf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Jf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Yf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Xf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Ff(r.href),a=t.querySelector(If(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=$f.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Tt(a);return}a=t.ownerDocument||t,r=Lf(r),(i=bf.get(i))&&Uf(r,i),a=a.createElement(`link`),Tt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Bd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=$f.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Zf=0;function Qf(e,t){return e.stylesheets&&e.count===0&&tp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&tp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Zf===0&&(Zf=62500*Ud());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Zf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function $f(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ep=null;function tp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ep=new Map,t.forEach(np,e),ep=null,$f.call(e))}function np(e,t){if(!(t.state.loading&4)){var n=ep.get(e);if(n)var r=n.get(null);else{n=new Map,ep.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=$f.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var rp={$$typeof:C,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function ip(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nt(0),this.hiddenUpdates=nt(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ap(e,t,n,r,i,a,o,s,c,l,u,d){return e=new ip(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=di(3,null,null,t),e.current=a,a.stateNode=e,t=fa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ga(a),e}function op(e){return e?(e=li,e):li}function sp(e,t,n,r,i,a){i=op(i),r.context===null?r.context=i:r.pendingContext=i,r=qa(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ja(e,r,t),n!==null&&(yu(n,e,t),Ya(n,e,t))}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lp(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function up(e){if(e.tag===13||e.tag===31){var t=oi(e,67108864);t!==null&&yu(t,e,67108864),lp(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var t=_u();t=st(t);var n=oi(e,t);n!==null&&yu(n,e,t),lp(e,t)}}var fp=!0;function pp(e,t,n,r){var i=O.T;O.T=null;var a=k.p;try{k.p=2,hp(e,t,n,r)}finally{k.p=a,O.T=i}}function mp(e,t,n,r){var i=O.T;O.T=null;var a=k.p;try{k.p=8,hp(e,t,n,r)}finally{k.p=a,O.T=i}}function hp(e,t,n,r){if(fp){var i=gp(r);if(i===null)Ad(e,t,r,_p,n),Op(e,r);else if(Ap(i,e,t,n,r))r.stopPropagation();else if(Op(e,r),t&4&&-1<Dp.indexOf(e)){for(;i!==null;){var a=St(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ze(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ge(o);s.entanglements[1]|=c,o&=~c}cd(a),!(Bl&6)&&(au=Ne()+500,ld(0,!1))}}break;case 31:case 13:s=oi(a,2),s!==null&&yu(s,a,2),wu(),lp(a,2)}if(a=gp(r),a===null&&Ad(e,t,r,_p,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ad(e,t,r,null,n)}}function gp(e){return e=on(e),vp(e)}var _p=null;function vp(e){if(_p=null,e=xt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _p=e,null}function yp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Pe()){case Fe:return 2;case Ie:return 8;case Le:case Re:return 32;case ze:return 268435456;default:return 32}default:return 32}}var bp=!1,xp=null,Sp=null,Cp=null,wp=new Map,Tp=new Map,Ep=[],Dp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Op(e,t){switch(e){case`focusin`:case`focusout`:xp=null;break;case`dragenter`:case`dragleave`:Sp=null;break;case`mouseover`:case`mouseout`:Cp=null;break;case`pointerover`:case`pointerout`:wp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Tp.delete(t.pointerId)}}function kp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=St(t),t!==null&&up(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ap(e,t,n,r,i){switch(t){case`focusin`:return xp=kp(xp,e,t,n,r,i),!0;case`dragenter`:return Sp=kp(Sp,e,t,n,r,i),!0;case`mouseover`:return Cp=kp(Cp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return wp.set(a,kp(wp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Tp.set(a,kp(Tp.get(a)||null,e,t,n,r,i)),!0}return!1}function jp(e){var t=xt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ut(e.priority,function(){dp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ut(e.priority,function(){dp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);an=r,n.target.dispatchEvent(r),an=null}else return t=St(n),t!==null&&up(t),e.blockedOn=n,!1;t.shift()}return!0}function Np(e,t,n){Mp(e)&&n.delete(t)}function Pp(){bp=!1,xp!==null&&Mp(xp)&&(xp=null),Sp!==null&&Mp(Sp)&&(Sp=null),Cp!==null&&Mp(Cp)&&(Cp=null),wp.forEach(Np),Tp.forEach(Np)}function Fp(e,n){e.blockedOn===n&&(e.blockedOn=null,bp||(bp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pp)))}var Ip=null;function Lp(e){Ip!==e&&(Ip=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ip===e&&(Ip=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(vp(r||n)===null)continue;break}var a=St(n);a!==null&&(e.splice(t,3),t-=3,js(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Rp(e){function t(t){return Fp(t,e)}xp!==null&&Fp(xp,e),Sp!==null&&Fp(Sp,e),Cp!==null&&Fp(Cp,e),wp.forEach(t),Tp.forEach(t);for(var n=0;n<Ep.length;n++){var r=Ep[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ep.length&&(n=Ep[0],n.blockedOn===null);)jp(n),n.blockedOn===null&&Ep.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[pt]||null;if(typeof a==`function`)o||Lp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[pt]||null)s=o.formAction;else if(vp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Lp(n)}}}function zp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Bp(e){this._internalRoot=e}Vp.prototype.render=Bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;sp(n,_u(),e,t,null,null)},Vp.prototype.unmount=Bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sp(e.current,2,null,e,null,null),wu(),t[mt]=null}};function Vp(e){this._internalRoot=e}Vp.prototype.unstable_scheduleHydration=function(e){if(e){var t=lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ep.length&&t!==0&&t<Ep[n].priority;n++);Ep.splice(n,0,e),n===0&&jp(e)}};var Hp=n.version;if(Hp!==`19.2.4`)throw Error(i(527,Hp,`19.2.4`));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Up={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:O,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{He=Wp.inject(Up),Ue=Wp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=ec,s=tc,c=nc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ap(e,1,!1,null,null,n,r,null,o,s,c,zp),e[mt]=t.current,Od(e),new Bp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u()),v=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),y=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),b=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),x=e=>{let t=b(e);return t.charAt(0).toUpperCase()+t.slice(1)},S={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},C=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0;return!1},w=(0,_.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,_.createElement)(`svg`,{ref:c,...S,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:v(`lucide`,i),...!a&&!C(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,_.createElement)(e,t)),...Array.isArray(a)?a:[a]])),T=(e,t)=>{let n=(0,_.forwardRef)(({className:n,...r},i)=>(0,_.createElement)(w,{ref:i,iconNode:t,className:v(`lucide-${y(x(e))}`,`lucide-${e}`,n),...r}));return n.displayName=x(e),n},ee=T(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),E=T(`ban`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M4.929 4.929 19.07 19.071`,key:`196cmz`}]]),te=T(`bug`,[[`path`,{d:`M12 20v-9`,key:`1qisl0`}],[`path`,{d:`M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z`,key:`uouzyp`}],[`path`,{d:`M14.12 3.88 16 2`,key:`qol33r`}],[`path`,{d:`M21 21a4 4 0 0 0-3.81-4`,key:`1b0z45`}],[`path`,{d:`M21 5a4 4 0 0 1-3.55 3.97`,key:`5cxbf6`}],[`path`,{d:`M22 13h-4`,key:`1jl80f`}],[`path`,{d:`M3 21a4 4 0 0 1 3.81-4`,key:`1fjd4g`}],[`path`,{d:`M3 5a4 4 0 0 0 3.55 3.97`,key:`1d7oge`}],[`path`,{d:`M6 13H2`,key:`82j7cp`}],[`path`,{d:`m8 2 1.88 1.88`,key:`fmnt4t`}],[`path`,{d:`M9 7.13V6a3 3 0 1 1 6 0v1.13`,key:`1vgav8`}]]),ne=T(`calendar-days`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M16 18h.01`,key:`kzsmim`}]]),D=T(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),re=T(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),ie=T(`coins`,[[`path`,{d:`M13.744 17.736a6 6 0 1 1-7.48-7.48`,key:`bq4yh3`}],[`path`,{d:`M15 6h1v4`,key:`11y1tn`}],[`path`,{d:`m6.134 14.768.866-.5 2 3.464`,key:`17snzx`}],[`circle`,{cx:`16`,cy:`8`,r:`6`,key:`14bfc9`}]]),ae=T(`crown`,[[`path`,{d:`M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z`,key:`1vdc57`}],[`path`,{d:`M5 21h14`,key:`11awu3`}]]),oe=T(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),se=T(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),O=T(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),k=T(`gem`,[[`path`,{d:`M10.5 3 8 9l4 13 4-13-2.5-6`,key:`b3dvk1`}],[`path`,{d:`M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z`,key:`7w4byz`}],[`path`,{d:`M2 9h20`,key:`16fsjt`}]]),ce=T(`gift`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8`,key:`1sqzm4`}],[`path`,{d:`M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5`,key:`kc0143`}],[`rect`,{x:`3`,y:`7`,width:`18`,height:`4`,rx:`1`,key:`1hberx`}]]),le=T(`grip-horizontal`,[[`circle`,{cx:`12`,cy:`9`,r:`1`,key:`124mty`}],[`circle`,{cx:`19`,cy:`9`,r:`1`,key:`1ruzo2`}],[`circle`,{cx:`5`,cy:`9`,r:`1`,key:`1a8b28`}],[`circle`,{cx:`12`,cy:`15`,r:`1`,key:`1e56xg`}],[`circle`,{cx:`19`,cy:`15`,r:`1`,key:`1a92ep`}],[`circle`,{cx:`5`,cy:`15`,r:`1`,key:`5r1jwy`}]]),ue=T(`hexagon`,[[`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`,key:`yt0hxn`}]]),de=T(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),fe=T(`layout-grid`,[[`rect`,{width:`7`,height:`7`,x:`3`,y:`3`,rx:`1`,key:`1g98yp`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`3`,rx:`1`,key:`6d4xhi`}],[`rect`,{width:`7`,height:`7`,x:`14`,y:`14`,rx:`1`,key:`nxv5o0`}],[`rect`,{width:`7`,height:`7`,x:`3`,y:`14`,rx:`1`,key:`1bb6yr`}]]),A=T(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),pe=T(`lock-open`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 9.9-1`,key:`1mm8w8`}]]),me=T(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),he=T(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),ge=T(`package-open`,[[`path`,{d:`M12 22v-9`,key:`x3hkom`}],[`path`,{d:`M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z`,key:`2ntwy6`}],[`path`,{d:`M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13`,key:`1pmm1c`}],[`path`,{d:`M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z`,key:`12ttoo`}]]),_e=T(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),ve=T(`scroll-text`,[[`path`,{d:`M15 12h-5`,key:`r7krc0`}],[`path`,{d:`M15 8h-5`,key:`1khuty`}],[`path`,{d:`M19 17V5a2 2 0 0 0-2-2H4`,key:`zz82l3`}],[`path`,{d:`M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3`,key:`1ph1d7`}]]),ye=T(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),be=T(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),xe=T(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Se=T(`skull`,[[`path`,{d:`m12.5 17-.5-1-.5 1h1z`,key:`3me087`}],[`path`,{d:`M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z`,key:`1o5pge`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}]]),Ce=T(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),we=T(`star`,[[`path`,{d:`M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z`,key:`r04s7s`}]]),Te=T(`store`,[[`path`,{d:`M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5`,key:`slp6dd`}],[`path`,{d:`M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244`,key:`o0xfot`}],[`path`,{d:`M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05`,key:`wn3emo`}]]),Ee=T(`swords`,[[`polyline`,{points:`14.5 17.5 3 6 3 3 6 3 17.5 14.5`,key:`1hfsw2`}],[`line`,{x1:`13`,x2:`19`,y1:`19`,y2:`13`,key:`1vrmhu`}],[`line`,{x1:`16`,x2:`20`,y1:`16`,y2:`20`,key:`1bron3`}],[`line`,{x1:`19`,x2:`21`,y1:`21`,y2:`19`,key:`13pww6`}],[`polyline`,{points:`14.5 6.5 18 3 21 3 21 6 17.5 9.5`,key:`hbey2j`}],[`line`,{x1:`5`,x2:`9`,y1:`14`,y2:`18`,key:`1hf58s`}],[`line`,{x1:`7`,x2:`4`,y1:`17`,y2:`20`,key:`pidxm4`}],[`line`,{x1:`3`,x2:`5`,y1:`19`,y2:`21`,key:`1pehsh`}]]),De=T(`tag`,[[`path`,{d:`M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z`,key:`vktsd0`}],[`circle`,{cx:`7.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`kqv944`}]]),Oe=T(`ticket`,[[`path`,{d:`M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z`,key:`qn84l0`}],[`path`,{d:`M13 5v2`,key:`dyzc3o`}],[`path`,{d:`M13 17v2`,key:`1ont0d`}],[`path`,{d:`M13 11v2`,key:`1wjjxi`}]]),ke=T(`timer`,[[`line`,{x1:`10`,x2:`14`,y1:`2`,y2:`2`,key:`14vaq8`}],[`line`,{x1:`12`,x2:`15`,y1:`14`,y2:`11`,key:`17fdiu`}],[`circle`,{cx:`12`,cy:`14`,r:`8`,key:`1e1u0o`}]]),Ae=T(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),je=T(`trophy`,[[`path`,{d:`M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978`,key:`1n3hpd`}],[`path`,{d:`M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978`,key:`rfe1zi`}],[`path`,{d:`M18 9h1.5a1 1 0 0 0 0-5H18`,key:`7xy6bh`}],[`path`,{d:`M4 22h16`,key:`57wxv0`}],[`path`,{d:`M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z`,key:`1mhfuq`}],[`path`,{d:`M6 9H4.5a1 1 0 0 1 0-5H6`,key:`tex48p`}]]),Me=T(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),Ne=T(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Pe=T(`volume-2`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`path`,{d:`M16 9a5 5 0 0 1 0 6`,key:`1q6k2b`}],[`path`,{d:`M19.364 18.364a9 9 0 0 0 0-12.728`,key:`ijwkga`}]]),Fe=T(`volume-x`,[[`path`,{d:`M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z`,key:`uqj9uw`}],[`line`,{x1:`22`,x2:`16`,y1:`9`,y2:`15`,key:`1ewh16`}],[`line`,{x1:`16`,x2:`22`,y1:`9`,y2:`15`,key:`5ykzw1`}]]),Ie=T(`zap`,[[`path`,{d:`M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z`,key:`1xq2db`}]]),Le=()=>void 0,Re=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ze=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ze(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Ve;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ve=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},He=function(e){let t=Re(e);return Be.encodeByteArray(t,!0)},Ue=function(e){return He(e).replace(/\./g,``)},We=function(e){try{return Be.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Ge(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Ke=()=>Ge().__FIREBASE_DEFAULTS__,qe=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Je=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&We(e[1]);return t&&JSON.parse(t)},Ye=()=>{try{return Le()||Ke()||qe()||Je()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xe=e=>Ye()?.emulatorHosts?.[e],j=e=>{let t=Xe(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ze=()=>Ye()?.config,Qe=e=>Ye()?.[`_${e}`],$e=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function et(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function tt(e){return(await fetch(e,{credentials:`include`})).ok}function nt(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Ue(JSON.stringify(n)),Ue(JSON.stringify(o)),``].join(`.`)}var M={};function rt(){let e={prod:[],emulator:[]};for(let t of Object.keys(M))M[t]?e.emulator.push(t):e.prod.push(t);return e}function it(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var at=!1;function ot(e,t){if(typeof window>`u`||typeof document>`u`||!et(window.location.host)||M[e]===t||M[e]||at)return;M[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=rt().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{at=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=it(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function st(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function ct(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function lt(){let e=Ye()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function ut(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function dt(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function ft(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function pt(){let e=st();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function mt(){return!lt()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function ht(){try{return typeof indexedDB==`object`}catch{return!1}}function gt(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var _t=`FirebaseError`,vt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=_t,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}},yt=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?bt(i,n):`Error`;return new vt(r,`${this.serviceName}: ${a} (${r}).`,n)}};function bt(e,t){return e.replace(xt,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var xt=/\{\$([^}]+)}/g;function St(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ct(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(wt(n)&&wt(a)){if(!Ct(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function wt(e){return typeof e==`object`&&!!e}function Tt(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Et(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Dt(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Ot(e,t){let n=new kt(e,t);return n.subscribe.bind(n)}var kt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=At(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=jt),r.error===void 0&&(r.error=jt),r.complete===void 0&&(r.complete=jt);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function At(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function jt(){}function Mt(e){return e&&e._delegate?e._delegate:e}var Nt=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Pt=`[DEFAULT]`,Ft=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new $e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(N(e))try{this.getOrInitializeService({instanceIdentifier:Pt})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Pt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pt){return this.instances.has(e)}getOptions(e=Pt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:It(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Pt){return this.component?this.component.multipleInstances?e:Pt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function It(e){return e===Pt?void 0:e}function N(e){return e.instantiationMode===`EAGER`}var Lt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Rt=[],P;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(P||={});var zt={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},Bt=P.INFO,Vt={[P.DEBUG]:`log`,[P.VERBOSE]:`log`,[P.INFO]:`info`,[P.WARN]:`warn`,[P.ERROR]:`error`},Ht=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Vt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ut=class{constructor(e){this.name=e,this._logLevel=Bt,this._logHandler=Ht,this._userLogHandler=null,Rt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?zt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...e),this._logHandler(this,P.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...e),this._logHandler(this,P.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,P.INFO,...e),this._logHandler(this,P.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,P.WARN,...e),this._logHandler(this,P.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...e),this._logHandler(this,P.ERROR,...e)}},Wt=(e,t)=>t.some(t=>e instanceof t),Gt,Kt;function qt(){return Gt||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Jt(){return Kt||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Yt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,$t=new WeakMap;function en(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(sn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Yt.set(t,e)}).catch(()=>{}),$t.set(t,e),t}function tn(e){if(Xt.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Xt.set(e,t)}var nn={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Xt.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Zt.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function rn(e){nn=e(nn)}function an(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(cn(this),t,...n);return Zt.set(r,t.sort?t.sort():[t]),sn(r)}:Jt().includes(e)?function(...t){return e.apply(cn(this),t),sn(Yt.get(this))}:function(...t){return sn(e.apply(cn(this),t))}}function on(e){return typeof e==`function`?an(e):(e instanceof IDBTransaction&&tn(e),Wt(e,qt())?new Proxy(e,nn):e)}function sn(e){if(e instanceof IDBRequest)return en(e);if(Qt.has(e))return Qt.get(e);let t=on(e);return t!==e&&(Qt.set(e,t),$t.set(t,e)),t}var cn=e=>$t.get(e);function ln(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=sn(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(sn(o.result),e.oldVersion,e.newVersion,sn(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var un=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],dn=[`put`,`add`,`delete`,`clear`],fn=new Map;function pn(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(fn.get(t))return fn.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=dn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||un.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return fn.set(t,a),a}rn(e=>({...e,get:(t,n,r)=>pn(t,n)||e.get(t,n,r),has:(t,n)=>!!pn(t,n)||e.has(t,n)}));var mn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hn(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function hn(e){return e.getComponent()?.type===`VERSION`}var gn=`@firebase/app`,_n=`0.14.8`,vn=new Ut(`@firebase/app`),yn=`@firebase/app-compat`,bn=`@firebase/analytics-compat`,xn=`@firebase/analytics`,Sn=`@firebase/app-check-compat`,Cn=`@firebase/app-check`,wn=`@firebase/auth`,Tn=`@firebase/auth-compat`,En=`@firebase/database`,Dn=`@firebase/data-connect`,On=`@firebase/database-compat`,kn=`@firebase/functions`,An=`@firebase/functions-compat`,jn=`@firebase/installations`,Mn=`@firebase/installations-compat`,Nn=`@firebase/messaging`,Pn=`@firebase/messaging-compat`,Fn=`@firebase/performance`,In=`@firebase/performance-compat`,Ln=`@firebase/remote-config`,Rn=`@firebase/remote-config-compat`,zn=`@firebase/storage`,Bn=`@firebase/storage-compat`,Vn=`@firebase/firestore`,Hn=`@firebase/ai`,Un=`@firebase/firestore-compat`,Wn=`firebase`,Gn=`12.9.0`,Kn=`[DEFAULT]`,qn={[gn]:`fire-core`,[yn]:`fire-core-compat`,[xn]:`fire-analytics`,[bn]:`fire-analytics-compat`,[Cn]:`fire-app-check`,[Sn]:`fire-app-check-compat`,[wn]:`fire-auth`,[Tn]:`fire-auth-compat`,[En]:`fire-rtdb`,[Dn]:`fire-data-connect`,[On]:`fire-rtdb-compat`,[kn]:`fire-fn`,[An]:`fire-fn-compat`,[jn]:`fire-iid`,[Mn]:`fire-iid-compat`,[Nn]:`fire-fcm`,[Pn]:`fire-fcm-compat`,[Fn]:`fire-perf`,[In]:`fire-perf-compat`,[Ln]:`fire-rc`,[Rn]:`fire-rc-compat`,[zn]:`fire-gcs`,[Bn]:`fire-gcs-compat`,[Vn]:`fire-fst`,[Un]:`fire-fst-compat`,[Hn]:`fire-vertex`,"fire-js":`fire-js`,[Wn]:`fire-js-all`},Jn=new Map,Yn=new Map,Xn=new Map;function Zn(e,t){try{e.container.addComponent(t)}catch(n){vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Qn(e){let t=e.name;if(Xn.has(t))return vn.debug(`There were multiple attempts to register component ${t}.`),!1;Xn.set(t,e);for(let t of Jn.values())Zn(t,e);for(let t of Yn.values())Zn(t,e);return!0}function $n(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function er(e){return e==null?!1:e.settings!==void 0}var tr=new yt(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),nr=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nt(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create(`app-deleted`,{appName:this._name})}},rr=Gn;function ir(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Kn,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw tr.create(`bad-app-name`,{appName:String(i)});if(n||=Ze(),!n)throw tr.create(`no-options`);let a=Jn.get(i);if(a){if(Ct(n,a.options)&&Ct(r,a.config))return a;throw tr.create(`duplicate-app`,{appName:i})}let o=new Lt(i);for(let e of Xn.values())o.addComponent(e);let s=new nr(n,r,o);return Jn.set(i,s),s}function ar(e=Kn){let t=Jn.get(e);if(!t&&e===`[DEFAULT]`&&Ze())return ir();if(!t)throw tr.create(`no-app`,{appName:e});return t}function or(e,t,n){let r=qn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vn.warn(e.join(` `));return}Qn(new Nt(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var sr=`firebase-heartbeat-database`,cr=1,lr=`firebase-heartbeat-store`,ur=null;function dr(){return ur||=ln(sr,cr,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(lr)}catch(e){console.warn(e)}}}}).catch(e=>{throw tr.create(`idb-open`,{originalErrorMessage:e.message})}),ur}async function fr(e){try{let t=(await dr()).transaction(lr),n=await t.objectStore(lr).get(mr(e));return await t.done,n}catch(e){if(e instanceof vt)vn.warn(e.message);else{let t=tr.create(`idb-get`,{originalErrorMessage:e?.message});vn.warn(t.message)}}}async function pr(e,t){try{let n=(await dr()).transaction(lr,`readwrite`);await n.objectStore(lr).put(t,mr(e)),await n.done}catch(e){if(e instanceof vt)vn.warn(e.message);else{let t=tr.create(`idb-set`,{originalErrorMessage:e?.message});vn.warn(t.message)}}}function mr(e){return`${e.name}!${e.options.appId}`}var hr=1024,gr=30,_r=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new br(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=vr();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>gr){let e=Sr(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=vr(),{heartbeatsToSend:t,unsentEntries:n}=yr(this._heartbeatsCache.heartbeats),r=Ue(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return vn.warn(e),``}}};function vr(){return new Date().toISOString().substring(0,10)}function yr(e,t=hr){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(!e){if(n.push({agent:i.agent,dates:[i.date]}),xr(n)>t){n.pop();break}}else if(e.dates.push(i.date),xr(n)>t){e.dates.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var br=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ht()?gt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await fr(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return pr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return pr(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function xr(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}function Sr(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Cr(e){Qn(new Nt(`platform-logger`,e=>new mn(e),`PRIVATE`)),Qn(new Nt(`heartbeat`,e=>new _r(e),`PRIVATE`)),or(gn,_n,e),or(gn,_n,`esm2020`),or(`fire-js`,``)}Cr(``);function wr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Tr=wr,Er=new yt(`auth`,`Firebase`,wr()),Dr=new Ut(`@firebase/auth`);function Or(e,...t){Dr.logLevel<=P.WARN&&Dr.warn(`Auth (${rr}): ${e}`,...t)}function kr(e,...t){Dr.logLevel<=P.ERROR&&Dr.error(`Auth (${rr}): ${e}`,...t)}function Ar(e,...t){throw Fr(e,...t)}function jr(e,...t){return Fr(e,...t)}function Mr(e,t,n){return new yt(`auth`,`Firebase`,{...Tr(),[t]:n}).create(t,{appName:e.name})}function Nr(e){return Mr(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Pr(e,t,n){let r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ar(e,`argument-error`),Mr(e,`argument-error`,`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fr(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Er.create(e,...t)}function F(e,t,...n){if(!e)throw Fr(t,...n)}function Ir(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw kr(t),Error(t)}function Lr(e,t){e||Ir(t)}function Rr(){return typeof self<`u`&&self.location?.href||``}function zr(){return Br()===`http:`||Br()===`https:`}function Br(){return typeof self<`u`&&self.location?.protocol||null}function Vr(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(zr()||dt()||`connection`in navigator)?navigator.onLine:!0}function Hr(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ur=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lr(t>e,`Short delay should be less than long delay!`),this.isMobile=ct()||ft()}get(){return Vr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wr(e,t){Lr(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Gr=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Ir(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Ir(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Ir(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},Kr={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},qr=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Jr=new Ur(3e4,6e4);function Yr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Xr(e,t,n,r,i={}){return Zr(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Tt({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return ut()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&et(e.emulatorConfig.host)&&(c.credentials=`include`),Gr.fetch()(await $r(e,e.config.apiHost,n,o),c)})}async function Zr(e,t,n){e._canInitEmulator=!1;let r={...Kr,...t};try{let t=new ti(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw ni(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw ni(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw ni(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw ni(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Mr(e,o,n);Ar(e,o)}}catch(t){if(t instanceof vt)throw t;Ar(e,`network-request-failed`,{message:String(t)})}}async function Qr(e,t,n,r,i={}){let a=await Xr(e,t,n,r,i);return`mfaPendingCredential`in a&&Ar(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function $r(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Wr(e.config,i):`${e.config.apiScheme}://${i}`;return qr.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function ei(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var ti=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(jr(this.auth,`network-request-failed`)),Jr.get())})}};function ni(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=jr(e,t,r);return i.customData._tokenResponse=n,i}function ri(e){return e!==void 0&&e.enterprise!==void 0}var ii=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ei(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function ai(e,t){return Xr(e,`GET`,`/v2/recaptchaConfig`,Yr(e,t))}async function oi(e,t){return Xr(e,`POST`,`/v1/accounts:delete`,t)}async function si(e,t){return Xr(e,`POST`,`/v1/accounts:lookup`,t)}function ci(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function li(e,t=!1){let n=Mt(e),r=await n.getIdToken(t),i=di(r);F(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:ci(ui(i.auth_time)),issuedAtTime:ci(ui(i.iat)),expirationTime:ci(ui(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ui(e){return Number(e)*1e3}function di(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return kr(`JWT malformed, contained fewer than 3 sections`),null;try{let e=We(n);return e?JSON.parse(e):(kr(`Failed to decode base64 JWT payload`),null)}catch(e){return kr(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function fi(e){let t=di(e);return F(t,`internal-error`),F(t.exp!==void 0,`internal-error`),F(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function pi(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof vt&&mi(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function mi({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var hi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},gi=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ci(this.lastLoginAt),this.creationTime=ci(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function _i(e){let t=e.auth,n=await pi(e,si(t,{idToken:await e.getIdToken()}));F(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?bi(r.providerUserInfo):[],a=yi(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new gi(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function vi(e){let t=Mt(e);await _i(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yi(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function bi(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function xi(e,t){let n=await Zr(e,{},async()=>{let n=Tt({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await $r(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&et(e.emulatorConfig.host)&&(s.credentials=`include`),Gr.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Si(e,t){return Xr(e,`POST`,`/v2/accounts:revokeToken`,Yr(e,t))}var Ci=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,`internal-error`),F(e.idToken!==void 0,`internal-error`),F(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):fi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){F(e.length!==0,`internal-error`);let t=fi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await xi(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(F(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(F(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(F(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Ir(`not implemented`)}};function wi(e,t){F(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Ti=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new gi(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await pi(this,this.stsTokenManager.getToken(this.auth,e));return F(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return li(this,e)}reload(){return vi(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await _i(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Nr(this.auth));let e=await this.getIdToken();return await pi(this,oi(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;F(d&&h,t,`internal-error`);let g=Ci.fromJSON(this.name,h);F(typeof d==`string`,t,`internal-error`),wi(r,t.name),wi(i,t.name),F(typeof f==`boolean`,t,`internal-error`),F(typeof p==`boolean`,t,`internal-error`),wi(a,t.name),wi(o,t.name),wi(s,t.name),wi(c,t.name),wi(l,t.name),wi(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new Ci;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await _i(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];F(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:bi(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new Ci;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gi(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Ei=new Map;function Di(e){Lr(e instanceof Function,`Expected a class definition`);let t=Ei.get(e);return t?(Lr(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Ei.set(e,t),t)}var Oi=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Oi.type=`NONE`;var ki=Oi;function Ai(e,t,n){return`firebase:${e}:${t}:${n}`}var ji=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Ai(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ai(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await si(this.auth,{idToken:e}).catch(()=>void 0);return t?Ti._fromGetAccountInfoResponse(this.auth,t,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Di(ki),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Di(ki),o=Ai(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await si(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Ti._fromGetAccountInfoResponse(t,e,n)}else r=Ti._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Mi(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(Ii(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Ni(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(Ri(t))return`Blackberry`;if(zi(t))return`Webos`;if(Pi(t))return`Safari`;if((t.includes(`chrome/`)||Fi(t))&&!t.includes(`edge/`))return`Chrome`;if(Li(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Ni(e=st()){return/firefox\//i.test(e)}function Pi(e=st()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Fi(e=st()){return/crios\//i.test(e)}function Ii(e=st()){return/iemobile/i.test(e)}function Li(e=st()){return/android/i.test(e)}function Ri(e=st()){return/blackberry/i.test(e)}function zi(e=st()){return/webos/i.test(e)}function Bi(e=st()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vi(e=st()){return Bi(e)&&!!window.navigator?.standalone}function Hi(){return pt()&&document.documentMode===10}function Ui(e=st()){return Bi(e)||Li(e)||zi(e)||Ri(e)||/windows phone/i.test(e)||Ii(e)}function Wi(e,t=[]){let n;switch(e){case`Browser`:n=Mi(st());break;case`Worker`:n=`${Mi(st())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${rr}/${r}`}var Gi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function Ki(e,t={}){return Xr(e,`GET`,`/v2/passwordPolicy`,Yr(e,t))}var qi=6,Ji=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qi,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Yi=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Er,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ji.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await si(this,{idToken:e}),n=await Ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(er(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _i(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hr()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Nr(this));let t=e?Mt(e):null;return t&&F(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new Ji(await Ki(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yt(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Si(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Di(e)||this._popupRedirectResolver;F(t,this,`argument-error`),this.redirectPersistenceManager=await ji.create(this,[Di(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Or(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Xi(e){return Mt(e)}var Zi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ot(e=>this.observer=e)}get next(){return F(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},Qi={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function $i(e){Qi=e}function ea(e){return Qi.loadJS(e)}function ta(){return Qi.recaptchaEnterpriseScript}function na(){return Qi.gapiScript}function ra(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var ia=class{constructor(){this.enterprise=new aa}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},aa=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},oa=`recaptcha-enterprise`,sa=`NO_RECAPTCHA`,ca=class{constructor(e){this.type=oa,this.auth=Xi(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ai(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new ii(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;ri(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(sa)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new ia().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ri(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=ta();t.length!==0&&(t+=n),ea(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function la(e,t,n,r=!1,i=!1){let a=new ca(e),o;if(i)o=sa;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function ua(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await la(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await la(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await la(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await la(e,t,n,!1,!0))):Promise.reject(i)):r(e,await la(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function da(e){let t=Xi(e),n=new ii(await ai(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new ca(t).verify()}function fa(e,t){let n=$n(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Ct(n.getOptions(),t??{}))return e;Ar(e,`already-initialized`)}return n.initialize({options:t})}function pa(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Di);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function ma(e,t,n){let r=Xi(e);F(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=ha(t),{host:o,port:s}=ga(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){F(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),F(Ct(l,r.config.emulator)&&Ct(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,et(o)?(tt(`${a}//${o}${c}`),ot(`Auth`,!0)):i||va()}function ha(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function ga(e){let t=ha(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:_a(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:_a(t)}}}function _a(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function va(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var ya=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir(`not implemented`)}_getIdTokenResponse(e){return Ir(`not implemented`)}_linkToIdToken(e,t){return Ir(`not implemented`)}_getReauthenticationResolver(e){return Ir(`not implemented`)}};async function ba(e,t){return Xr(e,`POST`,`/v1/accounts:signUp`,t)}async function xa(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithPassword`,Yr(e,t))}async function Sa(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithEmailLink`,Yr(e,t))}async function Ca(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithEmailLink`,Yr(e,t))}var wa=class e extends ya{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return ua(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,xa,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Sa(e,{email:this._email,oobCode:this._password});default:Ar(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return ua(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,ba,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Ca(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Ta(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithIdp`,Yr(e,t))}var Ea=`http://localhost`,Da=class e extends ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ar(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ta(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Ta(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ta(e,t)}buildRequest(){let e={requestUri:Ea,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}};async function Oa(e,t){return Xr(e,`POST`,`/v1/accounts:sendVerificationCode`,Yr(e,t))}async function ka(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yr(e,t))}async function Aa(e,t){let n=await Qr(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yr(e,t));if(n.temporaryProof)throw ni(e,`account-exists-with-different-credential`,n);return n}var ja={USER_NOT_FOUND:`user-not-found`};async function Ma(e,t){return Qr(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yr(e,{...t,operation:`REAUTH`}),ja)}var Na=class e extends ya{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return ka(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Aa(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ma(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Pa(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Fa(e){let t=Et(Dt(e)).link,n=t?Et(Dt(t)).deep_link_id:null,r=Et(Dt(e)).deep_link_id;return(r?Et(Dt(r)).link:null)||r||n||t||e}var Ia=class e{constructor(e){let t=Et(Dt(e)),n=t.apiKey??null,r=t.oobCode??null,i=Pa(t.mode??null);F(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Fa(t);try{return new e(n)}catch{return null}}},La=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return wa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Ia.parseLink(t);return F(n,`argument-error`),wa._fromEmailAndCode(e,n.code,n.tenantId)}};La.PROVIDER_ID=`password`,La.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,La.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Ra=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},za=class extends Ra{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Ba=class e extends za{constructor(){super(`facebook.com`)}static credential(t){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ba.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Ba.PROVIDER_ID=`facebook.com`;var Va=class e extends za{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Va.GOOGLE_SIGN_IN_METHOD=`google.com`,Va.PROVIDER_ID=`google.com`;var Ha=class e extends za{constructor(){super(`github.com`)}static credential(t){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ha.GITHUB_SIGN_IN_METHOD=`github.com`,Ha.PROVIDER_ID=`github.com`;var Ua=class e extends za{constructor(){super(`twitter.com`)}static credential(t,n){return Da._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Ua.TWITTER_SIGN_IN_METHOD=`twitter.com`,Ua.PROVIDER_ID=`twitter.com`;async function Wa(e,t){return Qr(e,`POST`,`/v1/accounts:signUp`,Yr(e,t))}var Ga=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Ti._fromIdTokenResponse(t,r,i),providerId:Ka(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Ka(r),_tokenResponse:r,operationType:n})}};function Ka(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var qa=class e extends vt{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Ja(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?qa._fromErrorAndOperation(e,n,t,r):n})}async function Ya(e,t,n=!1){let r=await pi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ga._forOperation(e,`link`,r)}async function Xa(e,t,n=!1){let{auth:r}=e;if(er(r.app))return Promise.reject(Nr(r));let i=`reauthenticate`;try{let a=await pi(e,Ja(r,i,t,e),n);F(a.idToken,r,`internal-error`);let o=di(a.idToken);F(o,r,`internal-error`);let{sub:s}=o;return F(e.uid===s,r,`user-mismatch`),Ga._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&Ar(r,`user-mismatch`),e}}async function Za(e,t,n=!1){if(er(e.app))return Promise.reject(Nr(e));let r=`signIn`,i=await Ja(e,r,t),a=await Ga._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Qa(e,t){return Za(Xi(e),t)}async function $a(e){let t=Xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eo(e,t,n){if(er(e.app))return Promise.reject(Nr(e));let r=Xi(e),i=await ua(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Wa,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&$a(e),t}),a=await Ga._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function to(e,t,n){return er(e.app)?Promise.reject(Nr(e)):Qa(Mt(e),La.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&$a(e),t})}function no(e,t,n,r){return Mt(e).onIdTokenChanged(t,n,r)}function ro(e,t,n){return Mt(e).beforeAuthStateChanged(t,n)}function io(e,t,n,r){return Mt(e).onAuthStateChanged(t,n,r)}function ao(e){return Mt(e).signOut()}function oo(e,t){return Xr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Yr(e,t))}function so(e,t){return Xr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Yr(e,t))}function co(e,t){return Xr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Yr(e,t))}function lo(e,t){return Xr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Yr(e,t))}var uo=`__sak`,fo=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,`1`),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},po=1e3,mo=10,ho=class extends fo{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Hi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,mo):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},po)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};ho.type=`LOCAL`;var go=ho,_o=1e3;function I(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function vo(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var yo=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=vo(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:I(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=vo(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=vo(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=I(n),i=setInterval(()=>{let e=I(n);e!==r&&(t(e),r=e)},_o);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};yo.type=`COOKIE`;var bo=class extends fo{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};bo.type=`SESSION`;var xo=bo;function So(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var Co=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await So(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};Co.receivers=[];function wo(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var To=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=wo(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Eo(){return window}function Do(e){Eo().location.href=e}function Oo(){return Eo().WorkerGlobalScope!==void 0&&typeof Eo().importScripts==`function`}async function ko(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ao(){return navigator?.serviceWorker?.controller||null}function jo(){return Oo()?self:null}var Mo=`firebaseLocalStorageDb`,No=1,Po=`firebaseLocalStorage`,Fo=`fbase_key`,Io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Lo(e,t){return e.transaction([Po],t?`readwrite`:`readonly`).objectStore(Po)}function Ro(){return new Io(indexedDB.deleteDatabase(Mo)).toPromise()}function zo(){let e=indexedDB.open(Mo,No);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Po,{keyPath:Fo})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Po)?t(n):(n.close(),await Ro(),t(await zo()))})})}async function Bo(e,t,n){return new Io(Lo(e,!0).put({[Fo]:t,value:n})).toPromise()}async function Vo(e,t){let n=await new Io(Lo(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Ho(e,t){return new Io(Lo(e,!0).delete(t)).toPromise()}var Uo=800,Wo=3,Go=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await zo(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Wo)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return Oo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Co._getInstance(jo()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await ko(),!this.activeServiceWorker)return;this.sender=new To(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ao()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await zo();return await Bo(e,uo,`1`),await Ho(e,uo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Vo(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ho(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Io(Lo(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uo)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Go.type=`LOCAL`;var Ko=Go;function qo(e,t){return Xr(e,`POST`,`/v2/accounts/mfaSignIn:start`,Yr(e,t))}function Jo(e,t){return Xr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Yr(e,t))}function Yo(e,t){return Xr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Yr(e,t))}ra(`rcb`),new Ur(3e4,6e4);var Xo=`recaptcha`;async function Zo(e,t,n){if(!e._getRecaptchaConfig())try{await da(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return F(t.type===`enroll`,e,`internal-error`),(await ua(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===sa?(F(n?.type===Xo,e,`argument-error`),oo(e,await Qo(e,t,n))):oo(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{F(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return F(i,e,`missing-multi-factor-info`),(await ua(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===sa?(F(n?.type===Xo,e,`argument-error`),qo(e,await Qo(e,t,n))):qo(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await ua(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===sa?(F(n?.type===Xo,e,`argument-error`),Oa(e,await Qo(e,t,n))):Oa(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Qo(e,t,n){F(n.type===Xo,e,`argument-error`);let r=await n.verify();F(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var $o=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Xi(t)}verifyPhoneNumber(e,t){return Zo(this.auth,e,Mt(t))}static credential(e,t){return Na._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Na._fromTokenResponse(t,n):null}};$o.PROVIDER_ID=`phone`,$o.PHONE_SIGN_IN_METHOD=`phone`;function es(e,t){return t?Di(t):(F(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var ts=class extends ya{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ns(e){return Za(e.auth,new ts(e),e.bypassAuthState)}function rs(e){let{auth:t,user:n}=e;return F(n,t,`internal-error`),Xa(n,new ts(e),e.bypassAuthState)}async function is(e){let{auth:t,user:n}=e;return F(n,t,`internal-error`),Ya(n,new ts(e),e.bypassAuthState)}var as=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return ns;case`linkViaPopup`:case`linkViaRedirect`:return is;case`reauthViaPopup`:case`reauthViaRedirect`:return rs;default:Ar(this.auth,`internal-error`)}}resolve(e){Lr(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},os=new Ur(2e3,1e4);async function ss(e,t,n){if(er(e.app))return Promise.reject(jr(e,`operation-not-supported-in-this-environment`));let r=Xi(e);return Pr(e,t,Ra),new cs(r,`signInViaPopup`,t,es(r,n)).executeNotNull()}var cs=class e extends as{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return F(e,this.auth,`internal-error`),e}async onExecution(){Lr(this.filter.length===1,`Popup operations only handle one event`);let e=wo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(jr(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(jr(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,os.get())};e()}};cs.currentPopupAction=null;var ls=`pendingRedirect`,us=new Map,ds=class extends as{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=us.get(this.auth._key());if(!e){try{let t=await fs(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}us.set(this.auth._key(),e)}return this.bypassAuthState||us.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function fs(e,t){let n=hs(t),r=ms(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function ps(e,t){us.set(e._key(),t)}function ms(e){return Di(e._redirectPersistence)}function hs(e){return Ai(ls,e.config.apiKey,e.name)}async function gs(e,t,n=!1){if(er(e.app))return Promise.reject(Nr(e));let r=Xi(e),i=await new ds(r,es(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var _s=600*1e3,vs=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xs(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!bs(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(jr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_s&&this.cachedEventUids.clear(),this.cachedEventUids.has(ys(e))}saveEventToCache(e){this.cachedEventUids.add(ys(e)),this.lastProcessedEventTime=Date.now()}};function ys(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function bs({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function xs(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return bs(e);default:return!1}}async function Ss(e,t={}){return Xr(e,`GET`,`/v1/projects`,t)}var Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ws=/^https?/;async function Ts(e){if(e.config.emulator)return;let{authorizedDomains:t}=await Ss(e);for(let e of t)try{if(Es(e))return}catch{}Ar(e,`unauthorized-domain`)}function Es(e){let t=Rr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!ws.test(n))return!1;if(Cs.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var Ds=new Ur(3e4,6e4);function Os(){let e=Eo().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function ks(e){return new Promise((t,n)=>{function r(){Os(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Os(),n(jr(e,`network-request-failed`))},timeout:Ds.get()})}if(Eo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Eo().gapi?.load)r();else{let t=ra(`iframefcb`);return Eo()[t]=()=>{gapi.load?r():n(jr(e,`network-request-failed`))},ea(`${na()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw As=null,e})}var As=null;function js(e){return As||=ks(e),As}var Ms=new Ur(5e3,15e3),Ns=`__/auth/iframe`,Ps=`emulator/auth/iframe`,Fs={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Is=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Ls(e){let t=e.config;F(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Wr(t,Ps):`https://${e.config.authDomain}/${Ns}`,r={apiKey:t.apiKey,appName:e.name,v:rr},i=Is.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Tt(r).slice(1)}`}async function Rs(e){let t=await js(e),n=Eo().gapi;return F(n,e,`internal-error`),t.open({where:document.body,url:Ls(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=jr(e,`network-request-failed`),a=Eo().setTimeout(()=>{r(i)},Ms.get());function o(){Eo().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var zs={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Bs=500,Vs=600,Hs=`_blank`,Us=`http://localhost`,Ws=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Gs(e,t,n,r=Bs,i=Vs){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...zs,width:r.toString(),height:i.toString(),top:a,left:o},l=st().toLowerCase();n&&(s=Fi(l)?Hs:n),Ni(l)&&(t||=Us,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Vi(l)&&s!==`_self`)return Ks(t||``,s),new Ws(null);let d=window.open(t||``,s,u);F(d,e,`popup-blocked`);try{d.focus()}catch{}return new Ws(d)}function Ks(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qs=`__/auth/handler`,Js=`emulator/auth/handler`,Ys=`fac`;async function Xs(e,t,n,r,i,a){F(e.config.authDomain,e,`auth-domain-config-required`),F(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:rr,eventId:i};if(t instanceof Ra){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,St(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof za){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${Ys}=${encodeURIComponent(c)}`:``;return`${Zs(e)}?${Tt(s).slice(1)}${l}`}function Zs({config:e}){return e.emulator?Wr(e,Js):`https://${e.authDomain}/${qs}`}var Qs=`webStorageSupport`,$s=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xo,this._completeRedirectFn=gs,this._overrideRedirectResult=ps}async _openPopup(e,t,n,r){return Lr(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Gs(e,await Xs(e,t,n,Rr(),r),wo())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Do(await Xs(e,t,n,Rr(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lr(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Rs(e),n=new vs(e);return t.register(`authEvent`,t=>(F(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qs,{type:Qs},n=>{let r=n?.[0]?.[Qs];r!==void 0&&t(!!r),Ar(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ts(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ui()||Pi()||Bi()}},ec=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Ir(`unexpected MultiFactorSessionType`)}}},tc=class e extends ec{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return so(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Jo(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},nc=class{constructor(){}static assertion(e){return tc._fromCredential(e)}};nc.FACTOR_ID=`phone`;var rc=class{static assertionForEnrollment(e,t){return ic._fromSecret(e,t)}static assertionForSignIn(e,t){return ic._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;F(t.user?.auth!==void 0,`internal-error`);let n=await co(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return ac._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};rc.FACTOR_ID=`totp`;var ic=class e extends ec{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return F(this.secret!==void 0,e,`argument-error`),lo(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){F(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Yo(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},ac=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(oc(e)||oc(t))&&(n=!0),n&&(oc(e)&&(e=this.auth.currentUser?.email||`unknownuser`),oc(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function oc(e){return e===void 0||e?.length===0}var sc=`@firebase/auth`,cc=`1.12.0`,lc=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uc(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function dc(e){Qn(new Nt(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;F(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new Yi(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:Wi(e)});return pa(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),Qn(new Nt(`auth-internal`,e=>(e=>new lc(e))(Xi(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),or(sc,cc,uc(e)),or(sc,cc,`esm2020`)}var fc=Qe(`authIdTokenMaxAge`)||300,pc=null,mc=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fc)return;let i=n?.token;pc!==i&&(pc=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hc(e=ar()){let t=$n(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=fa(e,{popupRedirectResolver:$s,persistence:[Ko,go,xo]}),r=Qe(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=mc(e.toString());ro(n,t,()=>t(n.currentUser)),no(n,e=>t(e))}}let i=Xe(`auth`);return i&&ma(n,`http://${i}`),n}function gc(){return document.getElementsByTagName(`head`)?.[0]??document}$i({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=jr(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,gc().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),dc(`Browser`);var _c=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},vc={},yc,bc;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bc=vc.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,yc=vc.Integer=o}).apply(_c===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:_c);var xc=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Sc={},Cc,wc,Tc,Ec,Dc,Oc,kc,Ac;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof xc==`object`&&xc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(T)}};function T(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function ee(){this.u=this.u,this.C=this.C}ee.prototype.u=!1,ee.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ee.prototype[Symbol.dispose]=function(){this.dispose()},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ne(e){return/^[\s\xa0]*$/.test(e)}function D(e,t){E.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(D,E),D.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re=`closure_listenable_`+(Math.random()*1e6|0),ie=0;function ae(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ie,this.da=this.fa=!1}function oe(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function se(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function O(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function k(e){let t={};for(let n in e)t[n]=e[n];return t}let ce=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function le(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ce.length;t++)n=ce[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ue(e){this.src=e,this.g={},this.h=0}ue.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=fe(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new ae(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function de(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(oe(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function fe(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var A=`closure_lm_`+(Math.random()*1e6|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return _e(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)me(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.J(t,n,s(r)?!!r.capture:!!r,i):he(e,t,n,!1,r,i)}function he(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Se(e);if(c||(e[A]=c=new ue(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ge(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)te||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ge(){function e(n){return t.call(e.src,e.listener,n)}let t=xe;return e}function _e(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)_e(e,t[a],n,r,i);return null}return n=we(n),e&&e[re]?e.K(t,n,s(r)?!!r.capture:!!r,i):he(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ve(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=we(n),e&&e[re]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=fe(t,n,r,i),n>-1&&(oe(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fe(t,n,r,i)),(n=e>-1?t[e]:null)&&ye(n))}function ye(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[re])de(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(de(n,e),n.h==0&&(n.src=null,t[A]=null)):oe(e)}}}function be(e){return e in pe?pe[e]:pe[e]=`on`+e}function xe(e,t){if(e.da)e=!0;else{t=new D(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&ye(e),e=n.call(r,t)}return e}function Se(e){return e=e[A],e instanceof ue?e:null}var Ce=`__closure_events_fn_`+(Math.random()*1e9>>>0);function we(e){return typeof e==`function`?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Te(){ee.call(this),this.i=new ue(this),this.M=this,this.G=null}d(Te,ee),Te.prototype[re]=!0,Te.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)};function Ee(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;t=new E(r,e),le(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=De(a,r,!0,t)&&i;if(a=t.g=e,i=De(a,r,!0,t)&&i,i=De(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=De(a,r,!1,t)&&i}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)oe(n[e]);delete e.g[t],e.h--}}this.G=null},Te.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function De(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&de(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Oe(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function ke(e){e.g=Oe(()=>{e.g=null,e.i&&(e.i=!1,ke(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Ae extends ee{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(e){ee.call(this),this.h=e,this.g={}}d(je,ee);var Me=[];function Ne(e){se(e.g,function(e,t){this.g.hasOwnProperty(t)&&ye(e)},e),e.g={}}je.prototype.N=function(){je.Z.N.call(this),Ne(this)},je.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Pe=o.JSON.stringify,Fe=o.JSON.parse,Ie=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Le(){}function Re(){}var ze={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Be(){E.call(this,`d`)}d(Be,E);function Ve(){E.call(this,`c`)}d(Ve,E);var He={},Ue=null;function We(){return Ue||=new Te}He.Ia=`serverreachability`;function Ge(e){E.call(this,He.Ia,e)}d(Ge,E);function Ke(e){let t=We();Ee(t,new Ge(t))}He.STAT_EVENT=`statevent`;function qe(e,t){E.call(this,He.STAT_EVENT,e),this.stat=t}d(qe,E);function Je(e){let t=We();Ee(t,new qe(t,e))}He.Ja=`timingevent`;function Ye(e,t){E.call(this,He.Ja,e),this.size=t}d(Ye,E);function Xe(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function j(){this.g=!0}j.prototype.ua=function(){this.g=!1};function Ze(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function Qe(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function $e(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+tt(e,n)+(r?` `+r:``)})}function et(e,t){e.info(function(){return`TIMEOUT: `+t})}j.prototype.info=function(){};function tt(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Pe(a)}catch{return t}}var nt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},rt;function it(){}d(it,Le),it.prototype.g=function(){return new XMLHttpRequest},rt=new it;function at(e){return encodeURIComponent(String(e))}function ot(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function st(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ct}function ct(){this.i=null,this.g=``,this.h=!1}var lt={},ut={};function dt(e,t,n){e.M=1,e.A=Lt(Nt(t)),e.u=n,e.R=!0,ft(e,null)}function ft(e,t){e.F=Date.now(),gt(e),e.B=Nt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Xt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new ct,e.g=Hn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Ae(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Me[0]=i.toString()),i=Me);for(let e=0;e<i.length;e++){let a=me(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?k(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ke(),Ze(e.i,e.v,e.B,e.l,e.S,e.u)}st.prototype.ba=function(e){e=e.target;let t=this.O;t&&yn(e)==3?t.j():this.Y(e)},st.prototype.Y=function(e){try{if(e==this.g)a:{let s=yn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||s!=4||c==7||Ke(c==8||l<=0?3:2),vt(this);var t=this.g.ca();this.X=t;var n=pt(this);if(this.o=t==200,Qe(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ne(r)){var a=r;break b}}a=null}if(e=a)$e(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,xt(this,e);else{this.o=!1,this.m=3,Je(12),bt(this),yt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=ht(this,n),t==ut){s==4&&(this.m=4,Je(14),e=!1),$e(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==lt){this.m=4,Je(15),$e(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else $e(this.i,this.l,t,null),xt(this,t);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Je(16),e=!1),this.o=this.o&&e,!e)$e(this.i,this.l,n,`[Invalid Chunked Response]`),bt(this),yt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Pn(o),o.P=!0,Je(11))}}else $e(this.i,this.l,n,null),xt(this,n);s==4&&bt(this),this.o&&!this.K&&(s==4?Ln(this.j,this):(this.o=!1,gt(this)))}else xn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Je(12)):(this.m=0,Je(13)),bt(this),yt(this)}}}catch{}};function pt(e){if(!mt(e))return e.g.la();let t=bn(e.g);if(t===``)return``;let n=``,r=t.length,i=yn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return bt(e),yt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function mt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function ht(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ut:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1,r+n>t.length?ut:(t=t.slice(r,r+n),e.C=r+n,t)))}st.prototype.cancel=function(){this.K=!0,bt(this)};function gt(e){e.T=Date.now()+e.H,_t(e,e.H)}function _t(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Xe(l(e.aa,e),t)}function vt(e){e.D&&=(o.clearTimeout(e.D),null)}st.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(et(this.i,this.B),this.M!=2&&(Ke(),Je(17)),bt(this),this.m=2,yt(this)):_t(this,this.T-e)};function yt(e){e.j.I==0||e.K||Ln(e.j,e)}function bt(e){vt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function xt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Et(n.h,e))){if(!e.L&&Et(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)In(n),Tn(n);else break a;Nn(n),Je(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Xe(l(n.Va,n),6e3));Tt(n.h)<=1&&n.ta&&(n.ta=void 0)}else zn(n,11)}else if((e.L||n.g==e)&&In(n),!ne(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Dt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,N(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Vn(r,r.L?r.ba:null,r.W),o.L){Ot(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(vt(s),gt(s)),r.g=o}else Mn(r);n.i.length>0&&Dn(n)}else l[0]!=`stop`&&l[0]!=`close`||zn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?zn(n,7):wn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ke(4)}catch{}}var St=class{constructor(e,t){this.g=e,this.map=t}};function Ct(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Tt(e){return e.h?1:e.g?e.g.size:0}function Et(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dt(e,t){e.g?e.g.add(t):e.h=t}function Ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ct.prototype.cancel=function(){if(this.i=kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function kt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var At=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function jt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Mt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Mt?(this.l=e.l,Pt(this,e.j),this.o=e.o,this.g=e.g,Ft(this,e.u),this.h=e.h,It(this,Zt(e.i)),this.m=e.m):e&&(t=String(e).match(At))?(this.l=!1,Pt(this,t[1]||``,!0),this.o=Rt(t[2]||``),this.g=Rt(t[3]||``,!0),Ft(this,t[4]),this.h=Rt(t[5]||``,!0),It(this,t[6]||``,!0),this.m=Rt(t[7]||``)):(this.l=!1,this.i=new Gt(null,this.l))}Mt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(P(t,Bt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(P(t,Bt,!0),`@`),e.push(at(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(P(n,n.charAt(0)==`/`?Ht:Vt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,P(n,Wt)),e.join(``)},Mt.prototype.resolve=function(e){let t=Nt(this),n=!!e.j;n?Pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Ft(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?It(t,Zt(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Nt(e){return new Mt(e)}function Pt(e,t,n){e.j=n?Rt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function It(e,t,n){t instanceof Gt?(e.i=t,$t(e.i,e.l)):(n||(t=P(t,Ut)),e.i=new Gt(t,e.l))}function N(e,t,n){e.i.set(t,n)}function Lt(e){return N(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Rt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function P(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function zt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Bt=/[#\/\?@]/g,Vt=/[#\?:]/g,Ht=/[#\?]/g,Ut=/[#\?@]/g,Wt=/#/g;function Gt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kt(e){e.g||(e.g=new Map,e.h=0,e.i&&jt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Gt.prototype,e.add=function(e,t){Kt(this),this.i=null,e=Qt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function qt(e,t){Kt(e),t=Qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jt(e,t){return Kt(e),t=Qt(e,t),e.g.has(t)}e.forEach=function(e,t){Kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function Yt(e,t){Kt(e);let n=[];if(typeof t==`string`)Jt(e,t)&&(n=n.concat(e.g.get(Qt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Kt(this),this.i=null,e=Qt(this,e),Jt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=Yt(this,e),e.length>0?String(e[0]):t):t};function Xt(e,t,n){qt(e,t),n.length>0&&(e.i=null,e.g.set(Qt(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=at(n);n=Yt(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+at(n[t])),e.push(r)}}return this.i=e.join(`&`)};function Zt(e){let t=new Gt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function $t(e,t){t&&!e.j&&(Kt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(qt(this,t),Xt(this,n,e))},e)),e.j=t}function en(e,t){let n=new j;if(o.Image){let r=new Image;r.onload=u(nn,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(nn,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(nn,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(nn,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function tn(e,t){let n=new j,r=new AbortController,i=setTimeout(()=>{r.abort(),nn(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?nn(n,`TestPingServer: ok`,!0,t):nn(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),nn(n,`TestPingServer: error`,!1,t)})}function nn(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function rn(){this.g=new Ie}function an(e){this.i=e.Sb||null,this.h=e.ab||!1}d(an,Le),an.prototype.g=function(){return new on(this.i,this.h)};function on(e,t){Te.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(on,Te),e=on.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,ln(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ln(this)),this.g&&(this.readyState=3,ln(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;sn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function sn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cn(this):ln(this),this.readyState==3&&sn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,cn(this))},e.Na=function(e){this.g&&(this.response=e,cn(this))},e.ga=function(){this.g&&cn(this)};function cn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,ln(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function ln(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(on.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function un(e){let t=``;return se(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function dn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=un(n),typeof e==`string`?n!=null&&at(n):N(e,t,n))}function fn(e){Te.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(fn,Te);var pn=/^https?$/i,mn=[`POST`,`PUT`];e=fn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rt.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){hn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(mn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){hn(this,e)}};function hn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,gn(e),vn(e)}function gn(e){e.A||(e.A=!0,Ee(e,`complete`),Ee(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Ee(this,`complete`),Ee(this,`abort`),vn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),fn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?_n(this):this.Xa())},e.Xa=function(){_n(this)};function _n(e){if(e.h&&a!==void 0){if(e.v&&yn(e)==4)setTimeout(e.Ca.bind(e),0);else if(Ee(e,`readystatechange`),yn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(At)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!pn.test(t?t.toLowerCase():``)}n=r}if(n)Ee(e,`complete`),Ee(e,`success`);else{e.o=6;try{var i=yn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,gn(e)}}finally{vn(e)}}}}function vn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Ee(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function yn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return yn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Fe(t)}};function bn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function xn(e){let t={};e=(e.g&&yn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ne(e[r]))continue;var n=ot(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}O(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function Sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.za=0,this.i=[],this.j=new j,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sn(`baseRetryDelayMs`,5e3,e),this.Za=Sn(`retryDelaySeedMs`,1e4,e),this.Ta=Sn(`forwardChannelMaxRetries`,2,e),this.va=Sn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Ct(e&&e.concurrentRequestLimit),this.Ba=new rn,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Cn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Je(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Vn(this,null,this.W),Dn(this)};function wn(e){if(En(e),e.I==3){var t=e.V++,n=Nt(e.J);if(N(n,`SID`,e.M),N(n,`RID`,t),N(n,`TYPE`,`terminate`),An(e,n),t=new st(e,e.j,t),t.M=2,t.A=Lt(Nt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Hn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),gt(t)}Bn(e)}function Tn(e){e.g&&=(Pn(e),e.g.cancel(),null)}function En(e){Tn(e),e.v&&=(o.clearTimeout(e.v),null),In(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Dn(e){if(!wt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function On(e,t){return Tt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Xe(l(e.Ea,e,t),Rn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new st(this,this.j,e),a=this.o;if(this.U&&(a?(a=k(a),le(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=jn(this,i,t),n=Nt(this.J),N(n,`RID`,e),N(n,`CVER`,22),this.G&&N(n,`X-HTTP-Session-Id`,this.G),An(this,n),a&&(this.R?t=`headers=`+at(un(a))+`&`+t:this.u&&dn(n,this.u,a)),Dt(this.h,i),this.Ra&&N(n,`TYPE`,`init`),this.S?(N(n,`$req`,t),N(n,`SID`,`null`),i.U=!0,dt(i,n,null)):dt(i,n,t),this.I=2}}else this.I==3&&(e?kn(this,e):this.i.length==0||wt(this.h)||kn(this))};function kn(e,t){var n=t?t.l:e.V++;let r=Nt(e.J);N(r,`SID`,e.M),N(r,`RID`,n),N(r,`AID`,e.K),An(e,r),e.u&&e.o&&dn(r,e.u,e.o),n=new st(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=jn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Dt(e.h,n),dt(n,r,t)}function An(e,t){e.H&&se(e.H,function(e,n){N(t,n,e)}),e.l&&se({},function(e,n){N(t,n,e)})}function jn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Pe(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Mn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function Nn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Xe(l(e.Da,e),Rn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Fn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Je(10),Tn(this),Fn(this))};function Pn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Fn(e){e.g=new st(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Nt(e.na);N(t,`RID`,`rpc`),N(t,`SID`,e.M),N(t,`AID`,e.K),N(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&N(t,`TO`,e.ia),N(t,`TYPE`,`xmlhttp`),An(e,t),e.u&&e.o&&dn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Lt(Nt(t)),n.u=null,n.R=!0,ft(n,e)}e.Va=function(){this.C!=null&&(this.C=null,Tn(this),Nn(this),Je(19))};function In(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Ln(e,t){var n=null;if(e.g==t){In(e),Pn(e),e.g=null;var r=2}else if(Et(e.h,t))n=t.G,Ot(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=We(),Ee(r,new Ye(r,n)),Dn(e)}else Mn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&On(e,t)||r==2&&Nn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}}function Rn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function zn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Mt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Pt(r,`https`),Lt(r),t?en(r.toString(),n):tn(r.toString(),n)}else Je(2);e.I=0,e.l&&e.l.pa(t),Bn(e),En(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Je(2)):(this.j.info(`Failed to ping google.com`),Je(1))};function Bn(e){if(e.I=0,e.ja=[],e.l){let t=kt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Vn(e,t,n){var r=n instanceof Mt?Nt(n):new Mt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Ft(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Mt(null);r&&Pt(e,r),t&&(e.g=t),i&&Ft(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&N(r,n,t),N(r,`VER`,e.ka),An(e,r),r}function Hn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new fn(new an({ab:n})):new fn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Un(){}e=Un.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Wn(){}Wn.prototype.g=function(e,t){return new Gn(e,t)};function Gn(e,t){Te.call(this),this.g=new Cn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ne(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ne(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Jn(this)}d(Gn,Te),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){wn(this.g)},Gn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Pe(e),e=n);t.i.push(new St(t.Ya++,e)),t.I==3&&Dn(t)},Gn.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Gn.Z.N.call(this)};function Kn(e){Be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Kn,Be);function qn(){Ve.call(this),this.status=1}d(qn,Ve);function Jn(e){this.g=e}d(Jn,Un),Jn.prototype.ra=function(){Ee(this.g,`a`)},Jn.prototype.qa=function(e){Ee(this.g,new Kn(e))},Jn.prototype.pa=function(e){Ee(this.g,new qn)},Jn.prototype.oa=function(){Ee(this.g,`b`)},Wn.prototype.createWebChannel=Wn.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Ac=Sc.createWebChannelTransport=function(){return new Wn},kc=Sc.getStatEventTarget=function(){return We()},Oc=Sc.Event=He,Dc=Sc.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,Ec=Sc.ErrorCode=nt,M.COMPLETE=`complete`,Tc=Sc.EventType=M,Re.EventType=ze,ze.OPEN=`a`,ze.CLOSE=`b`,ze.ERROR=`c`,ze.MESSAGE=`d`,Te.prototype.listen=Te.prototype.J,wc=Sc.WebChannel=Re,Sc.FetchXmlHttpFactory=an,fn.prototype.listenOnce=fn.prototype.K,fn.prototype.getLastError=fn.prototype.Ha,fn.prototype.getLastErrorCode=fn.prototype.ya,fn.prototype.getStatus=fn.prototype.ca,fn.prototype.getResponseJson=fn.prototype.La,fn.prototype.getResponseText=fn.prototype.la,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Fa,Cc=Sc.XhrIo=fn}).apply(xc===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:xc);var jc=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};jc.UNAUTHENTICATED=new jc(null),jc.GOOGLE_CREDENTIALS=new jc(`google-credentials-uid`),jc.FIRST_PARTY=new jc(`first-party-uid`),jc.MOCK_USER=new jc(`mock-user`);var Mc=`12.9.0`;function Nc(e){Mc=e}var Pc=new Ut(`@firebase/firestore`);function Fc(){return Pc.logLevel}function L(e,...t){if(Pc.logLevel<=P.DEBUG){let n=t.map(Rc);Pc.debug(`Firestore (${Mc}): ${e}`,...n)}}function Ic(e,...t){if(Pc.logLevel<=P.ERROR){let n=t.map(Rc);Pc.error(`Firestore (${Mc}): ${e}`,...n)}}function Lc(e,...t){if(Pc.logLevel<=P.WARN){let n=t.map(Rc);Pc.warn(`Firestore (${Mc}): ${e}`,...n)}}function Rc(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function R(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,zc(e,r,n)}function zc(e,t,n){let r=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Ic(r),Error(r)}function Bc(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||zc(t,i,r)}function z(e,t){return e}var B={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},V=class extends vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Vc=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Hc=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Uc=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jc.UNAUTHENTICATED)))}shutdown(){}},Wc=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Gc=class{constructor(e){this.t=e,this.currentUser=jc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bc(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Vc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vc,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{L(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(L(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Vc)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Bc(typeof t.accessToken==`string`,31837,{l:t}),new Hc(t.accessToken,this.currentUser)):null:(L(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Bc(e===null||typeof e==`string`,2055,{h:e}),new jc(e)}},Kc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=jc.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set(`X-Goog-AuthUser`,this.P);let e=this.A();return e&&this.R.set(`Authorization`,e),this.T&&this.R.set(`X-Goog-Iam-Authorization-Token`,this.T),this.R}},qc=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Kc(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Jc=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Yc=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Bc(this.o===void 0,3512);let n=e=>{e.error!=null&&L(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,L(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{L(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):L(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Jc(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Bc(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Jc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Xc(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var Zc=class{static newId(){let e=``;for(;e.length<20;){let t=Xc(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function Qc(e,t){return e<t?-1:e>t?1:0}function $c(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return nl(n)===nl(i)?Qc(n,i):nl(n)?1:-1}return Qc(e.length,t.length)}var el=55296,tl=57343;function nl(e){let t=e.charCodeAt(0);return t>=el&&t<=tl}function rl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var il=`__name__`,al=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&R(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&R(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return Qc(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):$c(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return yc.fromString(e.substring(4,e.length-2))}},ol=class e extends al{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new V(B.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cl=class e extends al{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return sl.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([il])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new V(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new V(B.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new V(B.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new V(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},H=class e{constructor(e){this.path=e}static fromPath(t){return new e(ol.fromString(t))}static fromName(t){return new e(ol.fromString(t).popFirst(5))}static empty(){return new e(ol.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ol.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ol.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new ol(t.slice()))}};function ll(e,t,n){if(!n)throw new V(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ul(e,t,n,r){if(!0===t&&!0===r)throw new V(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function dl(e){if(!H.isDocumentKey(e))throw new V(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fl(e){if(H.isDocumentKey(e))throw new V(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function pl(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ml(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:R(12329,{type:typeof e})}function hl(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new V(B.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=ml(e);throw new V(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function gl(e,t){let n={typeString:e};return t&&(n.value=t),n}function _l(e,t){if(!pl(e))throw new V(B.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new V(B.INVALID_ARGUMENT,n);return!0}var vl=-62135596800,yl=1e6,bl=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*yl))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new V(B.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<vl||e>=253402300800)throw new V(B.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yl}_compareTo(e){return this.seconds===e.seconds?Qc(this.nanoseconds,e.nanoseconds):Qc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_l(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-vl;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};bl._jsonSchemaVersion=`firestore/timestamp/1.0`,bl._jsonSchema={type:gl(`string`,bl._jsonSchemaVersion),seconds:gl(`number`),nanoseconds:gl(`number`)};var U=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new bl(0,0))}static max(){return new e(new bl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},xl=-1,Sl=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Sl.UNKNOWN_ID=-1;function Cl(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Tl(U.fromTimestamp(r===1e9?new bl(n+1,0):new bl(n,r)),H.empty(),t)}function wl(e){return new Tl(e.readTime,e.key,xl)}var Tl=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(U.min(),H.empty(),xl)}static max(){return new e(U.max(),H.empty(),xl)}};function El(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=H.comparator(e.documentKey,t.documentKey),n===0?Qc(e.largestBatchId,t.largestBatchId):n):n}var Dl=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Ol=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function kl(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==Dl)throw e;L(`LocalStore`,`Unexpectedly lost primary lease`)}var W=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&R(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Al(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function jl(e){return e.name===`IndexedDbTransactionError`}var Ml=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Ml.ce=-1;var Nl=-1;function Pl(e){return e==null}function Fl(e){return e===0&&1/e==-1/0}function Il(e){return typeof e==`number`&&Number.isInteger(e)&&!Fl(e)&&e<=2**53-1&&e>=-(2**53-1)}var Ll=``;function Rl(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Bl(t)),t=zl(e.get(n),t);return Bl(t)}function zl(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Ll:n+=``;break;default:n+=r}}return n}function Bl(e){return e+Ll+``}function Vl(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function G(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hl(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var K=class e{constructor(e,t){this.comparator=e,this.root=t||Wl.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wl.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}},Ul=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wl=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw R(43730,{key:this.key,value:this.value});if(this.right.isRed())throw R(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw R(27949);return e+(this.isRed()?0:1)}};Wl.EMPTY=null,Wl.RED=!0,Wl.BLACK=!1,Wl.EMPTY=new class{constructor(){this.size=0}get key(){throw R(57766)}get value(){throw R(16141)}get color(){throw R(16727)}get left(){throw R(29726)}get right(){throw R(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gl=class e{constructor(e){this.comparator=e,this.data=new K(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kl(this.data.getIterator())}getIteratorFrom(e){return new Kl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Kl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},ql=class e{constructor(e){this.fields=e,e.sort(cl.comparator)}static empty(){return new e([])}unionWith(t){let n=new Gl(cl.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Jl=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},Yl=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Jl(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Yl.EMPTY_BYTE_STRING=new Yl(``);var Xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(e){if(Bc(!!e,39018),typeof e==`string`){let t=0,n=Xl.exec(e);if(Bc(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ql(e.seconds),nanos:Ql(e.nanos)}}function Ql(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function $l(e){return typeof e==`string`?Yl.fromBase64String(e):Yl.fromUint8Array(e)}var eu=`server_timestamp`,tu=`__type__`,nu=`__previous_value__`,ru=`__local_write_time__`;function iu(e){return(e?.mapValue?.fields||{})[tu]?.stringValue===eu}function au(e){let t=e.mapValue.fields[nu];return iu(t)?au(t):t}function ou(e){let t=Zl(e.mapValue.fields[ru].timestampValue);return new bl(t.seconds,t.nanos)}var su=class{constructor(e,t,n,r,i,a,o,s,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l,this.apiKey=u}},cu=`(default)`,lu=class e{constructor(e,t){this.projectId=e,this.database=t||cu}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===cu}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};function uu(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new V(B.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new lu(e.options.projectId,t)}var du=`__type__`,fu=`__max__`,pu={mapValue:{fields:{__type__:{stringValue:fu}}}},mu=`__vector__`,hu=`value`;function gu(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?iu(e)?4:Nu(e)?9007199254740991:ju(e)?10:11:R(28295,{value:e})}function _u(e,t){if(e===t)return!0;let n=gu(e);if(n!==gu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ou(e).isEqual(ou(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Zl(e.timestampValue),r=Zl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $l(e.bytesValue).isEqual($l(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ql(e.geoPointValue.latitude)===Ql(t.geoPointValue.latitude)&&Ql(e.geoPointValue.longitude)===Ql(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Ql(e.integerValue)===Ql(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Ql(e.doubleValue),r=Ql(t.doubleValue);return n===r?Fl(n)===Fl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rl(e.arrayValue.values||[],t.arrayValue.values||[],_u);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vl(n)!==Vl(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!_u(n[e],r[e])))return!1;return!0}(e,t);default:return R(52216,{left:e})}}function vu(e,t){return(e.values||[]).find((e=>_u(e,t)))!==void 0}function yu(e,t){if(e===t)return 0;let n=gu(e),r=gu(t);if(n!==r)return Qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Ql(e.integerValue||e.doubleValue),r=Ql(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bu(e.timestampValue,t.timestampValue);case 4:return bu(ou(e),ou(t));case 5:return $c(e.stringValue,t.stringValue);case 6:return function(e,t){let n=$l(e),r=$l(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=Qc(n[e],r[e]);if(t!==0)return t}return Qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=Qc(Ql(e.latitude),Ql(t.latitude));return n===0?Qc(Ql(e.longitude),Ql(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return xu(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[hu]?.arrayValue,a=r[hu]?.arrayValue,o=Qc(i?.values?.length||0,a?.values?.length||0);return o===0?xu(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===pu.mapValue&&t===pu.mapValue)return 0;if(e===pu.mapValue)return 1;if(t===pu.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=$c(r[e],a[e]);if(t!==0)return t;let o=yu(n[r[e]],i[a[e]]);if(o!==0)return o}return Qc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R(23264,{he:n})}}function bu(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return Qc(e,t);let n=Zl(e),r=Zl(t),i=Qc(n.seconds,r.seconds);return i===0?Qc(n.nanos,r.nanos):i}function xu(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=yu(n[e],r[e]);if(t)return t}return Qc(n.length,r.length)}function Su(e){return Cu(e)}function Cu(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Zl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return $l(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return H.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Cu(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Cu(e.fields[i])}`;return n+`}`}(e.mapValue):R(61005,{value:e})}function wu(e){switch(gu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=au(e);return t?16+wu(t):16;case 5:return 2*e.stringValue.length;case 6:return $l(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+wu(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return G(e.fields,((e,n)=>{t+=e.length+wu(n)})),t}(e.mapValue);default:throw R(13486,{value:e})}}function Tu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Eu(e){return!!e&&`integerValue`in e}function Du(e){return!!e&&`arrayValue`in e}function Ou(e){return!!e&&`nullValue`in e}function ku(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Au(e){return!!e&&`mapValue`in e}function ju(e){return(e?.mapValue?.fields||{})[du]?.stringValue===mu}function Mu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return G(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Mu(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mu(e.arrayValue.values[n]);return t}return{...e}}function Nu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fu}var Pu=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Au(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=cl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Mu(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Au(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Au(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){G(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Mu(this.value))}};function Fu(e){let t=[];return G(e.fields,((e,n)=>{let r=new cl([e]);if(Au(n)){let e=Fu(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new ql(t)}var Iu=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,U.min(),U.min(),U.min(),Pu.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,U.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,U.min(),U.min(),Pu.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,U.min(),U.min(),Pu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(U.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Lu=class{constructor(e,t){this.position=e,this.inclusive=t}};function Ru(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?H.comparator(H.fromName(o.referenceValue),n.key):yu(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function zu(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_u(e.position[n],t.position[n]))return!1;return!0}var Bu=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Vu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hu=class{},Uu=class e extends Hu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Zu(t,n,r):n===`array-contains`?new td(t,r):n===`in`?new nd(t,r):n===`not-in`?new rd(t,r):n===`array-contains-any`?new id(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Qu(e,n):new $u(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(yu(t,this.value)):t!==null&&gu(this.value)===gu(t)&&this.matchesComparison(yu(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return R(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wu=class e extends Hu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Gu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Gu(e){return e.op===`and`}function Ku(e){return qu(e)&&Gu(e)}function qu(e){for(let t of e.filters)if(t instanceof Wu)return!1;return!0}function Ju(e){if(e instanceof Uu)return e.field.canonicalString()+e.op.toString()+Su(e.value);if(Ku(e))return e.filters.map((e=>Ju(e))).join(`,`);{let t=e.filters.map((e=>Ju(e))).join(`,`);return`${e.op}(${t})`}}function Yu(e,t){return e instanceof Uu?function(e,t){return t instanceof Uu&&e.op===t.op&&e.field.isEqual(t.field)&&_u(e.value,t.value)}(e,t):e instanceof Wu?function(e,t){return t instanceof Wu&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Yu(n,t.filters[r])),!0):!1}(e,t):void R(19439)}function Xu(e){return e instanceof Uu?function(e){return`${e.field.canonicalString()} ${e.op} ${Su(e.value)}`}(e):e instanceof Wu?function(e){return e.op.toString()+` {`+e.getFilters().map(Xu).join(` ,`)+`}`}(e):`Filter`}var Zu=class extends Uu{constructor(e,t,n){super(e,t,n),this.key=H.fromName(n.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},Qu=class extends Uu{constructor(e,t){super(e,`in`,t),this.keys=ed(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},$u=class extends Uu{constructor(e,t){super(e,`not-in`,t),this.keys=ed(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function ed(e,t){return(t.arrayValue?.values||[]).map((e=>H.fromName(e.referenceValue)))}var td=class extends Uu{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Du(t)&&vu(t.arrayValue,this.value)}},nd=class extends Uu{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}},rd=class extends Uu{constructor(e,t){super(e,`not-in`,t)}matches(e){if(vu(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}},id=class extends Uu{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Du(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>vu(this.value.arrayValue,e)))}},ad=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function od(e,t=null,n=[],r=[],i=null,a=null,o=null){return new ad(e,t,n,r,i,a,o)}function sd(e){let t=z(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>Ju(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Pl(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Su(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Su(e))).join(`,`)),t.Te=e}return t.Te}function cd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zu(e.startAt,t.startAt)&&zu(e.endAt,t.endAt)}function ld(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ud=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function dd(e,t,n,r,i,a,o,s){return new ud(e,t,n,r,i,a,o,s)}function fd(e){return new ud(e)}function pd(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function md(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function hd(e){return e.collectionGroup!==null}function gd(e){let t=z(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Gl(cl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Bu(r,n))})),e.has(cl.keyField().canonicalString())||t.Ie.push(new Bu(cl.keyField(),n))}return t.Ie}function _d(e){let t=z(e);return t.Ee||=vd(t,gd(e)),t.Ee}function vd(e,t){if(e.limitType===`F`)return od(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Bu(e.field,t)}));let n=e.endAt?new Lu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Lu(e.startAt.position,e.startAt.inclusive):null;return od(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yd(e,t){let n=e.filters.concat([t]);return new ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bd(e,t,n){return new ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xd(e,t){return cd(_d(e),_d(t))&&e.limitType===t.limitType}function Sd(e){return`${sd(_d(e))}|lt:${e.limitType}`}function Cd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Xu(e))).join(`, `)}]`),Pl(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Su(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Su(e))).join(`,`)),`Target(${t})`}(_d(e))}; limitType=${e.limitType})`}function wd(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?H.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of gd(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Ru(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gd(e),t)||e.endAt&&!function(e,t,n){let r=Ru(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gd(e),t))}(e,t)}function Td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ed(e){return(t,n)=>{let r=!1;for(let i of gd(e)){let e=Dd(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Dd(e,t,n){let r=e.field.isKeyField()?H.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?yu(r,i):R(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return R(19790,{direction:e.dir})}}var Od=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){G(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Hl(this.inner)}size(){return this.innerSize}},kd=new K(H.comparator);function Ad(){return kd}var jd=new K(H.comparator);function Md(...e){let t=jd;for(let n of e)t=t.insert(n.key,n);return t}function Nd(e){let t=jd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Pd(){return Id()}function Fd(){return Id()}function Id(){return new Od((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Ld=new K(H.comparator),Rd=new Gl(H.comparator);function q(...e){let t=Rd;for(let n of e)t=t.add(n);return t}var zd=new Gl(Qc);function Bd(){return zd}function Vd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Fl(t)?`-0`:t}}function Hd(e){return{integerValue:``+e}}function Ud(e,t){return Il(t)?Hd(t):Vd(e,t)}var Wd=class{constructor(){this._=void 0}};function Gd(e,t,n){return e instanceof Jd?function(e,t){let n={fields:{[tu]:{stringValue:eu},[ru]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&iu(t)&&(t=au(t)),t&&(n.fields[nu]=t),{mapValue:n}}(n,t):e instanceof Yd?Xd(e,t):e instanceof Zd?Qd(e,t):function(e,t){let n=qd(e,t),r=ef(n)+ef(e.Ae);return Eu(n)&&Eu(e.Ae)?Hd(r):Vd(e.serializer,r)}(e,t)}function Kd(e,t,n){return e instanceof Yd?Xd(e,t):e instanceof Zd?Qd(e,t):n}function qd(e,t){return e instanceof $d?function(e){return Eu(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Jd=class extends Wd{},Yd=class extends Wd{constructor(e){super(),this.elements=e}};function Xd(e,t){let n=tf(t);for(let t of e.elements)n.some((e=>_u(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Zd=class extends Wd{constructor(e){super(),this.elements=e}};function Qd(e,t){let n=tf(t);for(let t of e.elements)n=n.filter((e=>!_u(e,t)));return{arrayValue:{values:n}}}var $d=class extends Wd{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function ef(e){return Ql(e.integerValue||e.doubleValue)}function tf(e){return Du(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nf=class{constructor(e,t){this.field=e,this.transform=t}};function rf(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yd&&t instanceof Yd||e instanceof Zd&&t instanceof Zd?rl(e.elements,t.elements,_u):e instanceof $d&&t instanceof $d?_u(e.Ae,t.Ae):e instanceof Jd&&t instanceof Jd}(e.transform,t.transform)}var af=class{constructor(e,t){this.version=e,this.transformResults=t}},of=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sf(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var cf=class{};function lf(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new yf(e.key,of.none()):new mf(e.key,e.data,of.none());{let n=e.data,r=Pu.empty(),i=new Gl(cl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new hf(e.key,r,new ql(i.toArray()),of.none())}}function uf(e,t,n){e instanceof mf?function(e,t,n){let r=e.value.clone(),i=_f(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hf?function(e,t,n){if(!sf(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=_f(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function df(e,t,n,r){return e instanceof mf?function(e,t,n,r){if(!sf(e.precondition,t))return n;let i=e.value.clone(),a=vf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hf?function(e,t,n,r){if(!sf(e.precondition,t))return n;let i=vf(e.fieldTransforms,r,t),a=t.data;return a.setAll(gf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return sf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ff(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=qd(r.transform,e||null);i!=null&&(n===null&&(n=Pu.empty()),n.set(r.field,i))}return n||null}function pf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&rl(e,t,((e,t)=>rf(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var mf=class extends cf{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},hf=class extends cf{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function gf(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function _f(e,t,n){let r=new Map;Bc(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Kd(o,s,n[i]))}return r}function vf(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Gd(e,a,t))}return r}var yf=class extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},bf=class extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},xf=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&uf(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=df(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=df(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Fd();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=lf(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(U.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),q())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((e,t)=>pf(e,t)))&&rl(this.baseMutations,e.baseMutations,((e,t)=>pf(e,t)))}},Sf=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){Bc(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Ld}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},Cf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},wf=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Tf,J;function Ef(e){switch(e){case B.OK:return R(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return R(15467,{code:e})}}function Df(e){if(e===void 0)return Ic(`GRPC error has no .code`),B.UNKNOWN;switch(e){case Tf.OK:return B.OK;case Tf.CANCELLED:return B.CANCELLED;case Tf.UNKNOWN:return B.UNKNOWN;case Tf.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Tf.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Tf.INTERNAL:return B.INTERNAL;case Tf.UNAVAILABLE:return B.UNAVAILABLE;case Tf.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Tf.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Tf.NOT_FOUND:return B.NOT_FOUND;case Tf.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Tf.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Tf.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Tf.ABORTED:return B.ABORTED;case Tf.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Tf.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Tf.DATA_LOSS:return B.DATA_LOSS;default:return R(39323,{code:e})}}(J=Tf||={})[J.OK=0]=`OK`,J[J.CANCELLED=1]=`CANCELLED`,J[J.UNKNOWN=2]=`UNKNOWN`,J[J.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,J[J.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,J[J.NOT_FOUND=5]=`NOT_FOUND`,J[J.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,J[J.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,J[J.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,J[J.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,J[J.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,J[J.ABORTED=10]=`ABORTED`,J[J.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,J[J.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,J[J.INTERNAL=13]=`INTERNAL`,J[J.UNAVAILABLE=14]=`UNAVAILABLE`,J[J.DATA_LOSS=15]=`DATA_LOSS`;var Of=null;function kf(){return new TextEncoder}var Af=new yc([4294967295,4294967295],0);function jf(e){let t=kf().encode(e),n=new bc;return n.update(t),new Uint8Array(n.digest())}function Mf(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new yc([n,r],0),new yc([i,a],0)]}var Nf=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pf(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=yc.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(yc.fromNumber(n)));return r.compare(Af)===1&&(r=new yc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=Mf(jf(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=Mf(jf(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Pf=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Ff=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,If.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(U.min(),i,new K(Qc),Ad(),q())}},If=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,q(),q(),q())}},Lf=class{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}},Rf=class{constructor(e,t){this.targetId=e,this.Ce=t}},zf=class{constructor(e,t,n=Yl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Bf=class{constructor(){this.ve=0,this.Fe=Uf(),this.Me=Yl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=q(),t=q(),n=q();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R(38017,{changeType:i})}})),new If(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Uf()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){--this.ve,Bc(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},Vf=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ad(),this.He=Hf(),this.Je=Hf(),this.Ze=new K(Qc)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:R(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(ld(i))if(n===0){let e=new H(i.path);this.et(t,e,Iu.newNoDocument(e,U.min()))}else Bc(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ze=this.Ze.insert(t,e)}Of?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=$l(n).toUint8Array()}catch(e){if(e instanceof Jl)return Lc(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Nf(a,r,i)}catch(e){return Lc(e instanceof Pf?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&ld(i.target)){let t=new H(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Iu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}}));let n=q();this.Je.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Ff(e,t,this.Ze,this.je,n);return this.je=Ad(),this.He=Hf(),this.Je=Hf(),this.Ze=new K(Qc),r}Ye(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Bf,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Gl(Qc),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Gl(Qc),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||L(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bf),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Hf(){return new K(H.comparator)}function Uf(){return new K(H.comparator)}var Wf={asc:`ASCENDING`,desc:`DESCENDING`},Gf={"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`},Kf={and:`AND`,or:`OR`},qf=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Jf(e,t){return e.useProto3Json||Pl(t)?t:{value:t}}function Yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Xf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zf(e,t){return Yf(e,t.toTimestamp())}function Qf(e){return Bc(!!e,49232),U.fromTimestamp(function(e){let t=Zl(e);return new bl(t.seconds,t.nanos)}(e))}function $f(e,t){return ep(e,t).canonicalString()}function ep(e,t){let n=function(e){return new ol([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function tp(e){let t=ol.fromString(e);return Bc(Tp(t),10190,{key:t.toString()}),t}function np(e,t){return $f(e.databaseId,t.path)}function rp(e,t){let n=tp(t);if(n.get(1)!==e.databaseId.projectId)throw new V(B.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new V(B.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new H(sp(n))}function ip(e,t){return $f(e.databaseId,t)}function ap(e){let t=tp(e);return t.length===4?ol.emptyPath():sp(t)}function op(e){return new ol([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function sp(e){return Bc(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function cp(e,t,n){return{name:np(e,t),fields:n.value.mapValue.fields}}function lp(e,t){return`found`in t?function(e,t){Bc(!!t.found,43571),t.found.name,t.found.updateTime;let n=rp(e,t.found.name),r=Qf(t.found.updateTime),i=t.found.createTime?Qf(t.found.createTime):U.min(),a=new Pu({mapValue:{fields:t.found.fields}});return Iu.newFoundDocument(n,r,i,a)}(e,t):`missing`in t?function(e,t){Bc(!!t.missing,3894),Bc(!!t.readTime,22933);let n=rp(e,t.missing),r=Qf(t.readTime);return Iu.newNoDocument(n,r)}(e,t):R(7234,{result:t})}function up(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:R(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Bc(t===void 0||typeof t==`string`,58123),Yl.fromBase64String(t||``)):(Bc(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),Yl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new zf(r,i,a,o&&function(e){return new V(e.code===void 0?B.UNKNOWN:Df(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=rp(e,r.document.name),a=Qf(r.document.updateTime),o=r.document.createTime?Qf(r.document.createTime):U.min(),s=new Pu({mapValue:{fields:r.document.fields}}),c=Iu.newFoundDocument(i,a,o,s);n=new Lf(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=rp(e,r.document),a=r.readTime?Qf(r.readTime):U.min(),o=Iu.newNoDocument(i,a);n=new Lf([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=rp(e,r.document);n=new Lf([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return R(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new wf(r,i),o=e.targetId;n=new Rf(o,a)}}return n}function dp(e,t){let n;if(t instanceof mf)n={update:cp(e,t.key,t.value)};else if(t instanceof yf)n={delete:np(e,t.key)};else if(t instanceof hf)n={update:cp(e,t.key,t.data),updateMask:wp(t.fieldMask)};else{if(!(t instanceof bf))return R(16599,{dt:t.type});n={verify:np(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Jd)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Yd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $d)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw R(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?R(27497):{exists:t.exists}:{updateTime:Zf(e,t.updateTime)}}(e,t.precondition)),n}function fp(e,t){return e&&e.length>0?(Bc(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Qf(e.updateTime):Qf(t);return n.isEqual(U.min())&&(n=Qf(t)),new af(n,e.transformResults||[])}(e,t)))):[]}function pp(e,t){return{documents:[ip(e,t.path)]}}function mp(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=ip(e,i);let a=function(e){if(e.length!==0)return Cp(Wu.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:xp(e.field),direction:vp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Jf(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function hp(e){let t=ap(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bc(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=_p(e);return t instanceof Wu&&Ku(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Bu(Sp(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Pl(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Lu(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Lu(e.values||[],t)}(n.endAt)),dd(t,i,o,a,s,`F`,c,l)}function gp(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return R(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _p(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?R(30097,{filter:e}):function(e){return Wu.create(e.compositeFilter.filters.map((e=>_p(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return R(1026)}}(e.compositeFilter.op))}(e):function(e){return Uu.create(Sp(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return R(58110);default:return R(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Sp(e.unaryFilter.field);return Uu.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Sp(e.unaryFilter.field);return Uu.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Sp(e.unaryFilter.field);return Uu.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Sp(e.unaryFilter.field);return Uu.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return R(61313);default:return R(60726)}}(e)}function vp(e){return Wf[e]}function yp(e){return Gf[e]}function bp(e){return Kf[e]}function xp(e){return{fieldPath:e.canonicalString()}}function Sp(e){return cl.fromServerFormat(e.fieldPath)}function Cp(e){return e instanceof Uu?function(e){if(e.op===`==`){if(ku(e.value))return{unaryFilter:{field:xp(e.field),op:`IS_NAN`}};if(Ou(e.value))return{unaryFilter:{field:xp(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(ku(e.value))return{unaryFilter:{field:xp(e.field),op:`IS_NOT_NAN`}};if(Ou(e.value))return{unaryFilter:{field:xp(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:xp(e.field),op:yp(e.op),value:e.value}}}(e):e instanceof Wu?function(e){let t=e.getFilters().map((e=>Cp(e)));return t.length===1?t[0]:{compositeFilter:{op:bp(e.op),filters:t}}}(e):R(54877,{filter:e})}function wp(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Tp(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}function Ep(e){return!!e&&typeof e._toProto==`function`&&e._protoValueType===`ProtoValue`}var Dp=class e{constructor(e,t,n,r,i=U.min(),a=U.min(),o=Yl.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Op=class{constructor(e){this.yt=e}};function kp(e){let t=hp({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?bd(t,t.limit,`L`):t}var Ap=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Ql(e.integerValue));else if(`doubleValue`in e){let n=Ql(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Fl(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Zl(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt($l(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Nu(e)?this.Ft(t,2**53-1):ju(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Nt(t)):R(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=hu,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ql(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),H.fromName(e).path.forEach((e=>{this.Ft(t,60),this.$t(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Ap.Wt=new Ap;var jp=class{constructor(){this.Sn=new Mp}addToCollectionParentIndex(e,t){return this.Sn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Tl.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Tl.min())}updateCollectionGroup(e,t,n){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}},Mp=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gl(ol.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gl(ol.comparator)).toArray()}};new Uint8Array;var Np={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pp=41943040,Fp=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Fp.DEFAULT_COLLECTION_PERCENTILE=10,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fp.DEFAULT=new Fp(Pp,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fp.DISABLED=new Fp(-1,0,0);var Ip=class e{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new e(0)}static ar(){return new e(-1)}},Lp=`LruGarbageCollector`,Rp=1048576;function zp([e,t],[n,r]){let i=Qc(e,n);return i===0?Qc(t,r):i}var Bp=class{constructor(e){this.Pr=e,this.buffer=new Gl(zp),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();zp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vp=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Ar(e){L(Lp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jl(e)?L(Lp,`Ignoring IndexedDB error during garbage collection: `,e):await kl(e)}await this.Ar(3e5)}))}},Hp=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Ml.ce);let n=new Bp(t);return this.Vr.forEachTarget(e,(e=>n.Er(e.sequenceNumber))).next((()=>this.Vr.mr(e,(e=>n.Er(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L(`LruGarbageCollector`,`Garbage collection skipped; disabled`),W.resolve(Np)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(L(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Np):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(L(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Fc()<=P.DEBUG&&L(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Up(e,t){return new Hp(e,t)}var Wp=class{constructor(){this.changes=new Od((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Iu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):W.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Gp=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Kp=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&df(n.mutation,e,ql.empty(),bl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,q()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=q()){let r=Pd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Md();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Pd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,q())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ad(),a=Id(),o=function(){return Id()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof hf)?i=i.insert(t.key,t):o===void 0?a.set(t.key,ql.empty()):(a.set(t.key,o.mutation.getFieldMask()),df(o.mutation,t,o.mutation.getFieldMask(),bl.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Gp(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Id(),r=new K(((e,t)=>e-t)),i=q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||ql.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||q()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Fd();c.forEach((e=>{if(!i.has(e)){let r=lf(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return W.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return md(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):W.resolve(Pd()),o=xl,s=i;return a.next((t=>W.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?W.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,q()))).next((e=>({batchId:o,changes:Nd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next((e=>{let t=Md();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Md();return this.indexManager.getCollectionParents(e,i).next((o=>W.forEach(o,(o=>{let s=function(e,t){return new ud(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Iu.newInvalidDocument(r)))}));let n=Md();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&df(a.mutation,r,ql.empty(),bl.now()),wd(t,r)&&(n=n.insert(e,r))})),n}))}},qp=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return W.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qf(e.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:kp(e.bundledQuery),readTime:Qf(e.readTime)}}(t)),W.resolve()}},Jp=class{constructor(){this.overlays=new K(H.comparator),this.Lr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Pd();return W.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),W.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Lr.delete(n)),W.resolve()}getOverlaysForCollection(e,t,n){let r=Pd(),i=t.length+1,a=new H(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return W.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new K(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Pd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Pd(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return W.resolve(o)}bt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cf(t,n));let i=this.Lr.get(t);i===void 0&&(i=q(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}},Yp=class{constructor(){this.sessionToken=Yl.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}},Xp=class{constructor(){this.kr=new Gl(Zp.Kr),this.qr=new Gl(Zp.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new Zp(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new Zp(e,t))}Qr(e,t){e.forEach((e=>this.removeReference(e,t)))}Gr(e){let t=new H(new ol([])),n=new Zp(t,e),r=new Zp(t,e+1),i=[];return this.qr.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new H(new ol([])),n=new Zp(t,e),r=new Zp(t,e+1),i=q();return this.qr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Zp(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Zp=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return H.comparator(e.key,t.key)||Qc(e.Hr,t.Hr)}static Ur(e,t){return Qc(e.Hr,t.Hr)||H.comparator(e.key,t.key)}},Qp=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Gl(Zp.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new xf(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Jr=this.Jr.add(new Zp(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return W.resolve(a)}lookupMutationBatch(e,t){return W.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Nl:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Zp(t,0),r=new Zp(t,1/0),i=[];return this.Jr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gl(Qc);return t.forEach((e=>{let t=new Zp(e,0),r=new Zp(e,1/0);this.Jr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),W.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;H.isDocumentKey(i)||(i=i.child(``));let a=new Zp(new H(i),0),o=new Gl(Qc);return this.Jr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),W.resolve(this.Yr(o))}Yr(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Bc(this.ei(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Jr;return W.forEach(t.mutations,(r=>{let i=new Zp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){let n=new Zp(t,0),r=this.Jr.firstAfterOrEqual(n);return W.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},$p=class{constructor(e){this.ti=e,this.docs=function(){return new K(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return W.resolve(n?n.document.mutableCopy():Iu.newInvalidDocument(t))}getEntries(e,t){let n=Ad();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Iu.newInvalidDocument(e))})),W.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ad(),a=t.path,o=new H(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||El(wl(o),n)<=0||(r.has(o.key)||wd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,t,n,r){R(9500)}ni(e,t){return W.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new em(this)}getSize(e){return W.resolve(this.size)}},em=class extends Wp{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)})),W.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}},tm=class{constructor(e){this.persistence=e,this.ri=new Od((e=>sd(e)),cd),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.ii=0,this.si=new Xp,this.targetCount=0,this.oi=Ip._r()}forEachTarget(e,t){return this.ri.forEach(((e,n)=>t(n))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),W.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new Ip(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.lr(t),W.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),--this.targetCount,W.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),W.waitFor(i).next((()=>r))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return W.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),W.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),W.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),W.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return W.resolve(n)}containsKey(e,t){return W.resolve(this.si.containsKey(t))}},nm=class{constructor(e,t){this._i={},this.overlays={},this.ai=new Ml(0),this.ui=!1,this.ui=!0,this.ci=new Yp,this.referenceDelegate=e(this),this.li=new tm(this),this.indexManager=new jp,this.remoteDocumentCache=function(e){return new $p(e)}((e=>this.referenceDelegate.hi(e))),this.serializer=new Op(t),this.Pi=new qp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Qp(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){L(`MemoryPersistence`,`Starting transaction:`,e);let r=new rm(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((e=>this.referenceDelegate.Ii(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return W.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}},rm=class extends Ol{constructor(e){super(),this.currentSequenceNumber=e}},im=class e{constructor(e){this.persistence=e,this.Ri=new Xp,this.Ai=null}static Vi(t){return new e(t)}get di(){if(this.Ai)return this.Ai;throw R(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),W.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((e=>this.di.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(n=>{let r=H.fromPath(n);return this.mi(e,r).next((e=>{e||t.removeEntry(r,U.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},am=class e{constructor(e,t){this.persistence=e,this.fi=new Od((e=>Rl(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Up(this,t)}static Vi(t,n){return new e(t,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}pr(e){let t=0;return this.mr(e,(e=>{t++})).next((()=>t))}mr(e,t){return W.forEach(this.fi,((n,r)=>this.wr(e,n,r).next((e=>e?W.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(r=>this.wr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,U.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),W.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wu(e.data.value)),t}wr(e,t,n){return W.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return W.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},om=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(t,n){let r=q(),i=q();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},sm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},cm=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return mt()?8:Al(st())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ps(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new sm;return this.ys(e,t,n).next((r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)}))})).next((()=>i.result))}ws(e,t,n,r){return n.documentReadCount<this.Vs?(Fc()<=P.DEBUG&&L(`QueryEngine`,`SDK will not create cache indexes for query:`,Cd(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),W.resolve()):(Fc()<=P.DEBUG&&L(`QueryEngine`,`Query:`,Cd(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.ds*r?(Fc()<=P.DEBUG&&L(`QueryEngine`,`The SDK decides to create cache indexes for query:`,Cd(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,_d(t))):W.resolve())}gs(e,t){if(pd(t))return W.resolve(null);let n=_d(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=bd(t,null,`F`),n=_d(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=q(...r);return this.fs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,bd(t,null,`F`)):this.Ds(e,a,t,n)}))))})))))}ps(e,t,n,r){return pd(t)||r.isEqual(U.min())?W.resolve(null):this.fs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ss(t,a,n,r)?W.resolve(null):(Fc()<=P.DEBUG&&L(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),Cd(t)),this.Ds(e,a,t,Cl(r,xl)).next((e=>e)))}))}bs(e,t){let n=new Gl(Ed(e));return t.forEach(((t,r)=>{wd(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return Fc()<=P.DEBUG&&L(`QueryEngine`,`Using full collection scan to execute query:`,Cd(t)),this.fs.getDocumentsMatchingQuery(e,t,Tl.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},lm=`LocalStore`,um=3e8,dm=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new K(Qc),this.Fs=new Od((e=>sd(e)),cd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kp(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.vs)))}};function fm(e,t,n,r){return new dm(e,t,n,r)}async function pm(e,t){let n=z(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=q();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ns:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function mm(e,t){let n=z(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=W.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);Bc(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=q();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function hm(e){let t=z(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.li.getLastRemoteSnapshotVersion(e)))}function gm(e,t){let n=z(e),r=t.snapshotVersion,i=n.vs;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.li.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.li.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(Yl.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=um?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.li.updateTargetData(e,l))}));let s=Ad(),c=q();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(_m(e,a,t.documentUpdates).next((e=>{s=e.Bs,c=e.Ls}))),!r.isEqual(U.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next((t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return W.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.vs=i,e)))}function _m(e,t,n){let r=q(),i=q();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ad();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(U.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):L(lm,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Bs:r,Ls:i}}))}function vm(e,t){let n=z(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Nl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ym(e,t){let n=z(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.li.getTargetData(e,t).next((i=>i?(r=i,W.resolve(r)):n.li.allocateTargetId(e).next((i=>(r=new Dp(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.li.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.vs.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e}))}async function bm(e,t,n){let r=z(e),i=r.vs.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!jl(e))throw e;L(lm,`Failed to update sequence numbers for target ${t}: ${e}`)}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function xm(e,t,n){let r=z(e),i=U.min(),a=q();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=z(e),i=r.Fs.get(n);return i===void 0?r.li.getTargetData(t,n):W.resolve(r.vs.get(i))}(r,e,_d(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:U.min(),n?a:q()))).next((e=>(Sm(r,Td(t),e),{documents:e,ks:a})))))}function Sm(e,t,n){let r=e.Ms.get(t)||U.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ms.set(t,r)}var Cm=class{constructor(){this.activeTargetIds=Bd()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},wm=class{constructor(){this.vo=new Cm,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||`not-current`}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Cm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Tm=class{Mo(e){}shutdown(){}},Em=`ConnectivityMonitor`,Dm=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener(`online`,this.xo),window.removeEventListener(`offline`,this.No)}ko(){window.addEventListener(`online`,this.xo),window.addEventListener(`offline`,this.No)}Oo(){L(Em,`Network connectivity changed: AVAILABLE`);for(let e of this.Lo)e(0)}Bo(){L(Em,`Network connectivity changed: UNAVAILABLE`);for(let e of this.Lo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Om=null;function km(){return Om===null?Om=function(){return 268435456+Math.round(2147483648*Math.random())}():Om++,`0x`+Om.toString(16)}var Am=`RestConnection`,jm={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`,ExecutePipeline:`executePipeline`},Mm=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===cu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=km(),o=this.Qo(e,t.toUriEncodedString());L(Am,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:c}=new URL(o),l=et(c);return this.zo(e,o,s,n,l).then((t=>(L(Am,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Lc(Am,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Mc}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Qo(e,t){let n=jm[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}},Nm=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}},Pm=`WebChannelConnection`,Fm=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))},Im=class e extends Mm{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){e.c_||=(Fm(kc(),Oc.STAT_EVENT,(e=>{e.stat===Dc.PROXY?L(Pm,`STAT_EVENT: detected buffering proxy`):e.stat===Dc.NOPROXY&&L(Pm,`STAT_EVENT: detected no buffering proxy`)})),!0)}zo(e,t,n,r,i){let a=km();return new Promise(((i,o)=>{let s=new Cc;s.setWithCredentials(!0),s.listenOnce(Tc.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ec.NO_ERROR:let t=s.getResponseJson();L(Pm,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Ec.TIMEOUT:L(Pm,`RPC '${e}' ${a} timed out`),o(new V(B.DEADLINE_EXCEEDED,`Request time out`));break;case Ec.HTTP_ERROR:let n=s.getStatus();if(L(Pm,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new V(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(B).indexOf(t)>=0?t:B.UNKNOWN}(t.status),t.message)):o(new V(B.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new V(B.UNAVAILABLE,`Connection failed.`));break;default:R(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{L(Pm,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);L(Pm,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(t,n,r){let i=km(),a=[this.qo,`/`,`google.firestore.v1.Firestore`,`/`,t,`/channel`],o=this.createWebChannelTransport(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;let l=a.join(``);L(Pm,`Creating RPC '${t}' stream ${i}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new Nm({Ho:e=>{f?L(Pm,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(d||=(L(Pm,`Opening RPC '${t}' stream ${i} transport.`),u.open(),!0),L(Pm,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Jo:()=>u.close()});return Fm(u,wc.EventType.OPEN,(()=>{f||(L(Pm,`RPC '${t}' stream ${i} transport opened.`),p.i_())})),Fm(u,wc.EventType.CLOSE,(()=>{f||(f=!0,L(Pm,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(u))})),Fm(u,wc.EventType.ERROR,(e=>{f||(f=!0,Lc(Pm,`RPC '${t}' stream ${i} transport errored. Name:`,e.name,`Message:`,e.message),p.o_(new V(B.UNAVAILABLE,`The operation could not be completed`)))})),Fm(u,wc.EventType.MESSAGE,(e=>{if(!f){let n=e.data[0];Bc(!!n,16349);let r=n,a=r?.error||r[0]?.error;if(a){L(Pm,`RPC '${t}' stream ${i} received error:`,a);let e=a.status,n=function(e){let t=Tf[e];if(t!==void 0)return Df(t)}(e),r=a.message;e===`NOT_FOUND`&&r.includes(`database`)&&r.includes(`does not exist`)&&r.includes(this.databaseId.database)&&Lc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),n===void 0&&(n=B.INTERNAL,r=`Unknown error status: `+e+` with message `+a.message),f=!0,p.o_(new V(n,r)),u.close()}else L(Pm,`RPC '${t}' stream ${i} received:`,n),p.__(n)}})),e.u_(),setTimeout((()=>{p.s_()}),0),p}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e[`x-goog-api-key`]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ac()}};function Lm(e){return new Im(e)}function Rm(){return typeof document<`u`?document:null}function zm(e){return new qf(e,!0)}Im.c_=!1;var Bm=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&L(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}},Vm=`PersistentStream`,Hm=class{constructor(e,t,n,r,i,a,o,s){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bm(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===B.RESOURCE_EXHAUSTED?(Ic(t.toString()),Ic(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new V(B.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.H_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return L(Vm,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(L(Vm,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Um=class extends Hm{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=up(this.serializer,e),n=function(e){if(!(`targetChange`in e))return U.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?U.min():t.readTime?Qf(t.readTime):U.min()}(e);return this.listener.J_(t,n)}Z_(e){let t={};t.database=op(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=ld(r)?{documents:pp(e,r)}:{query:mp(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Xf(e,t.resumeToken);let r=Jf(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(U.min())>0){n.readTime=Yf(e,t.snapshotVersion.toTimestamp());let r=Jf(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=gp(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){let t={};t.database=op(this.serializer),t.removeTarget=e,this.K_(t)}},Wm=class extends Hm{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}H_(e){return Bc(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bc(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bc(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=fp(e.writeResults,e.commitTime),n=Qf(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=op(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>dp(this.serializer,e)))};this.K_(t)}},Gm=class{},Km=class extends Gm{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new V(B.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,ep(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new V(B.UNKNOWN,e.toString())}))}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,ep(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new V(B.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}};function qm(e,t,n,r){return new Km(e,t,n,r)}var Jm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ic(t),this.aa=!1):L(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},Ym=`RemoteStore`,Xm=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((e=>{n.enqueueAndForget((async()=>{ah(this)&&(L(Ym,`Restarting streams for network reachability change.`),await async function(e){let t=z(e);t.Ea.add(4),await Qm(t),t.Va.set(`Unknown`),t.Ea.delete(4),await Zm(t)}(this))}))})),this.Va=new Jm(n,r)}};async function Zm(e){if(ah(e))for(let t of e.Ra)await t(!0)}async function Qm(e){for(let t of e.Ra)await t(!1)}function $m(e,t){let n=z(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ih(n)?rh(n):wh(n).O_()&&th(n,t))}function eh(e,t){let n=z(e),r=wh(n);n.Ia.delete(t),r.O_()&&nh(n,t),n.Ia.size===0&&(r.O_()?r.L_():ah(n)&&n.Va.set(`Unknown`))}function th(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(U.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wh(e).Z_(t)}function nh(e,t){e.da.$e(t),wh(e).X_(t)}function rh(e){e.da=new Vf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),wh(e).start(),e.Va.ua()}function ih(e){return ah(e)&&!wh(e).x_()&&e.Ia.size>0}function ah(e){return z(e).Ea.size===0}function oh(e){e.da=void 0}async function sh(e){e.Va.set(`Online`)}async function ch(e){e.Ia.forEach(((t,n)=>{th(e,t)}))}async function lh(e,t){oh(e),ih(e)?(e.Va.ha(t),rh(e)):e.Va.set(`Unknown`)}async function uh(e,t,n){if(e.Va.set(`Online`),t instanceof zf&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){L(Ym,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await dh(e,n)}else if(t instanceof Lf?e.da.Xe(t):t instanceof Rf?e.da.st(t):e.da.tt(t),!n.isEqual(U.min()))try{let t=await hm(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.da.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(Yl.EMPTY_BYTE_STRING,r.snapshotVersion)),nh(e,t),th(e,new Dp(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){L(Ym,`Failed to raise snapshot:`,t),await dh(e,t)}}async function dh(e,t,n){if(!jl(t))throw t;e.Ea.add(1),await Qm(e),e.Va.set(`Offline`),n||=()=>hm(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{L(Ym,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Zm(e)}))}function fh(e,t){return t().catch((n=>dh(e,n,t)))}async function ph(e){let t=z(e),n=Th(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nl;for(;mh(t);)try{let e=await vm(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,hh(t,e)}catch(e){await dh(t,e)}gh(t)&&_h(t)}function mh(e){return ah(e)&&e.Ta.length<10}function hh(e,t){e.Ta.push(t);let n=Th(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function gh(e){return ah(e)&&!Th(e).x_()&&e.Ta.length>0}function _h(e){Th(e).start()}async function vh(e){Th(e).ra()}async function yh(e){let t=Th(e);for(let n of e.Ta)t.ea(n.mutations)}async function bh(e,t,n){let r=e.Ta.shift(),i=Sf.from(r,t,n);await fh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ph(e)}async function xh(e,t){t&&Th(e).Y_&&await async function(e,t){if(function(e){return Ef(e)&&e!==B.ABORTED}(t.code)){let n=e.Ta.shift();Th(e).B_(),await fh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ph(e)}}(e,t),gh(e)&&_h(e)}async function Sh(e,t){let n=z(e);n.asyncQueue.verifyOperationInProgress(),L(Ym,`RemoteStore received new credentials`);let r=ah(n);n.Ea.add(3),await Qm(n),r&&n.Va.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zm(n)}async function Ch(e,t){let n=z(e);t?(n.Ea.delete(2),await Zm(n)):t||(n.Ea.add(2),await Qm(n),n.Va.set(`Unknown`))}function wh(e){return e.ma||(e.ma=function(e,t,n){let r=z(e);return r.sa(),new Um(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:sh.bind(null,e),Yo:ch.bind(null,e),t_:lh.bind(null,e),J_:uh.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),ih(e)?rh(e):e.Va.set(`Unknown`)):(await e.ma.stop(),oh(e))}))),e.ma}function Th(e){return e.fa||(e.fa=function(e,t,n){let r=z(e);return r.sa(),new Wm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vh.bind(null,e),t_:xh.bind(null,e),ta:yh.bind(null,e),na:bh.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await ph(e)):(await e.fa.stop(),e.Ta.length>0&&(L(Ym,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var Eh=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(B.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Dh(e,t){if(Ic(`AsyncQueue`,`${t}: ${e}`),jl(e))return new V(B.UNAVAILABLE,`${t}: ${e}`);throw e}var Oh=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||H.comparator(t.key,n.key):(e,t)=>H.comparator(e.key,t.key),this.keyedMap=Md(),this.sortedSet=new K(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},kh=class{constructor(){this.ga=new K(H.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):R(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},Ah=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,Oh.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},jh=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}},Mh=class{constructor(){this.queries=Nh(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=z(e),r=n.queries;n.queries=Nh(),r.forEach(((e,n)=>{for(let e of n.ba)e.onError(t)}))})(this,new V(B.ABORTED,`Firestore shutting down`))}};function Nh(){return new Od((e=>Sd(e)),xd)}async function Ph(e,t){let n=z(e),r=3,i=t.query,a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new jh,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=Dh(e,`Initialization of query '${Cd(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Rh(n)}async function Fh(e,t){let n=z(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ih(e,t){let n=z(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.ba)t.Fa(e)&&(r=!0);i.wa=e}}r&&Rh(n)}function Lh(e,t,n){let r=z(e),i=r.queries.get(t);if(i)for(let e of i.ba)e.onError(n);r.queries.delete(t)}function Rh(e){e.Ca.forEach((e=>{e.next()}))}var zh,Bh;(Bh=zh||={}).Ma=`default`,Bh.Cache=`cache`;var Vh=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new Ah(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zh.Cache}},Hh=class{constructor(e){this.key=e}},Uh=class{constructor(e){this.key=e}},Wh=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=q(),this.mutatedKeys=q(),this.eu=Ed(e),this.tu=new Oh(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new kh,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=wd(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Ya.size===0&&this.current&&!r?1:0,c=s!==this.Xa;return this.Xa=s,a.length!==0||c?{snapshot:new Ah(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kh,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=q(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))}));let t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new Uh(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Hh(n))})),t}cu(e){this.Za=e.ks,this.Ya=q();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ah.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},Gh=`SyncEngine`,Kh=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},qh=class{constructor(e){this.key=e,this.hu=!1}},Jh=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Od((e=>Sd(e)),xd),this.Iu=new Map,this.Eu=new Set,this.Ru=new K(H.comparator),this.Au=new Map,this.Vu=new Xp,this.du={},this.mu=new Map,this.fu=Ip.ar(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function Yh(e,t,n=!0){let r=_g(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Zh(r,t,n,!0),i}async function Xh(e,t){await Zh(_g(e),t,!0,!1)}async function Zh(e,t,n,r){let i=await ym(e.localStore,_d(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await Qh(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&$m(e.remoteStore,i),s}async function Qh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await xm(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return dg(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await xm(e.localStore,t,!0),o=new Wh(t,a.ks),s=o.ru(a.documents),c=If.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);dg(e,n,l.au);let u=new Kh(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function $h(e,t,n){let r=z(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!xd(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eh(r.remoteStore,i.targetId),lg(r,i.targetId)})).catch(kl)):(lg(r,i.targetId),await bm(r.localStore,i.targetId,!0))}async function eg(e,t){let n=z(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eh(n.remoteStore,r.targetId))}async function tg(e,t,n){let r=vg(e);try{let e=await function(e,t){let n=z(e),r=bl.now(),i=t.reduce(((e,t)=>e.add(t.key)),q()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Ad(),c=q();return n.xs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=ff(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new hf(e.key,t,Fu(t.value.mapValue),of.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Nd(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||=new K(Qc),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await mg(r,e.changes),await ph(r.remoteStore)}catch(e){let t=Dh(e,`Failed to persist write`);n.reject(t)}}async function ng(e,t){let n=z(e);try{let e=await gm(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(Bc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Bc(r.hu,14607):e.removedDocuments.size>0&&(Bc(r.hu,42227),r.hu=!1))})),await mg(n,e,t)}catch(e){await kl(e)}}function rg(e,t,n){let r=z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=z(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)})),r&&Rh(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ig(e,t,n){let r=z(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new K(H.comparator);e=e.insert(a,Iu.newNoDocument(a,U.min()));let n=q().add(a);await ng(r,new Ff(U.min(),new Map,new K(Qc),e,n)),r.Ru=r.Ru.remove(a),r.Au.delete(t),pg(r)}else await bm(r.localStore,t,!1).then((()=>lg(r,t,n))).catch(kl)}async function ag(e,t){let n=z(e),r=t.batch.batchId;try{let e=await mm(n.localStore,t);cg(n,r,null),sg(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await mg(n,e)}catch(e){await kl(e)}}async function og(e,t,n){let r=z(e);try{let e=await function(e,t){let n=z(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Bc(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);cg(r,t,n),sg(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await mg(r,e)}catch(e){await kl(e)}}function sg(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function cg(e,t,n){let r=z(e),i=r.du[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function lg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((t=>{e.Vu.containsKey(t)||ug(e,t)}))}function ug(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);n!==null&&(eh(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),pg(e))}function dg(e,t,n){for(let r of n)r instanceof Hh?(e.Vu.addReference(r.key,t),fg(e,r)):r instanceof Uh?(L(Gh,`Document no longer in limbo: `+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||ug(e,r.key)):R(19791,{wu:r})}function fg(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(L(Gh,`New document in limbo: `+n),e.Eu.add(r),pg(e))}function pg(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new H(ol.fromString(t)),r=e.fu.next();e.Au.set(r,new qh(n)),e.Ru=e.Ru.insert(n,r),$m(e.remoteStore,new Dp(_d(fd(n.path)),r,`TargetPurposeLimboResolution`,Ml.ce))}}async function mg(e,t,n){let r=z(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=om.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.J_(i),await async function(e,t){let n=z(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>W.forEach(t,(t=>W.forEach(t.Ts,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>W.forEach(t.Is,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!jl(e))throw e;L(lm,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,a))}async function hg(e,t){let n=z(e);if(!n.currentUser.isEqual(t)){L(Gh,`User change. New user:`,t.toKey());let e=await pm(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new V(B.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mg(n,e.Ns)}}function gg(e,t){let n=z(e),r=n.Au.get(t);if(r&&r.hu)return q().add(r.key);{let e=q(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function _g(e){let t=z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ng.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ig.bind(null,t),t.Pu.J_=Ih.bind(null,t.eventManager),t.Pu.yu=Lh.bind(null,t.eventManager),t}function vg(e){let t=z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ag.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=og.bind(null,t),t}var yg=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return fm(this.persistence,new cm,e.initialUser,this.serializer)}Cu(e){return new nm(im.Vi,this.serializer)}Du(e){return new wm}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};yg.provider={build:()=>new yg};var bg=class extends yg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Bc(this.persistence.referenceDelegate instanceof am,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Vp(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Fp.DEFAULT:Fp.withCacheSize(this.cacheSizeBytes);return new nm((e=>am.Vi(e,t)),this.serializer)}},xg=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>rg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hg.bind(null,this.syncEngine),await Ch(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mh}()}createDatastore(e){let t=zm(e.databaseInfo.databaseId),n=Lm(e.databaseInfo);return qm(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Xm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>rg(this.syncEngine,e,0)),function(){return Dm.v()?new Dm:new Tm}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new Jh(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=z(e);L(Ym,`RemoteStore shutting down.`),t.Ea.add(5),await Qm(t),t.Aa.shutdown(),t.Va.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};xg.provider={build:()=>new xg};var Sg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ic(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},Cg=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new V(B.INVALID_ARGUMENT,`Firestore transactions require all reads to be executed before all writes.`),this.lastTransactionError;let t=await async function(e,t){let n=z(e),r={documents:t.map((e=>np(n.serializer,e)))},i=await n.jo(`BatchGetDocuments`,n.serializer.databaseId,ol.emptyPath(),r,t.length),a=new Map;i.forEach((e=>{let t=lp(n.serializer,e);a.set(t.key.toString(),t)}));let o=[];return t.forEach((e=>{let t=a.get(e.toString());Bc(!!t,55234,{key:e}),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{let n=H.fromPath(t);this.mutations.push(new bf(n,this.precondition(n)))})),await async function(e,t){let n=z(e),r={writes:t.map((e=>dp(n.serializer,e)))};await n.Wo(`Commit`,n.serializer.databaseId,ol.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw R(50498,{Gu:e.constructor.name});t=U.min()}let n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new V(B.ABORTED,`Document version changed between two reads.`)}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(U.min())?of.exists(!1):of.updateTime(t):of.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(U.min()))throw new V(B.INVALID_ARGUMENT,`Can't update a document that doesn't exist.`);return of.updateTime(t)}return of.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}},wg=class{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Bm(this.asyncQueue,`transaction_retry`)}ju(){--this.zu,this.Hu()}Hu(){this.M_.p_((async()=>{let e=new Cg(this.datastore),t=this.Ju(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Zu(e)}))))})).catch((e=>{this.Zu(e)}))}))}Ju(e){try{let t=this.updateFunction(e);return!Pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error(`Transaction callback must return a Promise`)),null)}catch(e){return this.deferred.reject(e),null}}Zu(e){this.zu>0&&this.Xu(e)?(--this.zu,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name===`FirebaseError`){let t=e.code;return t===`aborted`||t===`failed-precondition`||t===`already-exists`||!Ef(t)}return!1}},Tg=`FirestoreClient`,Eg=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=jc.UNAUTHENTICATED,this.clientId=Zc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{L(Tg,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(L(Tg,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=Dh(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function Dg(e,t){e.asyncQueue.verifyOperationInProgress(),L(Tg,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await pm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Og(e,t){e.asyncQueue.verifyOperationInProgress();let n=await kg(e);L(Tg,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Sh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Sh(t.remoteStore,n))),e._onlineComponents=t}async function kg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){L(Tg,`Using user provided OfflineComponentProvider`);try{await Dg(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===B.FAILED_PRECONDITION||e.code===B.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Lc(`Error using user provided cache. Falling back to memory cache: `+n),await Dg(e,new yg)}}else L(Tg,`Using default OfflineComponentProvider`),await Dg(e,new bg(void 0));return e._offlineComponents}async function Ag(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(L(Tg,`Using user provided OnlineComponentProvider`),await Og(e,e._uninitializedComponentsProvider._online)):(L(Tg,`Using default OnlineComponentProvider`),await Og(e,new xg))),e._onlineComponents}function jg(e){return Ag(e).then((e=>e.syncEngine))}function Mg(e){return Ag(e).then((e=>e.datastore))}async function Ng(e){let t=await Ag(e),n=t.eventManager;return n.onListen=Yh.bind(null,t.syncEngine),n.onUnlisten=$h.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Xh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eg.bind(null,t.syncEngine),n}function Pg(e,t,n,r){let i=new Sg(r),a=new Vh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ph(await Ng(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Fh(await Ng(e),a)))}}function Fg(e,t,n={}){let r=new Vc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Sg({next:s=>{a.Nu(),t.enqueueAndForget((()=>Fh(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new V(B.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new V(B.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new Vh(fd(n.path),a,{includeMetadataChanges:!0,Ka:!0});return Ph(e,o)}(await Ng(e),e.asyncQueue,t,n,r))),r.promise}function Ig(e,t,n={}){let r=new Vc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new Sg({next:n=>{a.Nu(),t.enqueueAndForget((()=>Fh(e,o))),n.fromCache&&r.source===`server`?i.reject(new V(B.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new Vh(n,a,{includeMetadataChanges:!0,Ka:!0});return Ph(e,o)}(await Ng(e),e.asyncQueue,t,n,r))),r.promise}function Lg(e,t){let n=new Vc;return e.asyncQueue.enqueueAndForget((async()=>tg(await jg(e),t,n))),n.promise}function Rg(e,t,n){let r=new Vc;return e.asyncQueue.enqueueAndForget((async()=>{let i=await Mg(e);new wg(e.asyncQueue,i,n,t,r).ju()})),r.promise}function zg(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Bg=`ComponentProvider`,Vg=new Map;function Hg(e,t,n,r,i){return new su(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,zg(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var Ug=`firestore.googleapis.com`,Wg=!0,Gg=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new V(B.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Ug,this.ssl=Wg}else this.host=e.host,this.ssl=e.ssl??Wg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pp;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rp)throw new V(B.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}ul(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zg(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new V(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new V(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new V(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Kg=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new Gg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new V(B.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new V(B.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new Gg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Uc;switch(e.type){case`firstParty`:return new qc(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new V(B.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Vg.get(e);t&&(L(Bg,`Removing Datastore`),Vg.delete(e),t.terminate())}(this),Promise.resolve()}};function qg(e,t,n,r={}){e=hl(e,Kg);let i=et(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(tt(`https://${s}`),ot(`Firestore`,!0)),a.host!==Ug&&a.host!==s&&Lc(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Ct(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=jc.MOCK_USER;else{t=nt(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new V(B.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new jc(i)}e._authCredentials=new Wc(new Hc(t,n))}}var Jg=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Yg=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(_l(n,e._jsonSchema))return new e(t,r||null,new H(ol.fromString(n.referencePath)))}};Yg._jsonSchemaVersion=`firestore/documentReference/1.0`,Yg._jsonSchema={type:gl(`string`,Yg._jsonSchemaVersion),referencePath:gl(`string`)};var Xg=class e extends Jg{constructor(e,t,n){super(e,t,fd(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yg(this.firestore,null,new H(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Zg(e,t,...n){if(e=Mt(e),ll(`collection`,`path`,t),e instanceof Kg){let r=ol.fromString(t,...n);return fl(r),new Xg(e,null,r)}{if(!(e instanceof Yg||e instanceof Xg))throw new V(B.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(ol.fromString(t,...n));return fl(r),new Xg(e.firestore,null,r)}}function Y(e,t,...n){if(e=Mt(e),arguments.length===1&&(t=Zc.newId()),ll(`doc`,`path`,t),e instanceof Kg){let r=ol.fromString(t,...n);return dl(r),new Yg(e,null,new H(r))}{if(!(e instanceof Yg||e instanceof Xg))throw new V(B.INVALID_ARGUMENT,`Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(ol.fromString(t,...n));return dl(r),new Yg(e.firestore,e instanceof Xg?e.converter:null,new H(r))}}var Qg=`AsyncQueue`,$g=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bm(this,`async_queue_retry`),this._c=()=>{let e=Rm();e&&L(Qg,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Rm();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Rm();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Vc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;L(Qg,`Operation failed with retryable error: `+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Ic(`INTERNAL UNHANDLED ERROR: `,e_(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=Eh.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&R(47125,{Pc:e_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function e_(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var t_=class extends Kg{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new $g,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new $g(e),this._firestoreClient=void 0,await e}}};function n_(e,t){let n=typeof e==`object`?e:ar(),r=typeof e==`string`?e:t||cu,i=$n(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=j(`firestore`);e&&qg(i,...e)}return i}function r_(e){if(e._terminated)throw new V(B.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||i_(e),e._firestoreClient}function i_(e){let t=e._freezeSettings(),n=Hg(e._databaseId,e._app?.options.appId||``,e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Eg(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var a_=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(Yl.fromBase64String(t))}catch(e){throw new V(B.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(Yl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_l(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};a_._jsonSchemaVersion=`firestore/bytes/1.0`,a_._jsonSchema={type:gl(`string`,a_._jsonSchemaVersion),bytes:gl(`string`)};var o_=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(B.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new cl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},s_=class{constructor(e){this._methodName=e}},c_=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(B.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new V(B.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qc(this._lat,e._lat)||Qc(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(_l(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};c_._jsonSchemaVersion=`firestore/geoPoint/1.0`,c_._jsonSchema={type:gl(`string`,c_._jsonSchemaVersion),latitude:gl(`number`),longitude:gl(`number`)};var l_=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_l(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new V(B.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};l_._jsonSchemaVersion=`firestore/vectorValue/1.0`,l_._jsonSchema={type:gl(`string`,l_._jsonSchemaVersion),vectorValues:gl(`object`)};var u_=/^__.*__$/,d_=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new mf(e,this.data,t,this.fieldTransforms):new hf(e,this.data,this.fieldMask,t,this.fieldTransforms)}},f_=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hf(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function p_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R(40011,{dataSource:e})}}var m_=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return A_(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError(`Document fields must not be empty`);if(p_(this.dataSource)&&u_.test(e))throw this.createError(`Document fields cannot begin and end with "__"`)}},h_=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zm(e)}createContext(e,t,n,r=!1){return new m_({dataSource:e,methodName:t,targetDoc:n,path:cl.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function g_(e){let t=e._freezeSettings(),n=zm(e._databaseId);return new h_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function __(e,t,n,r,i,a={}){let o=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);E_(`Data must be an object, but it was:`,o,r);let s=w_(r,o),c,l;if(a.merge)c=new ql(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=D_(t,r,n);if(!o.contains(i))throw new V(B.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);j_(e,i)||e.push(i)}c=new ql(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new d_(new Pu(s),c,l)}var v_=class e extends s_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},y_=class e extends s_{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){let t=new $d(e.serializer,Ud(e.serializer,this.Vc));return new nf(e.path,t)}isEqual(t){return t instanceof e&&this.Vc===t.Vc}};function b_(e,t,n,r){let i=e.createContext(1,t,n);E_(`Data must be an object, but it was:`,i,r);let a=[],o=Pu.empty();return G(r,((e,r)=>{let s=k_(t,e,n);r=Mt(r);let c=i.childContextForFieldPath(s);if(r instanceof v_)a.push(s);else{let e=C_(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new f_(o,new ql(a),i.fieldTransforms)}function x_(e,t,n,r,i,a){let o=e.createContext(1,t,n),s=[D_(t,r,n)],c=[i];if(a.length%2!=0)throw new V(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(D_(t,a[e])),c.push(a[e+1]);let l=[],u=Pu.empty();for(let e=s.length-1;e>=0;--e)if(!j_(l,s[e])){let t=s[e],n=c[e];n=Mt(n);let r=o.childContextForFieldPath(t);if(n instanceof v_)l.push(t);else{let e=C_(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new f_(u,new ql(l),o.fieldTransforms)}function S_(e,t,n,r=!1){return C_(n,e.createContext(r?4:3,t))}function C_(e,t){if(T_(e=Mt(e)))return E_(`Unsupported field value:`,t,e),w_(e,t);if(e instanceof s_)return function(e,t){if(!p_(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=C_(i,t.childContextForArray(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Mt(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Ud(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=bl.fromDate(e);return{timestampValue:Yf(t.serializer,n)}}if(e instanceof bl){let n=new bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yf(t.serializer,n)}}if(e instanceof c_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof a_)return{bytesValue:Xf(t.serializer,e._byteString)};if(e instanceof Yg){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:$f(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof l_)return function(e,t){let n=e instanceof l_?e.toArray():e;return{mapValue:{fields:{[du]:{stringValue:mu},[hu]:{arrayValue:{values:n.map((e=>{if(typeof e!=`number`)throw t.createError(`VectorValues must only contain numeric values.`);return Vd(t.serializer,e)}))}}}}}}(e,t);if(Ep(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${ml(e)}`)}(e,t)}function w_(e,t){let n={};return Hl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):G(e,((e,r)=>{let i=C_(r,t.childContextForField(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function T_(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof bl||e instanceof c_||e instanceof a_||e instanceof Yg||e instanceof s_||e instanceof l_||Ep(e))}function E_(e,t,n){if(!T_(n)||!pl(n)){let r=ml(n);throw r===`an object`?t.createError(e+` a custom object`):t.createError(e+` `+r)}}function D_(e,t,n){if((t=Mt(t))instanceof o_)return t._internalPath;if(typeof t==`string`)return k_(e,t);throw A_(`Field path arguments must be of type string or `,e,!1,void 0,n)}var O_=RegExp(`[~\\*/\\[\\]]`);function k_(e,t,n){if(t.search(O_)>=0)throw A_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new o_(...t.split(`.`))._internalPath}catch{throw A_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function A_(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new V(B.INVALID_ARGUMENT,s+e+c)}function j_(e,t){return e.some((e=>e.isEqual(t)))}var M_=class{convertValue(e,t=`none`){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ql(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw R(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return G(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[hu].arrayValue?.values?.map((e=>Ql(e.doubleValue)));return new l_(t)}convertGeoPoint(e){return new c_(Ql(e.latitude),Ql(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=au(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){let t=Zl(e);return new bl(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=ol.fromString(e);Bc(Tp(n),9688,{name:e});let r=new lu(n.get(1),n.get(3)),i=new H(n.popFirst(5));return r.isEqual(t)||Ic(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}},N_=class extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new a_(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yg(this.firestore,null,t)}};function X(e){return new y_(`increment`,e)}var P_=`@firebase/firestore`,F_=`4.11.0`;function I_(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var L_=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yg(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(D_(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},R_=class extends L_{data(){return super.data()}};function z_(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new V(B.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var B_=class{},V_=class extends B_{};function H_(e,t,...n){let r=[];t instanceof B_&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof G_)).length,n=e.filter((e=>e instanceof U_)).length;if(t>1||t>0&&n>0)throw new V(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var U_=class e extends V_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return J_(e._query,t),new Jg(e.firestore,e.converter,yd(e._query,t))}_parse(e){let t=g_(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new V(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){q_(o,a);let t=[];for(let n of o)t.push(K_(r,e,n));s={arrayValue:{values:t}}}else s=K_(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||q_(o,a),s=S_(n,t,o,a===`in`||a===`not-in`);return Uu.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function W_(e,t,n){let r=t,i=D_(`where`,e);return U_._create(i,r,n)}var G_=class e extends B_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Wu.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)J_(n,e),n=yd(n,e)}(e._query,t),new Jg(e.firestore,e.converter,yd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}};function K_(e,t,n){if(typeof(n=Mt(n))==`string`){if(n===``)throw new V(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!hd(t)&&n.indexOf(`/`)!==-1)throw new V(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(ol.fromString(n));if(!H.isDocumentKey(r))throw new V(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tu(e,new H(r))}if(n instanceof Yg)return Tu(e,n._key);throw new V(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ml(n)}.`)}function q_(e,t){if(!Array.isArray(e)||e.length===0)throw new V(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function J_(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new V(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new V(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Y_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var X_=class extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new a_(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yg(this.firestore,null,t)}},Z_=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Q_=class e extends L_{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(D_(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(B.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Q_._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Q_._jsonSchema={type:gl(`string`,Q_._jsonSchemaVersion),bundleSource:gl(`string`,`DocumentSnapshot`),bundleName:gl(`string`),bundle:gl(`string`)};var $_=class extends Q_{data(e={}){return super.data(e)}},ev=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Z_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new $_(this._firestore,this._userDataWriter,n.key,n,new Z_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(B.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new $_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Z_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new $_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Z_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:tv(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(B.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=Zc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function tv(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return R(61501,{type:e})}}ev._jsonSchemaVersion=`firestore/querySnapshot/1.0`,ev._jsonSchema={type:gl(`string`,ev._jsonSchemaVersion),bundleSource:gl(`string`,`QuerySnapshot`),bundleName:gl(`string`),bundle:gl(`string`)};var nv={maxAttempts:5},rv=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=g_(e)}set(e,t,n){this._verifyNotCommitted();let r=iv(e,this._firestore),i=Y_(r.converter,t,n),a=__(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,of.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=iv(e,this._firestore),a;return a=typeof(t=Mt(t))==`string`||t instanceof o_?x_(this._dataReader,`WriteBatch.update`,i._key,t,n,r):b_(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,of.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=iv(e,this._firestore);return this._mutations=this._mutations.concat(new yf(t._key,of.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new V(B.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function iv(e,t){if((e=Mt(e)).firestore!==t)throw new V(B.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}var av=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=g_(e)}get(e){let t=iv(e,this._firestore),n=new X_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||e.length!==1)return R(24041);let r=e[0];if(r.isFoundDocument())return new L_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new L_(this._firestore,n,t._key,null,t.converter);throw R(18433,{doc:r})}))}set(e,t,n){let r=iv(e,this._firestore),i=Y_(r.converter,t,n),a=__(this._dataReader,`Transaction.set`,r._key,i,r.converter!==null,n);return this._transaction.set(r._key,a),this}update(e,t,n,...r){let i=iv(e,this._firestore),a;return a=typeof(t=Mt(t))==`string`||t instanceof o_?x_(this._dataReader,`Transaction.update`,i._key,t,n,r):b_(this._dataReader,`Transaction.update`,i._key,t),this._transaction.update(i._key,a),this}delete(e){let t=iv(e,this._firestore);return this._transaction.delete(t._key),this}},ov=class extends av{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=iv(e,this._firestore),n=new N_(this._firestore);return super.get(e).then((e=>new Q_(this._firestore,n,t._key,e._document,new Z_(!1,!1),t.converter)))}};function sv(e,t,n){e=hl(e,t_);let r={...nv,...n};return(function(e){if(e.maxAttempts<1)throw new V(B.INVALID_ARGUMENT,`Max attempts must be at least 1`)})(r),Rg(r_(e),(n=>t(new ov(e,n))),r)}function cv(e){e=hl(e,Yg);let t=hl(e.firestore,t_);return Fg(r_(t),e._key).then((n=>hv(t,e,n)))}function lv(e){e=hl(e,Jg);let t=hl(e.firestore,t_),n=r_(t),r=new N_(t);return z_(e._query),Ig(n,e._query).then((n=>new ev(t,r,e,n)))}function uv(e,t,n){e=hl(e,Yg);let r=hl(e.firestore,t_),i=Y_(e.converter,t,n);return mv(r,[__(g_(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,of.none())])}function dv(e,t,n,...r){e=hl(e,Yg);let i=hl(e.firestore,t_),a=g_(i),o;return o=typeof(t=Mt(t))==`string`||t instanceof o_?x_(a,`updateDoc`,e._key,t,n,r):b_(a,`updateDoc`,e._key,t),mv(i,[o.toMutation(e._key,of.exists(!0))])}function fv(e){return mv(hl(e.firestore,t_),[new yf(e._key,of.none())])}function pv(e,...t){e=Mt(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||I_(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(I_(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Yg)o=hl(e.firestore,t_),s=fd(e._key.path),a={next:n=>{t[r]&&t[r](hv(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=hl(e,Jg);o=hl(n.firestore,t_),s=n._query;let i=new N_(o);a={next:e=>{t[r]&&t[r](new ev(o,i,n,e))},error:t[r+1],complete:t[r+2]},z_(e._query)}return Pg(r_(o),s,i,a)}function mv(e,t){return Lg(r_(e),t)}function hv(e,t,n){let r=n.docs.get(t._key);return new Q_(e,new N_(e),t._key,r,new Z_(n.hasPendingWrites,n.fromCache),t.converter)}function gv(e){return e=hl(e,t_),r_(e),new rv(e,(t=>mv(e,t)))}(function(e,t=!0){Nc(rr),Qn(new Nt(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new t_(new Gc(e.getProvider(`auth-internal`)),new Yc(i,e.getProvider(`app-check-internal`)),uu(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),or(P_,F_,e),or(P_,F_,`esm2020`)})();const _v=[{id:`p1`,name:` `,category:``,cost:50,image:`https://placehold.co/400x400/222/aaa?text=
`,customWeights:{},isHidden:!1,isPremiumOnly:!1}],vv=[{id:`boss_1`,cardId:`c1`,maxHp:1e3,rewardPerClick:2,killBonus:500,cooldownHours:4}],yv=[{id:``,name:` `},{id:`holo`,name:` (Holo)`},{id:`foil`,name:` (Foil)`},{id:`glow`,name:`  (Glow)`},{id:`glitch`,name:` (Glitch)`}],bv={gray:{border:`border-gray-500 shadow-gray-500/30`,text:`text-gray-400`},blue:{border:`border-blue-500 shadow-blue-500/40`,text:`text-blue-400`},purple:{border:`border-purple-500 shadow-purple-500/50`,text:`text-purple-400`},yellow:{border:`border-yellow-400 shadow-yellow-500/80`,text:`text-yellow-400`},red:{border:`border-red-500 shadow-red-500/50`,text:`text-red-400`},green:{border:`border-green-500 shadow-green-500/40`,text:`text-green-400`},cyan:{border:`border-cyan-400 shadow-cyan-400/50`,text:`text-cyan-400`}},xv=[{name:``,weight:70,color:`gray`},{name:``,weight:25,color:`blue`},{name:``,weight:4,color:`purple`},{name:``,weight:1,color:`yellow`},{name:``,weight:.1,color:`red`}],Sv=[{id:``,name:` ( )`},{id:`flip`,name:`3D  (Flip)`},{id:`epic`,name:`  (Epic)`},{id:`flash`,name:`  (Flash)`}];var Cv=`Europe/Kyiv`;const wv=(e=new Date)=>new Intl.DateTimeFormat(`uk-UA`,{timeZone:Cv,year:`numeric`,month:`2-digit`,day:`2-digit`}).format(e).split(`.`).reverse().join(`-`),Tv=e=>{if(!e)return!1;let t=new Date(e);return isNaN(t)?!1:wv(t)===wv(new Date)},Ev=e=>{if(!e)return``;let t={year:`numeric`,month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`,second:`2-digit`,timeZone:Cv};return new Intl.DateTimeFormat(`uk-UA`,t).format(new Date(e))},Dv=(e,t=.5)=>{if(e)try{let n=new Audio(e);n.volume=t,n.play().catch(e=>console.log(`Audio play blocked by browser:`,e))}catch(e){console.log(`Audio error`,e)}},Ov=(e,t)=>{let n=t?.find(t=>t.name===e);return n&&n.weight!==void 0?Number(n.weight):100},kv=(e,t)=>{let n=t?.find(t=>t.name===e);return n&&bv[n.color]?bv[n.color]:bv.gray},Av=async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),n=await fetch(`https://worldtimeapi.org/api/timezone/Etc/UTC`,{signal:e.signal});if(clearTimeout(t),n.ok){let e=await n.json();return new Date(e.utc_datetime)}}catch{console.warn(`  ,   ().`)}return new Date};or(`firebase`,`12.9.0`,`app`);const jv=ir(typeof __firebase_config<`u`?JSON.parse(__firebase_config):{apiKey:`AIzaSyAF0XD16LUmsVFF0q5perWadlU9RWoCpLs`,authDomain:`narutocardgame-a4017.firebaseapp.com`,projectId:`narutocardgame-a4017`,storageBucket:`narutocardgame-a4017.firebasestorage.app`,messagingSenderId:`1061146381013`,appId:`1:1061146381013:web:38941af7656858ce55b05c`,measurementId:`G-36ZECLRRLE`}),Mv=hc(jv),Z=n_(jv),Q=typeof __app_id<`u`?__app_id:`narutocardgame`;var Nv=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),$=o(((e,t)=>{t.exports=Nv()}))();function Pv({profile:e,className:t=``,iconSize:n=24}){if(e?.avatarUrl)return(0,$.jsxs)(`div`,{className:`overflow-hidden bg-neutral-800 ${t} flex items-center justify-center border-2 border-neutral-700 shadow-md relative shrink-0`,children:[(0,$.jsx)(`img`,{src:e.avatarUrl,alt:`avatar`,className:`w-full h-full object-cover`,onError:e=>{e.target.style.display=`none`}}),e.isSuperAdmin&&(0,$.jsx)(ae,{size:14,className:`absolute top-0 right-0 text-red-500 bg-neutral-900 rounded-full`,title:` `})]});let r=e?.isSuperAdmin?`bg-red-900 border-red-500 text-red-200`:e?.isAdmin?`bg-purple-900 border-purple-500 text-purple-200`:`bg-neutral-800 border-neutral-700 text-yellow-500`,i=`U`;return e?.nickname&&typeof e.nickname==`string`&&e.nickname.length>0&&(i=e.nickname.charAt(0).toUpperCase()),(0,$.jsx)(`div`,{className:`flex items-center justify-center font-bold border-2 shadow-sm shrink-0 ${r} ${t}`,children:e?.isSuperAdmin?(0,$.jsx)(ae,{size:n}):e?.isAdmin?(0,$.jsx)(xe,{size:n}):i})}function Fv({viewingCard:e,setViewingCard:t,rarities:n}){let[r,i]=(0,_.useState)({}),[a,o]=(0,_.useState)(!1);if(!e)return null;let{card:s}=e,c=kv(s.rarity,n),l=s.effect?`effect-${s.effect}`:``,u=e=>{let t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,a=t.width/2,o=t.height/2;i({transform:`perspective(1000px) rotateX(${(r-o)/o*-15}deg) rotateY(${(n-a)/a*15}deg) scale3d(1.05, 1.05, 1.05)`,transition:`transform 0.1s ease-out`})},d=()=>{o(!1),i({transform:`perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`,transition:`transform 0.5s ease-out`})};return(0,$.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-in fade-in duration-300 perspective-1000`,onClick:()=>t(null),children:(0,$.jsxs)(`div`,{className:`relative flex flex-col items-center w-full max-w-sm animate-in zoom-in-95 slide-in-from-bottom-10 duration-500`,onClick:e=>e.stopPropagation(),children:[(0,$.jsx)(`button`,{onClick:()=>t(null),className:`absolute -top-12 right-0 text-neutral-400 hover:text-white font-bold tracking-widest uppercase transition-colors`,children:` `}),(0,$.jsx)(`div`,{className:`preserve-3d w-full`,onMouseMove:u,onMouseLeave:d,onMouseEnter:()=>{o(!0)},onTouchMove:e=>u(e.touches[0]),onTouchEnd:d,children:(0,$.jsxs)(`div`,{className:`w-full aspect-[2/3] rounded-3xl border-4 overflow-hidden ${c.border} ${l} relative group shadow-[0_20px_70px_rgba(0,0,0,0.8)]`,style:r,children:[(0,$.jsx)(`img`,{src:s.image,alt:s.name,className:`w-full h-full object-cover`}),a&&(0,$.jsx)(`div`,{className:`absolute inset-0 pointer-events-none mix-blend-overlay opacity-30 bg-gradient-to-tr from-white/0 via-white to-white/0`})]})}),(0,$.jsxs)(`div`,{className:`mt-8 flex flex-col items-center text-center w-full`,children:[(0,$.jsxs)(`div`,{className:`text-sm font-black uppercase tracking-widest mb-2 ${c.text} flex items-center gap-1.5`,children:[(0,$.jsx)(Ce,{size:16}),` `,s.rarity]}),(0,$.jsx)(`h3`,{className:`font-black text-4xl text-white mb-2 drop-shadow-xl`,children:s.name})]})]})})}function Iv({listingCard:e,setListingCard:t,listOnMarket:n,isProcessing:r}){let[i,a]=(0,_.useState)(``);return(0,$.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in`,onClick:()=>!r&&t(null),children:(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-blue-900/50 p-6 rounded-3xl shadow-[0_0_50px_rgba(37,99,235,0.2)] max-w-sm w-full animate-in zoom-in-95 relative`,onClick:e=>e.stopPropagation(),children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 mb-6 border-b border-neutral-800 pb-4`,children:[(0,$.jsx)(`div`,{className:`w-16 h-24 rounded-lg overflow-hidden border border-neutral-700 shrink-0`,children:(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`})}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`h3`,{className:`text-lg font-black text-white leading-tight`,children:e.name}),(0,$.jsx)(`div`,{className:`text-xs text-neutral-400 mt-1`,children:`  `})]})]}),(0,$.jsxs)(`form`,{onSubmit:t=>{t.preventDefault(),n(e.id,Number(i))},className:`space-y-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-2 block`,children:`  ():`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(ie,{className:`absolute left-4 top-1/2 -translate-y-1/2 text-yellow-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`number`,min:`1`,value:i,onChange:e=>a(e.target.value),placeholder:`: 1000`,required:!0,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl pl-12 pr-4 py-4 text-white focus:border-blue-500 outline-none text-lg font-bold`})]})]}),(0,$.jsxs)(`div`,{className:`flex gap-3 pt-2`,children:[(0,$.jsx)(`button`,{type:`submit`,disabled:r,className:`flex-1 bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-800 disabled:text-neutral-500 text-white font-black py-4 rounded-xl transition-colors shadow-lg shadow-blue-900/20`,children:``}),(0,$.jsx)(`button`,{type:`button`,disabled:r,onClick:()=>t(null),className:`bg-neutral-800 hover:bg-neutral-700 text-white font-bold py-4 px-6 rounded-xl transition-colors`,children:``})]})]})]})})}function Lv({icon:e,label:t,isActive:n,onClick:r}){return(0,$.jsxs)(`button`,{onClick:r,className:`flex flex-col items-center p-2 rounded-lg w-16 sm:w-20 transition-colors ${n?`text-yellow-500`:`text-neutral-500 hover:text-neutral-300`}`,children:[e,(0,$.jsx)(`span`,{className:`text-[9px] sm:text-[10px] mt-1 font-bold uppercase tracking-wider`,children:t})]})}var Rv={uid:null,bossId:null,hp:null,cooldownEnd:null,isLoaded:!1};function zv({profile:e,db:t,appId:n,cardsCatalog:r,showToast:i,bosses:a}){let o=e?.farmLevel||1,s=[...a||[]].sort((e,t)=>e.level-t.level),c=s.length>0?s[s.length-1].level:1,l=s.find(e=>e.level===o);!l&&s.length>0&&(l=s[s.length-1]);let u=l?r.find(e=>e.id===l.cardId):null;!u&&r&&r.length>0&&(u=r[0]);let d=Rv.isLoaded&&Rv.uid===e?.uid&&Rv.bossId===l?.id,[f,p]=(0,_.useState)(d&&Rv.hp!==null?Rv.hp:l?.maxHp||1e3),[m,h]=(0,_.useState)(d?Rv.cooldownEnd:null),[g,v]=(0,_.useState)(!1),[y,b]=(0,_.useState)(!d),[x,S]=(0,_.useState)(!1),[C,w]=(0,_.useState)(``),T=(0,_.useRef)(!1),ee=(0,_.useRef)(null),E=(0,_.useRef)(f);(0,_.useEffect)(()=>{E.current=f,Rv.hp=f},[f]),(0,_.useEffect)(()=>{if(d){b(!1);return}(async()=>{if(!e||!l)return b(!1);b(!0);try{let r=Y(t,`artifacts`,n,`users`,e.uid,`farmState`,`main`),i=await cv(r);if(i.exists()){let t=i.data();if(t.cooldownUntil&&new Date(t.cooldownUntil)>new Date)h(t.cooldownUntil),p(0),Rv.cooldownEnd=t.cooldownUntil,Rv.hp=0,localStorage.removeItem(`farm_${e.uid}_${l.id}`);else{h(null),Rv.cooldownEnd=null;let n=l.maxHp;t.bossId===l.id&&t.currentHp!==void 0&&t.currentHp!==null&&(n=t.currentHp);let i=localStorage.getItem(`farm_${e.uid}_${l.id}`);if(i!==null){let e=parseInt(i,10);!isNaN(e)&&e<n&&e>=0&&(n=e,uv(r,{bossId:l.id,currentHp:n,lastUpdated:new Date().toISOString()},{merge:!0}).catch(()=>{}))}p(n),Rv.hp=n}}else p(l.maxHp),Rv.hp=l.maxHp}catch(e){console.error(e)}Rv.bossId=l.id,Rv.uid=e.uid,Rv.isLoaded=!0,b(!1)})()},[l?.id,o,e?.uid,n,t,d]),(0,_.useEffect)(()=>{if(!m)return;let e=()=>{let e=new Date(m).getTime()-new Date().getTime();e<=0?(h(null),p(l?.maxHp||1e3),Rv.cooldownEnd=null,Rv.hp=l?.maxHp||1e3):w(`${Math.floor(e%(1e3*60*60*24)/(1e3*60*60))} ${Math.floor(e%(1e3*60*60)/(1e3*60))} ${Math.floor(e%(1e3*60)/1e3)}`)};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[m,l?.maxHp]),(0,_.useEffect)(()=>()=>{ee.current&&(clearTimeout(ee.current),E.current>0&&E.current<(l?.maxHp||1e3)&&e&&l&&uv(Y(t,`artifacts`,n,`users`,e.uid,`farmState`,`main`),{bossId:l.id,currentHp:E.current,lastUpdated:new Date().toISOString()},{merge:!0}).catch(()=>{}))},[t,n,e,l]);let te=()=>{!e?.isAdmin||f<=0||g||(p(0),Rv.hp=0,localStorage.setItem(`farm_${e.uid}_${l.id}`,0),i(`:   !`,`success`))},ne=async()=>{if(!(!e?.isAdmin||!m||g)){v(!0);try{await uv(Y(t,`artifacts`,n,`users`,e.uid,`farmState`,`main`),{cooldownUntil:null,currentHp:l.maxHp,lastUpdated:new Date().toISOString()},{merge:!0}),h(null),Rv.cooldownEnd=null,p(l.maxHp),Rv.hp=l.maxHp,i(`:  !`,`success`)}catch{i(`  .`,`error`)}finally{v(!1)}}},D=()=>{if(f<=0||m||g||T.current)return;S(!0),setTimeout(()=>S(!1),100);let r=l?.damagePerClick||10,a=Math.max(0,f-r);p(a),Rv.hp=a,localStorage.setItem(`farm_${e.uid}_${l.id}`,a),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{a>0&&uv(Y(t,`artifacts`,n,`users`,e.uid,`farmState`,`main`),{bossId:l.id,currentHp:a,lastUpdated:new Date().toISOString()},{merge:!0}).catch(()=>{})},1e3),a===0&&i(` !   !`,`success`)},re=async()=>{if(T.current||f>0||g||!e)return;T.current=!0,v(!0),ee.current&&clearTimeout(ee.current);let r=await Av();try{await sv(t,async i=>{let a=Y(t,`artifacts`,n,`users`,e.uid,`farmState`,`main`),s=Y(t,`artifacts`,n,`public`,`data`,`profiles`,e.uid),u=await i.get(a),d=u.exists()?u.data():{};if(d.cooldownUntil&&new Date(d.cooldownUntil)>r)throw Error(`  !`);let f=Math.ceil(l.maxHp/(l.damagePerClick||10))*(l.rewardPerClick||2)+(l.killBonus||0),p=o<c;i.update(s,{coins:X(f),farmLevel:p?X(1):o});let m=l.cooldownHours||4,h=new Date(r.getTime()+m*60*60*1e3).toISOString();return i.set(a,{bossId:l.id,currentHp:l.maxHp,cooldownUntil:h,lastUpdated:r.toISOString()},{merge:!0}),{totalReward:f,isLevelUp:p,cdUntil:h}}).then(t=>{h(t.cdUntil),Rv.cooldownEnd=t.cdUntil,Rv.hp=0,localStorage.removeItem(`farm_${e.uid}_${l.id}`),t.isLevelUp?i(`!  . : ${t.totalReward} !`,`success`):i(` ! : ${t.totalReward} !`,`success`)})}catch(t){if(console.error(`Transaction Error:`,t),i(`         !`,`error`),t.message===`  !`){let t=l.cooldownHours||4,n=new Date(r.getTime()+t*60*60*1e3).toISOString();h(n),Rv.cooldownEnd=n,localStorage.removeItem(`farm_${e.uid}_${l.id}`)}}finally{T.current=!1,v(!1)}};if(y)return(0,$.jsxs)(`div`,{className:`text-center py-20 text-neutral-500`,children:[(0,$.jsx)(A,{className:`animate-spin mx-auto w-10 h-10 mb-4`}),`  ...`]});if(!l||!u)return(0,$.jsx)(`div`,{className:`text-center py-20 text-neutral-500`,children:`    ...`});if(m)return(0,$.jsx)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500 max-w-lg mx-auto text-center mt-10 sm:mt-20`,children:(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-3xl p-8 sm:p-10 shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden`,children:[(0,$.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-600 to-purple-600`}),(0,$.jsx)(ke,{className:`mx-auto text-blue-500 mb-6 w-16 h-16 opacity-50 animate-pulse`}),(0,$.jsx)(`h2`,{className:`text-2xl font-black text-white mb-2 uppercase tracking-widest`,children:` `}),(0,$.jsx)(`p`,{className:`text-neutral-400 mb-8 text-sm`,children:`    .    .`}),(0,$.jsx)(`div`,{className:`text-4xl sm:text-5xl font-black text-yellow-500 mb-2 font-mono drop-shadow-[0_0_15px_rgba(234,179,8,0.4)]`,children:C}),(0,$.jsx)(`p`,{className:`text-[10px] text-neutral-500 uppercase font-bold tracking-widest mt-4`,children:`  `}),e?.isAdmin&&(0,$.jsxs)(`button`,{onClick:ne,disabled:g,className:`mt-8 bg-red-600/20 hover:bg-red-600 text-red-500 hover:text-white border border-red-500/50 font-bold py-3 px-6 rounded-xl text-sm mx-auto flex items-center gap-2 transition-colors`,children:[(0,$.jsx)(Ie,{size:16}),` []  `]})]})});let ae=Math.max(0,f/l.maxHp*100),oe=Math.floor((l.maxHp-f)/(l.damagePerClick||10))*(l.rewardPerClick||2);return f<=0&&(oe+=l.killBonus||0),(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500 max-w-lg mx-auto`,children:[(0,$.jsx)(`div`,{className:`flex justify-between items-end mb-4 px-2`,children:(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`div`,{className:`text-red-500 font-black tracking-widest uppercase text-sm mb-1 flex items-center gap-2`,children:[` : `,o,` `,(0,$.jsx)(`span`,{className:`text-neutral-700`,children:`|`}),`  `,l?.level,` `,o>=c&&(0,$.jsx)(`span`,{className:`bg-yellow-500/20 text-yellow-500 text-[10px] px-2 py-0.5 rounded-md border border-yellow-600 ml-2`,children:`. `})]}),(0,$.jsxs)(`h2`,{className:`text-2xl font-black text-white uppercase tracking-widest flex items-center gap-2 drop-shadow-lg`,children:[(0,$.jsx)(Ee,{className:`text-red-500`}),` `,u.name]})]})}),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border rounded-2xl p-4 mb-8 flex justify-between items-center shadow-lg transition-colors ${f<=0?`border-green-500/50`:`border-neutral-800`}`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`div`,{className:`text-xs text-neutral-500 font-bold uppercase tracking-wider mb-1`,children:` `}),(0,$.jsxs)(`div`,{className:`text-3xl font-black flex items-center gap-2 ${f<=0?`text-green-500`:`text-yellow-500`}`,children:[oe,` `,(0,$.jsx)(ie,{size:28})]})]}),(0,$.jsxs)(`button`,{onClick:re,disabled:f>0||g,className:`font-bold py-3 px-6 rounded-xl transition-all shadow-lg flex items-center gap-2 ${f<=0?`bg-green-600 hover:bg-green-500 text-white shadow-[0_0_15px_rgba(22,163,74,0.4)] animate-pulse`:`bg-neutral-800 text-neutral-600 cursor-not-allowed`}`,children:[g?(0,$.jsx)(A,{size:18,className:`animate-spin`}):f<=0?(0,$.jsx)(pe,{size:18}):(0,$.jsx)(me,{size:18}),f<=0?``:``]})]}),(0,$.jsxs)(`div`,{className:`flex flex-col items-center relative`,children:[(0,$.jsxs)(`div`,{className:`w-full bg-neutral-950 h-8 rounded-full overflow-hidden border-2 border-neutral-800 mb-8 relative shadow-inner`,children:[(0,$.jsx)(`div`,{className:`h-full bg-gradient-to-r from-red-800 to-red-500 transition-all duration-75 ease-out`,style:{width:`${ae}%`}}),(0,$.jsxs)(`div`,{className:`absolute inset-0 flex items-center justify-center font-black text-white drop-shadow-md text-sm`,children:[f,` / `,l.maxHp,` HP`]})]}),(0,$.jsxs)(`div`,{className:`relative`,children:[e?.isAdmin&&f>0&&(0,$.jsxs)(`button`,{onClick:te,disabled:g,className:`absolute -top-4 -right-4 bg-red-600 text-white font-black text-[10px] px-3 py-2 rounded-xl border-2 border-red-900 shadow-[0_0_20px_rgba(220,38,38,0.8)] z-20 flex items-center gap-1 hover:bg-red-500 hover:scale-110 transition-transform`,children:[(0,$.jsx)(Se,{size:14}),` `]}),(0,$.jsxs)(`button`,{onClick:D,disabled:f<=0||g,className:`relative group outline-none transition-transform duration-75 select-none ${x?`scale-95 brightness-125 -rotate-2`:`hover:scale-105`}`,style:{WebkitTapHighlightColor:`transparent`},children:[(0,$.jsx)(`div`,{className:`absolute -inset-6 bg-red-600/20 rounded-[3rem] blur-2xl group-hover:bg-red-600/40 transition-colors animate-pulse pointer-events-none`}),(0,$.jsxs)(`div`,{className:`relative w-48 sm:w-64 aspect-[2/3] rounded-3xl border-4 border-red-900 overflow-hidden shadow-[0_0_50px_rgba(220,38,38,0.4)] bg-neutral-900 cursor-crosshair`,children:[(0,$.jsx)(`img`,{src:u.image,alt:`boss`,className:`w-full h-full object-cover pointer-events-none`,draggable:`false`}),f<=0&&(0,$.jsx)(`div`,{className:`absolute inset-0 bg-black/80 flex items-center justify-center backdrop-blur-sm animate-in zoom-in`,children:(0,$.jsx)(`div`,{className:`text-green-500 font-black text-3xl sm:text-4xl uppercase tracking-widest border-4 border-green-500 p-4 rounded-xl transform -rotate-12 shadow-[0_0_30px_rgba(34,197,94,0.5)]`,children:``})})]})]})]}),(0,$.jsx)(`p`,{className:`text-neutral-500 text-sm mt-10 font-bold uppercase tracking-widest animate-pulse text-center`,children:f>0?` ,    !`:` !  .`})]})]})}function Bv({profile:e,packs:t,cardsCatalog:n,cardStats:r,rarities:i,openPack:a,openingPackId:o,isRouletteSpinning:s,rouletteItems:c,pulledCards:l,setPulledCards:u,sellPulledCards:d,selectedPackId:f,setSelectedPackId:p,setViewingCard:m,isAdmin:h,isProcessing:g,isPremiumActive:v}){let[y,b]=(0,_.useState)(0),[x,S]=(0,_.useState)(0),[C,w]=(0,_.useState)(`all`);if((0,_.useEffect)(()=>{if(s){b(0),S(Math.floor(Math.random()*100)-50);let e=setTimeout(()=>{b(1)},50);return()=>clearTimeout(e)}},[s]),(0,_.useEffect)(()=>{if(l&&l.length>0&&e?.autoSoundEnabled!==!1){let e=l.filter(e=>e.soundUrl);e.length>0&&(e.sort((e,t)=>Ov(e.rarity,i)-Ov(t.rarity,i)),Dv(e[0].soundUrl,e[0].soundVolume))}},[l,i,e?.autoSoundEnabled]),s&&c.length>0)return(0,$.jsxs)(`div`,{className:`flex flex-col items-center justify-center min-h-[65vh] animate-in fade-in duration-500 w-full pb-10 overflow-hidden`,children:[(0,$.jsx)(`h2`,{className:`text-3xl font-black mb-10 text-white uppercase tracking-widest text-center animate-pulse drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]`,children:` ...`}),(0,$.jsxs)(`div`,{className:`relative w-full max-w-4xl mx-auto bg-neutral-900 border-[4px] border-neutral-700 rounded-3xl h-72 shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden`,children:[(0,$.jsx)(`div`,{className:`absolute inset-y-0 left-0 w-16 sm:w-32 bg-gradient-to-r from-neutral-950 to-transparent z-20 pointer-events-none`}),(0,$.jsx)(`div`,{className:`absolute inset-y-0 right-0 w-16 sm:w-32 bg-gradient-to-l from-neutral-950 to-transparent z-20 pointer-events-none`}),(0,$.jsx)(`div`,{className:`absolute left-1/2 top-0 bottom-0 w-1 bg-yellow-500 z-30 -translate-x-1/2 shadow-[0_0_15px_rgba(234,179,8,1)]`}),(0,$.jsx)(`div`,{className:`absolute left-1/2 top-0 -translate-x-1/2 border-solid border-t-[20px] border-t-yellow-500 border-x-[15px] border-x-transparent z-40`}),(0,$.jsx)(`div`,{className:`absolute left-1/2 bottom-0 -translate-x-1/2 border-solid border-b-[20px] border-b-yellow-500 border-x-[15px] border-x-transparent z-40`}),(0,$.jsx)(`div`,{className:`absolute inset-y-0 flex items-center gap-4`,style:{left:`50%`,transition:y===1?`transform 4.5s cubic-bezier(0.1, 0.85, 0.1, 1)`:`none`,transform:y===1?`translateX(-${6240+x}px)`:`translateX(-80px)`},children:c.map((e,t)=>{let n=kv(e.rarity,i),r=e.effect?`effect-${e.effect}`:``;return(0,$.jsxs)(`div`,{className:`w-40 h-56 rounded-2xl border-4 shrink-0 bg-neutral-950 relative overflow-hidden shadow-xl ${n.border} ${r}`,children:[(0,$.jsx)(`img`,{src:e.image,alt:`card`,className:`absolute inset-0 w-full h-full object-cover`}),(0,$.jsx)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-black/80 backdrop-blur text-center py-1.5 border-t border-neutral-800 z-10`,children:(0,$.jsx)(`span`,{className:`text-[10px] font-black uppercase tracking-widest ${n.text}`,children:e.rarity})})]},t)})})]})]});if(l&&l.length>0){let e=l.reduce((e,t)=>e+(t.sellPrice?Number(t.sellPrice):15),0);return(0,$.jsxs)(`div`,{className:`flex flex-col items-center min-h-[65vh] animate-in zoom-in-95 duration-700 w-full pb-10`,children:[(0,$.jsxs)(`h2`,{className:`text-3xl sm:text-4xl font-black mb-8 text-white uppercase tracking-widest text-center drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]`,children:[`  `,l.length>1?`(${l.length} )`:`!`]}),(0,$.jsx)(`div`,{className:`flex flex-wrap justify-center gap-6 mb-10 w-full max-h-[60vh] overflow-y-auto hide-scrollbar p-4`,children:l.map((e,t)=>{let n=kv(e.rarity,i),a=e.effect?`effect-${e.effect}`:``,o=`animate-in zoom-in slide-in-from-bottom-6`;return e.dropAnim?o=`anim-${e.dropAnim}`:e.rarity===``?o=`anim-epic`:e.rarity===``?o=`anim-flash`:e.rarity===``&&(o=`anim-flip`),(0,$.jsxs)(`div`,{onClick:()=>m({card:e,amount:1}),className:`flex flex-col items-center cursor-pointer group ${o}`,style:{animationDelay:`${Math.min(t*50,2e3)}ms`,animationFillMode:`both`},children:[(0,$.jsxs)(`div`,{className:`w-32 sm:w-40 md:w-56 aspect-[2/3] rounded-2xl border-4 overflow-hidden shadow-[0_0_40px_rgba(0,0,0,0.6)] transform transition-all group-hover:scale-105 group-hover:rotate-2 ${n.border} bg-neutral-900 relative mb-4 ${a}`,children:[(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`}),Number(e.maxSupply)>0&&(0,$.jsxs)(`div`,{className:`absolute top-2 right-2 bg-black/90 text-white text-[8px] sm:text-[10px] px-2 py-1 rounded-md border border-neutral-700 font-black z-10`,children:[r[e.id]||0,` / `,e.maxSupply]}),e.soundUrl&&(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),Dv(e.soundUrl,e.soundVolume)},className:`absolute bottom-2 right-2 bg-black/80 text-white p-2 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:16})})]}),(0,$.jsxs)(`div`,{className:`text-center w-full px-2`,children:[(0,$.jsxs)(`div`,{className:`text-[10px] sm:text-xs font-black uppercase tracking-widest flex justify-center items-center gap-1 ${n.text}`,children:[(0,$.jsx)(Ce,{size:12}),` `,e.rarity]}),(0,$.jsx)(`h3`,{className:`font-bold text-white text-xs sm:text-sm truncate w-full group-hover:text-yellow-100 transition-colors`,children:e.name})]})]},t)})}),(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-4`,children:[(0,$.jsx)(`button`,{onClick:()=>u([]),className:`px-8 py-4 bg-neutral-800 hover:bg-neutral-700 text-white font-bold rounded-xl transition-all hover:-translate-y-1 shadow-lg border border-neutral-700`,children:` `}),(0,$.jsxs)(`button`,{onClick:d,disabled:g,className:`px-8 py-4 bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-800 disabled:text-neutral-500 text-white font-bold rounded-xl transition-all hover:-translate-y-1 shadow-lg flex items-center justify-center gap-2`,children:[`  (+`,e,` `,(0,$.jsx)(ie,{size:16}),`)`]})]})]})}let T=t.find(e=>e.id===f);if(T){let e=n.filter(e=>e.packId===f).sort((e,t)=>Ov(e.rarity,i)-Ov(t.rarity,i));return(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in slide-in-from-right-8 duration-500`,children:[(0,$.jsxs)(`button`,{onClick:()=>p(null),className:`mb-6 flex items-center gap-2 text-neutral-400 hover:text-white transition-colors font-bold px-4 py-2 bg-neutral-900 rounded-lg hover:bg-neutral-800 w-fit border border-neutral-800`,children:[(0,$.jsx)(ee,{size:20}),` `]}),(0,$.jsxs)(`div`,{className:`flex flex-col items-center mb-12 bg-neutral-900/50 p-6 rounded-3xl border border-neutral-800 max-w-3xl mx-auto`,children:[T.isPremiumOnly&&(0,$.jsxs)(`div`,{className:`bg-fuchsia-900/50 text-fuchsia-300 px-4 py-1.5 rounded-full font-bold uppercase tracking-widest text-xs flex items-center gap-2 mb-3 border border-fuchsia-500/30`,children:[(0,$.jsx)(k,{size:14}),`  `]}),(0,$.jsx)(`h2`,{className:`text-3xl font-black mb-6 text-white text-center`,children:T.name}),(0,$.jsx)(`div`,{className:`relative w-48 h-48 mb-8 flex justify-center items-center perspective-1000`,children:o===T.id?(0,$.jsx)(`div`,{className:`w-full h-full bg-gradient-to-br from-indigo-900 to-purple-900 rounded-2xl border-4 border-indigo-500 shadow-[0_0_40px_rgba(99,102,241,0.6)] animate-pulse flex items-center justify-center`,children:(0,$.jsx)(A,{className:`animate-spin text-indigo-300 w-12 h-12`})}):(0,$.jsx)(`div`,{className:`w-full h-full bg-neutral-800 rounded-2xl border-4 overflow-hidden ${T.isPremiumOnly?`border-fuchsia-600 shadow-[0_10px_40px_rgba(217,70,239,0.3)]`:`border-neutral-700 shadow-[0_10px_40px_rgba(0,0,0,0.5)]`}`,children:(0,$.jsx)(`img`,{src:T.image,alt:T.name,className:`w-full h-full object-cover`})})}),(0,$.jsxs)(`div`,{className:`flex flex-wrap justify-center gap-3 w-full`,children:[(0,$.jsx)(Vv,{amount:1,cost:T.cost,onClick:()=>a(T.id,T.cost,1),opening:o===T.id||g}),(0,$.jsx)(Vv,{amount:5,cost:T.cost,onClick:()=>a(T.id,T.cost,5),opening:o===T.id||g,color:`bg-orange-500 hover:bg-orange-400 text-orange-950`}),(0,$.jsx)(Vv,{amount:10,cost:T.cost,onClick:()=>a(T.id,T.cost,10),opening:o===T.id||g,color:`bg-red-500 hover:bg-red-400 text-red-950`}),(0,$.jsx)(Vv,{amount:100,cost:T.cost,onClick:()=>a(T.id,T.cost,100),opening:o===T.id||g,color:`bg-purple-600 hover:bg-purple-500 text-white`})]}),T.isPremiumOnly&&!v&&(0,$.jsx)(`div`,{className:`mt-6 text-red-400 font-bold bg-red-900/20 px-4 py-2 rounded-xl border border-red-900/50`,children:`   -    .`})]}),(0,$.jsxs)(`div`,{className:`border-t border-neutral-800 pt-8 w-full`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-black mb-6 text-white text-center uppercase tracking-wider`,children:`     ( )`}),(0,$.jsxs)(`div`,{className:`grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4`,children:[e.map(e=>{let t=kv(e.rarity,i),n=e.effect?`effect-${e.effect}`:``,a=Number(e.maxSupply)||0,o=a>0&&(r[e.id]||0)>=a;return(0,$.jsxs)(`div`,{className:`flex flex-col items-center group ${o?`opacity-50 grayscale`:`cursor-pointer`}`,onClick:()=>!o&&m({card:e}),children:[(0,$.jsxs)(`div`,{className:`relative w-full aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-900 mb-2 transition-all duration-300 ${o?``:`group-hover:-translate-y-2 group-hover:shadow-[0_10px_20px_rgba(0,0,0,0.5)]`} ${t.border} ${n}`,children:[(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity`}),a>0&&(0,$.jsx)(`div`,{className:`absolute top-1 right-1 bg-black/90 text-white text-[8px] px-1.5 py-0.5 rounded border border-neutral-700 font-bold z-10`,children:o?``:`${a-(r[e.id]||0)}/${a}`}),e.soundUrl&&(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),Dv(e.soundUrl,e.soundVolume)},className:`absolute bottom-1 right-1 bg-black/80 text-white p-1.5 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:12})})]}),(0,$.jsxs)(`div`,{className:`text-center px-1 w-full`,children:[(0,$.jsx)(`div`,{className:`text-[9px] font-black uppercase tracking-widest mb-0.5 ${t.text}`,children:e.rarity}),(0,$.jsx)(`div`,{className:`font-bold text-xs leading-tight text-white truncate w-full group-hover:text-yellow-100 transition-colors`,title:e.name,children:e.name})]})]},e.id)}),e.length===0&&(0,$.jsx)(`p`,{className:`col-span-full text-center text-neutral-500 py-4`,children:` .`})]})]})]})}let E=h?t:t.filter(e=>!e.isHidden),te=[`all`,...new Set(E.map(e=>e.category||``))],ne=E.filter(e=>C===`all`||(e.category||``)===C);return(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500`,children:[(0,$.jsxs)(`div`,{className:`text-center mb-6`,children:[(0,$.jsx)(`h2`,{className:`text-3xl font-black mb-2 text-white uppercase tracking-widest`,children:` `}),(0,$.jsx)(`p`,{className:`text-neutral-400 text-sm`,children:` ,  ,   !`})]}),te.length>2&&(0,$.jsx)(`div`,{className:`flex gap-2 overflow-x-auto pb-4 mb-4 hide-scrollbar justify-center max-w-4xl mx-auto`,children:te.map(e=>(0,$.jsx)(`button`,{onClick:()=>w(e),className:`px-5 py-2.5 rounded-full font-bold whitespace-nowrap transition-colors border ${C===e?`bg-purple-600 border-purple-500 text-white`:`bg-neutral-900 border-neutral-800 text-neutral-400 hover:text-white`}`,children:e===`all`?` `:e},e))}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-4xl mx-auto`,children:[ne.map(e=>(0,$.jsxs)(`button`,{onClick:()=>p(e.id),className:`bg-neutral-900 border ${e.isPremiumOnly?`border-fuchsia-900/50 hover:border-fuchsia-500`:`border-neutral-800 hover:border-neutral-600`} rounded-3xl p-6 flex flex-col items-center justify-between group transition-colors shadow-lg text-left w-full cursor-pointer hover:-translate-y-1 transform duration-300 relative overflow-hidden`,children:[e.isHidden&&(0,$.jsx)(`div`,{className:`absolute top-3 left-3 bg-red-900 text-red-100 text-[10px] px-2 py-1 rounded border border-red-500 font-bold uppercase z-10 shadow-lg`,children:``}),e.isPremiumOnly&&(0,$.jsxs)(`div`,{className:`absolute top-3 right-3 bg-fuchsia-900 text-fuchsia-100 text-[10px] px-2 py-1 rounded border border-fuchsia-500 font-bold uppercase z-10 shadow-lg flex items-center gap-1`,children:[(0,$.jsx)(k,{size:10}),` `]}),(0,$.jsx)(`div`,{className:`text-[10px] ${e.isPremiumOnly?`text-fuchsia-400`:`text-purple-400`} font-bold uppercase tracking-widest text-center mb-1 relative z-10`,children:e.category||``}),(0,$.jsx)(`h3`,{className:`text-xl font-bold text-white mb-2 text-center w-full relative z-10`,children:e.name}),(0,$.jsxs)(`div`,{className:`flex items-center justify-center gap-1.5 text-yellow-500 font-bold mb-4 bg-yellow-500/10 px-4 py-1.5 rounded-full border border-yellow-500/20 shadow-inner relative z-10`,children:[e.cost,` `,(0,$.jsx)(ie,{size:16})]}),(0,$.jsx)(`div`,{className:`relative w-40 h-40 mb-6 flex justify-center items-center perspective-1000`,children:(0,$.jsx)(`div`,{className:`w-full h-full bg-neutral-800 rounded-2xl border-4 ${e.isPremiumOnly?`border-fuchsia-800/50`:`border-neutral-700`} shadow-xl overflow-hidden group-hover:shadow-[0_0_30px_rgba(255,255,255,0.1)] transition-all duration-300`,children:(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity group-hover:scale-105 duration-500 ${e.isHidden?`grayscale`:``}`})})}),(0,$.jsx)(`div`,{className:`w-full py-3 rounded-xl font-bold text-neutral-400 group-hover:text-white bg-neutral-950 border ${e.isPremiumOnly?`border-fuchsia-900/30`:`border-neutral-800`} group-hover:border-neutral-700 flex items-center justify-center gap-2 transition-all relative z-10`,children:``})]},e.id)),ne.length===0&&(0,$.jsx)(`div`,{className:`col-span-full text-center text-neutral-500 py-10`,children:`     .`})]})]})}function Vv({amount:e,cost:t,onClick:n,opening:r,color:i=`bg-yellow-500 hover:bg-yellow-400 text-yellow-950`}){let a=r;return(0,$.jsxs)(`button`,{onClick:n,disabled:a,className:`px-6 py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-all shadow-lg ${a?`bg-neutral-800 text-neutral-600 cursor-not-allowed opacity-70`:`${i} transform hover:-translate-y-1`}`,children:[` `,e,`x`,(0,$.jsxs)(`span`,{className:`flex items-center text-sm bg-black/20 px-2 py-1 rounded ml-1`,children:[t*e,` `,(0,$.jsx)(ie,{size:14,className:`ml-1`})]})]})}function Hv({profile:e,cardStats:t,user:n,db:r,appId:i,premiumPrice:a,premiumDurationDays:o,premiumShopItems:s,showToast:c,isProcessing:l,setIsProcessing:u,addSystemLog:d,isPremiumActive:f,cardsCatalog:p,rarities:m,setViewingCard:h}){let[g,v]=(0,_.useState)(``),y=(0,_.useRef)(!1),b=async()=>{if(!(y.current||l)){if(e.coins<a)return c(`    -!`);y.current=!0,u(!0);try{let t=f?new Date(e.premiumUntil):new Date;t.setDate(t.getDate()+o),await dv(Y(r,`artifacts`,i,`public`,`data`,`profiles`,n.uid),{coins:X(-a),isPremium:!0,premiumUntil:t.toISOString()}),c(`   -  ${o} !`,`success`),d(``,` ${e.nickname}    ${a} .`)}catch(e){console.error(e),c(`    .`)}finally{y.current=!1,u(!1)}}},x=async t=>{if(t.preventDefault(),y.current||l)return;let a=g.trim();if(!a)return c(`  !`);if(e.coins<1e5)return c(` !`);y.current=!0,u(!0);try{let e=await lv(Zg(r,`artifacts`,i,`public`,`data`,`profiles`)),t=!1;if(e.forEach(e=>{e.data().nickname?.toLowerCase()===a.toLowerCase()&&(t=!0)}),t){c(`     !`,`error`);return}await dv(Y(r,`artifacts`,i,`public`,`data`,`profiles`,n.uid),{nickname:a,coins:X(-1e5)}),c(` ,    !`,`success`),d(``,`    ${a}  100000 .`),v(``)}catch(e){console.error(e),c(`  .`)}finally{y.current=!1,u(!1)}},S=async t=>{if(!(y.current||l)){if(!f)return c(`      -!`);if(e.coins<t.price)return c(` !`);y.current=!0,u(!0);try{let a=gv(r),o=Y(r,`artifacts`,i,`public`,`data`,`profiles`,n.uid);if(t.type===`card`){let e=Y(r,`artifacts`,i,`users`,n.uid,`inventory`,t.itemId);a.set(e,{amount:X(1)},{merge:!0}),a.update(o,{coins:X(-t.price),totalCards:X(1)})}await a.commit(),c(`   ${t.name}!`,`success`),d(``,` ${e.nickname}   ${t.name}  ${t.price} .`)}catch(e){console.error(e),c(`    .`)}finally{y.current=!1,u(!1)}}};return(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500`,children:[(0,$.jsxs)(`div`,{className:`text-center mb-10`,children:[(0,$.jsxs)(`h2`,{className:`text-4xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-purple-600 uppercase tracking-widest flex items-center justify-center gap-3`,children:[(0,$.jsx)(k,{className:`text-fuchsia-500 w-10 h-10`}),`  `]}),(0,$.jsx)(`p`,{className:`text-neutral-400`,children:`    .`})]}),(0,$.jsxs)(`div`,{className:`bg-gradient-to-br from-neutral-900 to-purple-950/30 border-2 border-fuchsia-500/30 rounded-3xl p-6 sm:p-10 text-center max-w-2xl mx-auto shadow-[0_0_40px_rgba(217,70,239,0.15)] mb-12 relative overflow-hidden`,children:[(0,$.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-fuchsia-600 via-purple-600 to-fuchsia-600`}),(0,$.jsx)(k,{size:60,className:`mx-auto text-fuchsia-400 mb-6 drop-shadow-[0_0_20px_rgba(217,70,239,0.5)] animate-pulse`}),(0,$.jsxs)(`h3`,{className:`text-3xl font-black text-white mb-4`,children:[`  (`,o,` )`]}),(0,$.jsxs)(`div`,{className:`text-left max-w-sm mx-auto mb-8 space-y-3`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-neutral-200`,children:[(0,$.jsx)(re,{className:`text-fuchsia-500`,size:20}),(0,$.jsx)(`span`,{children:`     `})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-neutral-200`,children:[(0,$.jsx)(re,{className:`text-fuchsia-500`,size:20}),(0,$.jsx)(`span`,{children:`   (+200%  )`})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-neutral-200`,children:[(0,$.jsx)(re,{className:`text-fuchsia-500`,size:20}),(0,$.jsx)(`span`,{children:`  -  `})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 text-neutral-200`,children:[(0,$.jsx)(re,{className:`text-fuchsia-500`,size:20}),(0,$.jsx)(`span`,{children:`    `})]})]}),f?(0,$.jsxs)(`div`,{className:`bg-fuchsia-900/30 border border-fuchsia-500/50 p-4 rounded-xl text-fuchsia-100 font-bold mb-4`,children:[`   : `,Ev(e.premiumUntil)]}):null,(0,$.jsxs)(`button`,{onClick:b,disabled:l,className:`w-full sm:w-auto bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white font-black text-lg py-4 px-12 rounded-2xl shadow-xl transition-transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 mx-auto`,children:[f?`   ${o} `:` `,(0,$.jsxs)(`span`,{className:`bg-black/30 px-3 py-1 rounded-lg text-sm flex items-center gap-1`,children:[a,` `,(0,$.jsx)(ie,{size:16})]})]})]}),(0,$.jsxs)(`div`,{className:`bg-gradient-to-br from-neutral-900 to-blue-950/30 border-2 border-blue-500/30 rounded-3xl p-6 sm:p-10 text-center max-w-2xl mx-auto shadow-[0_0_40px_rgba(59,130,246,0.15)] mb-12 relative overflow-hidden`,children:[(0,$.jsx)(_e,{size:48,className:`mx-auto text-blue-400 mb-4 drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]`}),(0,$.jsx)(`h3`,{className:`text-2xl font-black text-white mb-2`,children:` `}),(0,$.jsx)(`p`,{className:`text-neutral-400 text-sm mb-6`,children:`  ',  ?  '  100,000 .`}),(0,$.jsxs)(`form`,{onSubmit:x,className:`flex flex-col sm:flex-row gap-3 max-w-md mx-auto`,children:[(0,$.jsx)(`input`,{type:`text`,value:g,onChange:e=>v(e.target.value),placeholder:` `,required:!0,className:`flex-1 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 outline-none`}),(0,$.jsxs)(`button`,{type:`submit`,disabled:l,className:`bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2`,children:[` `,(0,$.jsxs)(`span`,{className:`bg-black/30 px-2 py-1 rounded-lg text-xs flex items-center gap-1`,children:[`100k `,(0,$.jsx)(ie,{size:12})]})]})]})]}),s&&s.length>0&&(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`h3`,{className:`text-2xl font-black text-white text-center mb-8 uppercase tracking-widest flex items-center justify-center gap-2`,children:[(0,$.jsx)(we,{className:`text-fuchsia-500`}),`  `]}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-5xl mx-auto`,children:s.map((e,t)=>{let n=null;return e.type===`card`&&(n=p.find(t=>t.id===e.itemId)),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-3xl p-6 flex flex-col items-center justify-between relative group hover:border-fuchsia-900 transition-colors shadow-lg`,children:[!f&&(0,$.jsxs)(`div`,{className:`absolute inset-0 bg-neutral-950/80 backdrop-blur-[2px] z-20 flex flex-col items-center justify-center rounded-3xl border-2 border-neutral-800`,children:[(0,$.jsx)(k,{className:`text-fuchsia-900/50 w-16 h-16 mb-2`}),(0,$.jsx)(`span`,{className:`font-bold text-neutral-500 uppercase tracking-widest text-sm`,children:`  `})]}),(0,$.jsx)(`div`,{className:`text-[10px] text-fuchsia-400 font-bold uppercase tracking-widest text-center mb-1`,children:``}),(0,$.jsx)(`h3`,{className:`text-xl font-bold text-white mb-2 text-center w-full`,children:e.name||(n?n.name:` `)}),(0,$.jsxs)(`div`,{className:`relative w-32 aspect-[2/3] mb-6 flex justify-center items-center shadow-xl rounded-xl overflow-hidden border-2 border-fuchsia-500/50`,children:[(0,$.jsx)(`img`,{src:e.image||(n?n.image:``),alt:`item`,className:`w-full h-full object-cover`}),n&&(0,$.jsx)(`button`,{onClick:()=>h({card:n,amount:1}),className:`absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity z-10`,children:(0,$.jsx)(se,{className:`text-white w-8 h-8`})})]}),(0,$.jsx)(`div`,{className:`text-center text-sm text-neutral-400 mb-4 h-10 overflow-hidden line-clamp-2`,children:e.description}),(0,$.jsxs)(`button`,{onClick:()=>S(e),className:`w-full py-3 rounded-xl font-black text-white bg-blue-600 hover:bg-blue-500 flex items-center justify-center gap-2 transition-all`,children:[`  `,e.price,` `,(0,$.jsx)(ie,{size:16})]})]},t)})})]})]})}function Uv({inventory:e,rarities:t,sellDuplicate:n,sellAllDuplicates:r,sellEveryDuplicate:i,sellPrice:a,catalogTotal:o,setViewingCard:s,setListingCard:c,packsCatalog:l,showcases:u,createShowcase:d,deleteShowcase:f,setMainShowcase:p,saveShowcaseCards:m,profile:h,cardsCatalog:g,cardStats:v}){let[y,b]=(0,_.useState)(`cards`),[x,S]=(0,_.useState)(`rarity`),[C,w]=(0,_.useState)(`all`),[T,E]=(0,_.useState)(`all`),[te,ne]=(0,_.useState)(null),[D,re]=(0,_.useState)([]),ae=[`all`,...new Set(l.map(e=>e.category||``))],oe=C===`all`?l:l.filter(e=>(e.category||``)===C),se=e.filter(e=>{let t=l.find(t=>t.id===e.card.packId),n=t&&t.category||``;return!(C!==`all`&&n!==C||T!==`all`&&e.card.packId!==T)});se.sort((e,n)=>{if(x===`rarity`)return Ov(e.card.rarity,t)-Ov(n.card.rarity,t);if(x===`amount`)return n.amount-e.amount;if(x===`name`)return e.card.name.localeCompare(n.card.name);if(x===`pack`){let t=l.find(t=>t.id===e.card.packId)?.name||``,r=l.find(e=>e.id===n.card.packId)?.name||``;return t.localeCompare(r)}return 0});let O=se.reduce((e,t)=>t.amount>1?e+(t.card.sellPrice?Number(t.card.sellPrice):a)*(t.amount-1):e,0),k=u.find(e=>e.id===te);(0,_.useEffect)(()=>{re(k&&k.cardIds||[])},[te,u]);let ce=e=>{e.preventDefault();let t=e.target.showcaseName.value;d(t),e.target.reset()},ue=t=>{if(!k)return;if(D.length>=10)return alert(` : 10 !`);let n=e.find(e=>e.card.id===t)?.amount||0;if(D.filter(e=>e===t).length<n){let e=[...D,t];re(e),m(k.id,e)}else alert(`      !`)},de=e=>{if(!k)return;let t=[...D];t.splice(e,1),re(t),m(k.id,t)},A=(e,t)=>{e.dataTransfer.setData(`cardId`,t)};return(0,$.jsxs)(`div`,{className:`pb-10`,children:[(0,$.jsxs)(`div`,{className:`flex bg-neutral-900 border border-neutral-800 rounded-xl p-1 max-w-sm mx-auto mb-6`,children:[(0,$.jsxs)(`button`,{onClick:()=>b(`cards`),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 ${y===`cards`?`bg-blue-600 text-white`:`text-neutral-400 hover:text-white`}`,children:[(0,$.jsx)(fe,{size:16}),`  `]}),(0,$.jsxs)(`button`,{onClick:()=>b(`showcases`),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 ${y===`showcases`?`bg-blue-600 text-white`:`text-neutral-400 hover:text-white`}`,children:[(0,$.jsx)(we,{size:16}),`  `]})]}),y===`cards`?(0,$.jsxs)(`div`,{className:`animate-in fade-in`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-center mb-8 gap-4 bg-neutral-900/80 p-5 rounded-2xl border border-neutral-800 shadow-lg`,children:[(0,$.jsxs)(`h2`,{className:`text-2xl font-black flex items-center gap-3 text-white uppercase tracking-wider shrink-0`,children:[(0,$.jsx)(fe,{className:`text-yellow-500 w-8 h-8`}),`  `,(0,$.jsxs)(`span`,{className:`text-neutral-500 text-lg`,children:[`(`,e.length,`/`,o,`)`]})]}),(0,$.jsxs)(`div`,{className:`flex flex-wrap justify-center md:justify-end items-center gap-3 w-full`,children:[O>0&&(0,$.jsxs)(`button`,{onClick:()=>{confirm(`      ${O} ?`)&&i(se)},className:`bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-500 hover:to-emerald-400 text-white font-bold py-3 px-5 rounded-xl shadow-[0_0_20px_rgba(16,185,129,0.3)] flex items-center gap-2 whitespace-nowrap transition-transform transform hover:scale-105 order-last lg:order-first w-full lg:w-auto justify-center`,title:`  1      `,children:[(0,$.jsx)(Ie,{size:18}),`   (+`,O,` `,(0,$.jsx)(ie,{size:14}),`)`]}),(0,$.jsx)(`select`,{value:C,onChange:e=>{w(e.target.value),E(`all`)},className:`bg-neutral-950 border border-neutral-700 text-sm font-medium rounded-xl px-4 py-3 w-full sm:w-auto focus:outline-none text-white cursor-pointer hover:bg-neutral-800 h-full`,children:ae.map(e=>(0,$.jsx)(`option`,{value:e,children:e===`all`?` `:e},e))}),(0,$.jsxs)(`select`,{value:T,onChange:e=>E(e.target.value),className:`bg-neutral-950 border border-neutral-700 text-sm font-medium rounded-xl px-4 py-3 w-full sm:w-auto focus:outline-none text-white cursor-pointer hover:bg-neutral-800 h-full`,children:[(0,$.jsx)(`option`,{value:`all`,children:` `}),oe.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),(0,$.jsxs)(`select`,{value:x,onChange:e=>S(e.target.value),className:`bg-neutral-950 border border-purple-900/50 text-sm font-bold rounded-xl px-4 py-3 w-full sm:w-auto focus:outline-none text-purple-400 cursor-pointer hover:bg-neutral-800 h-full`,children:[(0,$.jsx)(`option`,{value:`rarity`,children:` `}),(0,$.jsx)(`option`,{value:`pack`,children:` `}),(0,$.jsx)(`option`,{value:`amount`,children:` `}),(0,$.jsx)(`option`,{value:`name`,children:` `})]})]})]}),se.length===0?(0,$.jsxs)(`div`,{className:`text-center py-32 text-neutral-500 bg-neutral-900/30 rounded-3xl border-2 border-dashed border-neutral-800`,children:[(0,$.jsx)(ge,{size:80,className:`mx-auto mb-6 opacity-20`}),(0,$.jsx)(`p`,{className:`text-xl font-medium mb-2 text-neutral-400`,children:`  .`})]}):(0,$.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6`,children:se.map((e,i)=>{let o=kv(e.card.rarity,t),l=e.card.effect?`effect-${e.card.effect}`:``,u=e.card.sellPrice?Number(e.card.sellPrice):a;return(0,$.jsxs)(`div`,{className:`flex flex-col items-center group cursor-pointer animate-in fade-in zoom-in-95 duration-500`,style:{animationDelay:`${i*15}ms`,fillMode:`backwards`},children:[(0,$.jsxs)(`div`,{onClick:()=>s({card:e.card,amount:e.amount}),className:`relative w-full aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-900 mb-3 transition-all duration-300 group-hover:-translate-y-2 group-hover:shadow-[0_15px_30px_rgba(0,0,0,0.6)] ${o.border} ${l}`,children:[Number(e.card.maxSupply)>0&&(0,$.jsx)(`div`,{className:`absolute top-1 left-1 bg-black/90 text-white font-black text-[9px] px-1.5 py-0.5 rounded-sm z-10 border border-neutral-700 shadow-xl`,children:e.card.maxSupply}),e.amount>1&&(0,$.jsxs)(`div`,{className:`absolute top-2 right-2 bg-neutral-950/90 backdrop-blur text-white font-black text-xs px-3 py-1.5 rounded-full z-10 border border-neutral-700 shadow-xl`,children:[`x`,e.amount]}),(0,$.jsx)(`img`,{src:e.card.image,alt:e.card.name,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500`}),e.card.soundUrl&&(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),Dv(e.card.soundUrl,e.card.soundVolume)},className:`absolute bottom-1 right-1 bg-black/80 text-white p-1.5 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:12})})]}),(0,$.jsxs)(`div`,{className:`w-full flex flex-col items-center text-center px-1`,children:[(0,$.jsx)(`div`,{className:`text-[10px] font-black uppercase tracking-widest mb-1 ${o.text}`,children:e.card.rarity}),(0,$.jsx)(`div`,{className:`font-bold text-sm leading-tight text-white mb-3 line-clamp-1 w-full group-hover:text-yellow-100 transition-colors`,title:e.card.name,children:e.card.name}),e.amount>1?(0,$.jsxs)(`div`,{className:`w-full flex flex-col gap-1.5`,children:[(0,$.jsxs)(`button`,{onClick:t=>{t.stopPropagation(),n(e.card.id)},className:`w-full bg-neutral-800 hover:bg-neutral-700 text-xs py-2 rounded-lg text-neutral-200 font-bold transition-all hover:shadow-[0_0_15px_rgba(255,255,255,0.1)]`,children:[` (+`,u,` `,(0,$.jsx)(ie,{size:10,className:`inline text-yellow-500`}),`)`]}),(0,$.jsxs)(`div`,{className:`flex gap-1.5 w-full`,children:[e.amount>2&&(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),r(e.card.id)},className:`flex-1 bg-neutral-800/80 hover:bg-red-900/50 text-[10px] py-1.5 rounded-lg text-neutral-400 font-bold transition-all border border-neutral-700 hover:border-red-900/50`,title:`  1`,children:` (-1)`}),(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),c(e.card)},className:`flex-1 bg-blue-900/40 hover:bg-blue-600 text-[10px] py-1.5 rounded-lg text-blue-400 hover:text-white font-bold transition-all border border-blue-800/50`,children:` `})]})]}):(0,$.jsxs)(`div`,{className:`w-full flex flex-col gap-1.5`,children:[(0,$.jsx)(`div`,{className:`w-full text-xs py-1.5 text-neutral-500 font-medium`,children:` `}),(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),c(e.card)},className:`w-full bg-blue-900/40 hover:bg-blue-600 text-xs py-2 rounded-lg text-blue-400 hover:text-white font-bold transition-all border border-blue-800/50`,children:`  `})]})]})]},e.card.id)})})]}):(0,$.jsx)(`div`,{className:`animate-in fade-in`,children:k?(0,$.jsxs)(`div`,{className:`animate-in slide-in-from-right-4`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4 bg-neutral-900 p-5 rounded-2xl border border-neutral-800`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`button`,{onClick:()=>ne(null),className:`text-neutral-400 hover:text-white text-sm font-bold flex items-center gap-1 mb-2`,children:[(0,$.jsx)(ee,{size:16}),`   `]}),(0,$.jsxs)(`h2`,{className:`text-2xl font-black text-white flex items-center gap-2`,children:[k.name,` `,(0,$.jsxs)(`span`,{className:`text-neutral-500 text-sm font-normal`,children:[`(`,D.length,`/10)`]})]})]}),(0,$.jsxs)(`div`,{className:`flex flex-wrap gap-2 w-full md:w-auto`,children:[h?.mainShowcaseId===k.id?(0,$.jsxs)(`div`,{className:`bg-yellow-500 text-yellow-950 px-4 py-2 rounded-xl font-bold flex items-center gap-2 flex-1 md:flex-none justify-center`,children:[(0,$.jsx)(we,{size:16,className:`fill-yellow-950`}),`  `]}):(0,$.jsxs)(`button`,{onClick:()=>p(k.id),className:`bg-yellow-600/20 hover:bg-yellow-600/40 text-yellow-500 border border-yellow-600/50 px-4 py-2 rounded-xl font-bold transition-colors flex items-center gap-2 flex-1 md:flex-none justify-center`,children:[(0,$.jsx)(we,{size:16}),`  `]}),(0,$.jsx)(`button`,{onClick:()=>{ne(null),f(k.id)},className:`bg-red-900/40 hover:bg-red-900 text-red-400 px-4 py-2 rounded-xl font-bold transition-colors flex items-center gap-2 flex-1 md:flex-none justify-center`,children:(0,$.jsx)(Ae,{size:16})})]})]}),(0,$.jsx)(`p`,{className:`text-center text-neutral-400 text-sm mb-4`,children:`        ,    .`}),(0,$.jsxs)(`div`,{className:`bg-neutral-900/50 border-2 border-dashed ${D.length<10?`border-purple-500/50`:`border-neutral-700`} rounded-3xl p-6 min-h-[200px] mb-8 flex flex-wrap justify-center gap-4 transition-colors`,onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();let t=e.dataTransfer.getData(`cardId`);t&&ue(t)},children:[D.map((e,n)=>{let r=g.find(t=>t.id===e);if(!r)return null;let i=kv(r.rarity,t),a=r.effect?`effect-${r.effect}`:``;return(0,$.jsx)(`div`,{onClick:()=>de(n),className:`relative group cursor-pointer animate-in zoom-in-95`,children:(0,$.jsxs)(`div`,{className:`w-24 sm:w-32 aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-950 ${i.border} ${a}`,children:[(0,$.jsx)(`img`,{src:r.image,alt:r.name,className:`w-full h-full object-cover group-hover:opacity-50 transition-opacity`}),(0,$.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity`,children:(0,$.jsx)(`div`,{className:`bg-red-600 text-white rounded-full p-2`,children:(0,$.jsx)(Ae,{size:20})})})]})},n)}),Array.from({length:Math.max(0,10-D.length)}).map((e,t)=>(0,$.jsx)(`div`,{className:`w-24 sm:w-32 aspect-[2/3] rounded-xl border-2 border-dashed border-neutral-800 bg-neutral-950/30 flex items-center justify-center opacity-50`,children:(0,$.jsx)(le,{className:`text-neutral-700`,size:32})},`empty-${t}`))]}),(0,$.jsx)(`h3`,{className:`text-lg font-bold text-white mb-4`,children:` :`}),(0,$.jsx)(`div`,{className:`grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 opacity-90 hover:opacity-100 transition-opacity`,children:se.map(e=>{let n=kv(e.card.rarity,t),r=D.filter(t=>t===e.card.id).length,i=e.amount-r,a=i<=0||D.length>=10;return(0,$.jsxs)(`div`,{draggable:!a,onDragStart:t=>A(t,e.card.id),onClick:()=>!a&&ue(e.card.id),className:`relative aspect-[2/3] rounded-lg border-2 overflow-hidden bg-neutral-900 transition-all ${a?`opacity-30 grayscale cursor-not-allowed`:`cursor-pointer hover:-translate-y-1 hover:border-purple-500`} ${n.border}`,children:[i>0&&(0,$.jsx)(`div`,{className:`absolute top-1 right-1 bg-black/80 text-white font-bold text-[9px] px-1.5 py-0.5 rounded-sm z-10 border border-neutral-700`,children:i}),(0,$.jsx)(`img`,{src:e.card.image,alt:e.card.name,className:`w-full h-full object-cover pointer-events-none`})]},e.card.id)})})]}):(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`div`,{className:`bg-neutral-900 p-6 rounded-2xl border border-neutral-800 mb-6 text-center`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold text-white mb-4`,children:[(0,$.jsx)(we,{className:`inline text-yellow-500 mb-1`}),`   `]}),(0,$.jsxs)(`form`,{onSubmit:ce,className:`flex flex-col sm:flex-row gap-3 max-w-md mx-auto`,children:[(0,$.jsx)(`input`,{type:`text`,name:`showcaseName`,placeholder:` ...`,required:!0,className:`flex-1 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-yellow-500 outline-none`}),(0,$.jsx)(`button`,{type:`submit`,className:`bg-yellow-600 hover:bg-yellow-500 text-yellow-950 font-bold py-3 px-6 rounded-xl transition-colors`,children:``})]}),(0,$.jsx)(`p`,{className:`text-xs text-neutral-500 mt-3`,children:`: 5   10 .`})]}),u.length===0?(0,$.jsx)(`div`,{className:`text-center py-20 text-neutral-500`,children:`     .`}):(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:u.map(e=>(0,$.jsxs)(`div`,{onClick:()=>ne(e.id),className:`bg-neutral-900 border-2 rounded-2xl p-5 cursor-pointer transition-all hover:-translate-y-1 ${h?.mainShowcaseId===e.id?`border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.2)]`:`border-neutral-800 hover:border-neutral-600`}`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,$.jsx)(`h4`,{className:`font-black text-lg text-white truncate pr-2`,children:e.name}),h?.mainShowcaseId===e.id&&(0,$.jsx)(we,{size:20,className:`text-yellow-500 fill-yellow-500 shrink-0`})]}),(0,$.jsxs)(`div`,{className:`text-sm text-neutral-400 mb-4`,children:[e.cardIds?.length||0,`/10 `]}),(0,$.jsxs)(`div`,{className:`flex -space-x-2 overflow-hidden h-12`,children:[(e.cardIds||[]).slice(0,5).map((e,t)=>{let n=g.find(t=>t.id===e);return n?(0,$.jsx)(`img`,{src:n.image,alt:`m`,className:`inline-block h-12 w-8 object-cover rounded border border-neutral-700 bg-neutral-950`},t):null}),(e.cardIds?.length||0)>5&&(0,$.jsxs)(`div`,{className:`h-12 w-8 rounded border border-neutral-700 bg-neutral-900 flex items-center justify-center text-[10px] font-bold text-white z-10`,children:[`+`,e.cardIds.length-5]})]})]},e.id))})]})})]})}function Wv({marketListings:e,cardsCatalog:t,rarities:n,currentUserUid:r,buyFromMarket:i,cancelMarketListing:a,setViewingCard:o,isAdmin:s}){let[c,l]=(0,_.useState)(`all`),u=e.filter(e=>(!e.status||e.status===`active`)&&(c===`my`?e.sellerUid===r:!0));return(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500`,children:[(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-center mb-6 gap-4`,children:[(0,$.jsxs)(`div`,{className:`text-center sm:text-left`,children:[(0,$.jsxs)(`h2`,{className:`text-3xl font-black text-white uppercase tracking-widest flex items-center justify-center sm:justify-start gap-3`,children:[(0,$.jsx)(Te,{className:`text-blue-500 w-8 h-8`}),`  `]}),(0,$.jsx)(`p`,{className:`text-neutral-400 text-sm`,children:`     !`})]}),(0,$.jsxs)(`div`,{className:`flex bg-neutral-900 border border-neutral-800 rounded-xl p-1 w-full sm:w-auto`,children:[(0,$.jsx)(`button`,{onClick:()=>l(`all`),className:`flex-1 sm:px-6 py-2 rounded-lg font-bold text-sm transition-colors ${c===`all`?`bg-blue-600 text-white`:`text-neutral-400 hover:text-white`}`,children:` `}),(0,$.jsx)(`button`,{onClick:()=>l(`my`),className:`flex-1 sm:px-6 py-2 rounded-lg font-bold text-sm transition-colors ${c===`my`?`bg-blue-600 text-white`:`text-neutral-400 hover:text-white`}`,children:` `})]})]}),u.length===0?(0,$.jsxs)(`div`,{className:`text-center py-20 bg-neutral-900/30 rounded-3xl border-2 border-dashed border-neutral-800`,children:[(0,$.jsx)(De,{size:60,className:`mx-auto mb-4 text-neutral-600 opacity-50`}),(0,$.jsx)(`p`,{className:`text-lg font-bold text-neutral-400`,children:`   .`}),c===`my`&&(0,$.jsx)(`p`,{className:`text-sm text-neutral-500 mt-2`,children:`  ,     .`})]}):(0,$.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6`,children:u.map(e=>{let c=t.find(t=>t.id===e.cardId);if(!c)return null;let l=kv(c.rarity,n),u=c.effect?`effect-${c.effect}`:``,d=e.sellerUid===r;return(0,$.jsxs)(`div`,{className:`flex flex-col items-center animate-in zoom-in-95 group`,children:[(0,$.jsxs)(`div`,{onClick:()=>o({card:c}),className:`relative w-full aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-900 mb-3 cursor-pointer transition-all duration-300 group-hover:-translate-y-2 group-hover:shadow-[0_15px_30px_rgba(0,0,0,0.6)] ${l.border} ${u}`,children:[(0,$.jsx)(`img`,{src:c.image,alt:c.name,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-500`}),c.soundUrl&&(0,$.jsx)(`button`,{onClick:e=>{e.stopPropagation(),Dv(c.soundUrl,c.soundVolume)},className:`absolute bottom-1 right-1 bg-black/80 text-white p-1.5 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:12})})]}),(0,$.jsxs)(`div`,{className:`w-full px-1 text-center flex flex-col items-center`,children:[(0,$.jsx)(`div`,{className:`font-bold text-xs text-white truncate w-full mb-1`,children:c.name}),(0,$.jsxs)(`div`,{className:`text-[10px] text-neutral-500 mb-2 truncate w-full flex items-center justify-center gap-1`,children:[(0,$.jsx)(Me,{size:10}),` `,e.sellerNickname]}),d?(0,$.jsx)(`button`,{onClick:()=>a(e),className:`w-full bg-red-900/50 hover:bg-red-600 text-red-200 hover:text-white text-xs font-bold py-2 rounded-lg transition-colors border border-red-800`,children:`  `}):(0,$.jsxs)(`div`,{className:`w-full flex gap-1`,children:[(0,$.jsxs)(`button`,{onClick:()=>i(e),className:`flex-1 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold py-2 rounded-lg transition-colors shadow-lg shadow-blue-900/20 flex justify-center items-center gap-1`,children:[` (`,e.price,` `,(0,$.jsx)(ie,{size:10}),`)`]}),s&&(0,$.jsx)(`button`,{onClick:()=>a(e),className:`bg-red-900 text-red-400 hover:bg-red-600 hover:text-white p-2 rounded-lg`,title:`   ()`,children:(0,$.jsx)(Ae,{size:14})})]})]})]},e.id)})})]})}function Gv({profile:e,user:t,db:n,appId:r,handleLogout:i,showToast:a,inventoryCount:o,canClaimDaily:s,dailyRewards:c,premiumDailyRewards:l,isPremiumActive:u,showcases:d,cardsCatalog:f,rarities:p,fullInventory:m,setViewingCard:h,cardStats:g}){let[v,y]=(0,_.useState)(``),[b,x]=(0,_.useState)(``),[S,C]=(0,_.useState)(!1),w=(0,_.useRef)(!1),T=d?.find(t=>t.id===e?.mainShowcaseId),ee=[];if(T&&T.cardIds){let e=JSON.parse(JSON.stringify(m));for(let t of T.cardIds){let n=e.find(e=>e.card.id===t);n&&n.amount>0&&(ee.push(n.card),--n.amount)}}return(0,$.jsxs)(`div`,{className:`pb-10 animate-in fade-in zoom-in-95 duration-500`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-3xl p-8 text-center relative overflow-hidden mb-8 shadow-xl`,children:[(0,$.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-32 bg-gradient-to-b ${e?.isSuperAdmin?`from-orange-900/40`:e?.isAdmin?`from-purple-900/40`:u?`from-fuchsia-900/30`:`from-blue-900/20`} to-transparent`}),(0,$.jsxs)(`div`,{className:`relative w-24 h-24 mx-auto mb-4 z-10`,children:[(0,$.jsx)(Pv,{profile:e,className:`w-full h-full rounded-full text-4xl ${u?`border-4 border-fuchsia-500 shadow-[0_0_20px_rgba(217,70,239,0.5)]`:``}`,iconSize:48}),u&&(0,$.jsx)(`div`,{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 bg-neutral-900 rounded-full p-1 border-2 border-fuchsia-500 z-20`,children:(0,$.jsx)(k,{size:16,className:`text-fuchsia-400 fill-fuchsia-400`})})]}),(0,$.jsxs)(`h2`,{className:`text-3xl font-black text-white mb-1 relative z-10 flex justify-center items-center gap-2`,children:[e?.nickname,(0,$.jsxs)(`span`,{className:`bg-red-600/20 text-red-400 text-sm px-2 py-1 rounded-xl border border-red-500/50 flex items-center gap-1`,title:`  `,children:[(0,$.jsx)(Ee,{size:16}),` `,e?.farmLevel||1]}),u&&(0,$.jsx)(k,{size:18,className:`text-fuchsia-400 fill-fuchsia-400`,title:` `})]}),(0,$.jsx)(`div`,{className:`text-neutral-500 text-sm flex justify-center gap-4 mt-2 mb-6`,children:(0,$.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,$.jsx)(ne,{size:14}),`   : `,Ev(e?.createdAt)]})}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 sm:grid-cols-5 gap-4 relative z-10 max-w-2xl mx-auto`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ie,{className:`text-yellow-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:e?.coins}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:``})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(fe,{className:`text-blue-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:o}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:` `})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ge,{className:`text-purple-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:e?.packsOpened||0}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:` `})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ie,{className:`text-red-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:e?.coinsSpentOnPacks||0}),(0,$.jsxs)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:[` `,(0,$.jsx)(ie,{size:8,className:`inline`})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(Ie,{className:`text-green-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:e?.coinsEarnedFromPacks||0}),(0,$.jsxs)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:[` `,(0,$.jsx)(ie,{size:8,className:`inline`})]})]})]})]}),T&&ee.length>0&&(0,$.jsxs)(`div`,{className:`mb-10 max-w-4xl mx-auto`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 mb-4 justify-center`,children:[(0,$.jsx)(we,{className:`text-yellow-500 fill-yellow-500`,size:24}),(0,$.jsx)(`h3`,{className:`text-2xl font-black text-white uppercase tracking-widest`,children:T.name})]}),(0,$.jsx)(`div`,{className:`bg-neutral-900 border-2 border-yellow-500/30 rounded-3xl p-6 flex flex-wrap justify-center gap-4 shadow-[0_0_30px_rgba(234,179,8,0.1)]`,children:ee.map((e,t)=>{let n=kv(e.rarity,p),r=e.effect?`effect-${e.effect}`:``;return(0,$.jsx)(`div`,{onClick:()=>h({card:e,amount:1}),className:`relative group cursor-pointer animate-in zoom-in-95 hover:-translate-y-2 transition-transform`,children:(0,$.jsxs)(`div`,{className:`w-28 sm:w-36 aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-950 shadow-lg ${n.border} ${r}`,children:[Number(e.maxSupply)>0&&(0,$.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/90 text-white text-[8px] sm:text-[10px] px-2 py-1 rounded-md border border-neutral-700 font-black z-10`,children:[g?.[e.id]||0,` / `,e.maxSupply]}),(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`})]})},t)})})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-2xl p-6 relative overflow-hidden group`,children:[(0,$.jsx)(`div`,{className:`absolute -right-6 -bottom-6 opacity-5 group-hover:opacity-10 transition-opacity`,children:(0,$.jsx)(ce,{size:120})}),(0,$.jsxs)(`h3`,{className:`text-xl font-black text-white mb-2 flex items-center gap-2 relative z-10`,children:[(0,$.jsx)(ce,{className:`text-orange-500`}),`  `]}),(0,$.jsxs)(`p`,{className:`text-sm text-neutral-400 mb-4 relative z-10`,children:[`   ! `,u?`   .`:``]}),(0,$.jsx)(`button`,{onClick:async()=>{if(!(w.current||S||!s)){w.current=!0,C(!0);try{let i=await Av();if(e.lastDailyClaim&&wv(new Date(e.lastDailyClaim))===wv(i)){a(`    .`,`error`),w.current=!1,C(!1);return}let o=e.dailyStreak||0,s=u?l:c,d=s[o%s.length],f=o+1;await dv(Y(n,`artifacts`,r,`public`,`data`,`profiles`,t.uid),{coins:X(d),lastDailyClaim:i.toISOString(),dailyStreak:f}),a(` ,    : ${d} !`,`success`)}catch(e){console.error(e),a(`  `)}finally{w.current=!1,C(!1)}}},disabled:!s||S,className:`w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all relative z-10 ${s?`bg-gradient-to-r from-orange-600 to-yellow-500 text-yellow-950 hover:from-orange-500 hover:to-yellow-400 shadow-[0_0_20px_rgba(249,115,22,0.4)]`:`bg-neutral-800 text-neutral-500 cursor-not-allowed`}`,children:s?` `:`  ( )`})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-2xl p-6 relative overflow-hidden group`,children:[(0,$.jsx)(`div`,{className:`absolute -right-6 -bottom-6 opacity-5 group-hover:opacity-10 transition-opacity`,children:(0,$.jsx)(Oe,{size:120})}),(0,$.jsxs)(`h3`,{className:`text-xl font-black text-white mb-2 flex items-center gap-2 relative z-10`,children:[(0,$.jsx)(Oe,{className:`text-purple-500`}),` `]}),(0,$.jsx)(`p`,{className:`text-sm text-neutral-400 mb-4 relative z-10`,children:`    .`}),(0,$.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),w.current||S||!b.trim())return;w.current=!0,C(!0);let i=b.trim().toUpperCase();try{let e=Y(n,`artifacts`,r,`public`,`data`,`promoCodes`,i),o=await cv(e);if(!o.exists()){a(`  !`,`error`);return}let s=o.data(),c=Zg(n,`artifacts`,r,`users`,t.uid,`promoUses`),l=await cv(Y(c,i)),u=l.exists()?l.data().count:0;if(s.maxGlobalUses>0&&s.currentGlobalUses>=s.maxGlobalUses){a(`   !`,`error`);return}if(s.maxUserUses>0&&u>=s.maxUserUses){a(`       !`,`error`);return}let d=gv(n);d.update(e,{currentGlobalUses:X(1)}),d.set(Y(c,i),{count:X(1)},{merge:!0}),d.update(Y(n,`artifacts`,r,`public`,`data`,`profiles`,t.uid),{coins:X(s.reward)}),await d.commit(),a(` ! : ${s.reward} `,`success`),x(``)}catch(e){console.error(e),a(`  `)}finally{w.current=!1,C(!1)}},className:`flex gap-2 relative z-10`,children:[(0,$.jsx)(`input`,{type:`text`,value:b,onChange:e=>x(e.target.value.toUpperCase()),placeholder:`...`,className:`flex-1 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white uppercase focus:border-purple-500 outline-none`}),(0,$.jsx)(`button`,{type:`submit`,disabled:S||!b.trim(),className:`bg-purple-600 hover:bg-purple-500 disabled:bg-neutral-800 text-white font-bold px-6 py-3 rounded-xl transition-colors`,children:``})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-2xl p-6 relative overflow-hidden group md:col-span-2`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-black text-white mb-2 flex items-center gap-2 relative z-10`,children:[(0,$.jsx)(be,{className:`text-blue-500`}),` `]}),(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-6 mt-4`,children:[(0,$.jsxs)(`div`,{className:`flex-1`,children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-2 block`,children:`  (URL ):`}),(0,$.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!(w.current||S)){w.current=!0,C(!0);try{await dv(Y(n,`artifacts`,r,`public`,`data`,`profiles`,t.uid),{avatarUrl:v}),a(`  !`,`success`),y(``)}catch(e){console.error(e),a(`  `)}finally{w.current=!1,C(!1)}}},className:`flex gap-2 relative z-10`,children:[(0,$.jsx)(`input`,{type:`text`,value:v,onChange:e=>y(e.target.value),placeholder:`https://...`,className:`flex-1 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 outline-none text-sm`}),(0,$.jsx)(`button`,{type:`submit`,disabled:S,className:`bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-800 text-white font-bold px-4 py-3 rounded-xl transition-colors text-sm`,children:``})]})]}),(0,$.jsx)(`div`,{className:`flex-1 flex items-end`,children:(0,$.jsxs)(`button`,{onClick:i,className:`w-full bg-red-900/40 hover:bg-red-900 text-red-400 hover:text-white font-bold py-3 px-6 rounded-xl transition-colors flex justify-center items-center gap-2 border border-red-900/50`,children:[(0,$.jsx)(he,{size:18}),`   `]})})]})]})]})]})}function Kv({db:e,appId:t,currentUid:n,setViewingPlayerProfile:r}){let[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)(``),[c,l]=(0,_.useState)(!0),[u,d]=(0,_.useState)(`cards`);(0,_.useEffect)(()=>{(async()=>{try{let n=await lv(Zg(e,`artifacts`,t,`public`,`data`,`profiles`)),r=[];n.forEach(e=>r.push(e.data())),a(r)}catch(e){console.error(`   `,e)}l(!1)})()},[e,t]);let f=[...i].sort((e,t)=>u===`coins`?(t.coins||0)-(e.coins||0):(t.uniqueCardsCount||0)-(e.uniqueCardsCount||0)),p=o.trim()===``?f.slice(0,50):f.filter(e=>e.nickname?.toLowerCase().includes(o.toLowerCase()));return c?(0,$.jsxs)(`div`,{className:`text-center py-20 text-neutral-500`,children:[(0,$.jsx)(A,{className:`animate-spin mx-auto mb-4 w-12 h-12`}),`   ...`]}):(0,$.jsxs)(`div`,{className:`max-w-3xl mx-auto pb-10 animate-in fade-in slide-in-from-bottom-4 duration-500`,children:[(0,$.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,$.jsx)(je,{size:48,className:`mx-auto text-yellow-500 mb-4 drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]`}),(0,$.jsx)(`h2`,{className:`text-3xl font-black text-white uppercase tracking-widest`,children:` `}),(0,$.jsx)(`p`,{className:`text-neutral-400 text-sm mt-2 mb-6`,children:`     `}),(0,$.jsx)(`div`,{className:`relative max-w-md mx-auto mb-4`,children:(0,$.jsx)(`input`,{type:`text`,placeholder:`   ...`,value:o,onChange:e=>s(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-2xl py-3 px-5 text-white focus:outline-none focus:border-yellow-500 transition-colors shadow-inner`})}),(0,$.jsxs)(`div`,{className:`flex bg-neutral-900 border border-neutral-800 rounded-xl p-1 max-w-md mx-auto`,children:[(0,$.jsxs)(`button`,{onClick:()=>d(`cards`),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 ${u===`cards`?`bg-blue-600 text-white`:`text-neutral-400 hover:text-white`}`,children:[(0,$.jsx)(fe,{size:16}),`  `]}),(0,$.jsxs)(`button`,{onClick:()=>d(`coins`),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors flex items-center justify-center gap-2 ${u===`coins`?`bg-yellow-600 text-white`:`text-neutral-400 hover:text-white`}`,children:[(0,$.jsx)(ie,{size:16}),`  `]})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-3xl overflow-hidden shadow-xl`,children:[p.map((e,t)=>{let i=f.findIndex(t=>t.uid===e.uid)+1;return(0,$.jsxs)(`div`,{onClick:()=>r(e.uid),className:`flex items-center justify-between p-4 border-b border-neutral-800/50 last:border-0 transition-colors cursor-pointer group ${e.uid===n?`bg-yellow-900/10`:`hover:bg-neutral-800/80`} ${e.isBanned?`opacity-50`:``}`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,$.jsx)(`div`,{className:`w-10 h-10 flex items-center justify-center font-black text-lg rounded-xl border transition-transform group-hover:scale-110 shrink-0 ${i===1?`bg-yellow-500 text-yellow-950 border-yellow-400`:i===2?`bg-gray-300 text-gray-800 border-gray-100`:i===3?`bg-amber-700 text-orange-100 border-amber-600`:`bg-neutral-950 text-neutral-500 border-neutral-800`}`,children:i}),(0,$.jsx)(Pv,{profile:e,className:`w-10 h-10 rounded-full shrink-0`,iconSize:18}),(0,$.jsx)(`div`,{className:`min-w-0`,children:(0,$.jsxs)(`div`,{className:`font-bold text-white flex items-center gap-2 text-base sm:text-lg truncate`,children:[e.nickname,(0,$.jsxs)(`span`,{className:`bg-red-900/40 text-red-400 text-xs px-2 py-0.5 rounded-lg border border-red-800 flex items-center gap-1 shrink-0`,title:` : ${e.farmLevel||1}`,children:[(0,$.jsx)(Ee,{size:12}),` `,e.farmLevel||1]}),e.isBanned&&(0,$.jsx)(E,{size:14,className:`text-red-600 shrink-0`,title:``}),e.uid===n&&(0,$.jsx)(`span`,{className:`text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded-full shrink-0`,children:``})]})})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-4 shrink-0`,children:[(0,$.jsxs)(`div`,{className:`text-right`,children:[(0,$.jsx)(`div`,{className:`text-xs text-neutral-500 font-bold uppercase`,children:u===`cards`?` `:``}),(0,$.jsx)(`div`,{className:`text-xl font-black ${u===`cards`?`text-blue-400`:`text-yellow-500`}`,children:u===`cards`?e.uniqueCardsCount||0:e.coins||0})]}),(0,$.jsx)(ee,{size:16,className:`text-neutral-600 group-hover:text-yellow-500 transform rotate-180 transition-colors hidden sm:block`})]})]},e.uid)}),p.length===0&&(0,$.jsx)(`div`,{className:`p-8 text-center text-neutral-500`,children:`  .`})]})]})}function qv({cardStats:e,db:t,appId:n,targetUid:r,goBack:i,cardsCatalog:a,rarities:o,setViewingCard:s,packsCatalog:c}){let[l,u]=(0,_.useState)(null),[d,f]=(0,_.useState)([]),[p,m]=(0,_.useState)(null),[h,g]=(0,_.useState)(!0),[v,y]=(0,_.useState)(`rarity`),[b,x]=(0,_.useState)(`all`),[S,C]=(0,_.useState)(`all`);if((0,_.useEffect)(()=>{(async()=>{try{let e=await lv(H_(Zg(t,`artifacts`,n,`public`,`data`,`profiles`))),i=null;if(e.forEach(e=>{e.id===r&&(i=e.data())}),u(i),i){let e=await lv(Zg(t,`artifacts`,n,`users`,r,`inventory`)),o=[];if(e.forEach(e=>o.push({id:e.id,...e.data()})),f(o.map(e=>{let t=a.find(t=>t.id===e.id);return t&&e.amount>0?{card:t,amount:e.amount}:null}).filter(Boolean)),i.mainShowcaseId){let e=await cv(Y(t,`artifacts`,n,`users`,r,`showcases`,i.mainShowcaseId));e.exists()&&m(e.data())}}}catch(e){console.error(`   `,e)}g(!1)})()},[t,n,r,a,o]),h)return(0,$.jsxs)(`div`,{className:`text-center py-20 text-neutral-500`,children:[(0,$.jsx)(A,{className:`animate-spin mx-auto w-12 h-12 mb-4`}),`   ...`]});if(!l)return(0,$.jsxs)(`div`,{className:`text-center py-20 text-red-500`,children:[`      . `,(0,$.jsx)(`button`,{onClick:i,className:`block mx-auto mt-4 underline`,children:``})]});let w=[`all`,...new Set(c.map(e=>e.category||``))],T=b===`all`?c:c.filter(e=>(e.category||``)===b),E=d.filter(e=>{let t=c.find(t=>t.id===e.card.packId),n=t&&t.category||``;return!(b!==`all`&&n!==b||S!==`all`&&e.card.packId!==S)});E.sort((e,t)=>{if(v===`rarity`)return Ov(e.card.rarity,o)-Ov(t.card.rarity,o);if(v===`amount`)return t.amount-e.amount;if(v===`name`)return e.card.name.localeCompare(t.card.name);if(v===`pack`){let n=c.find(t=>t.id===e.card.packId)?.name||``,r=c.find(e=>e.id===t.card.packId)?.name||``;return n.localeCompare(r)}return 0});let te=[];if(p&&p.cardIds){let e=JSON.parse(JSON.stringify(d));for(let t of p.cardIds){let n=e.find(e=>e.card.id===t);n&&n.amount>0&&(te.push(n.card),--n.amount)}}let D=l.isPremium&&l.premiumUntil&&new Date(l.premiumUntil)>new Date;return(0,$.jsxs)(`div`,{className:`animate-in slide-in-from-right-8 duration-500`,children:[(0,$.jsxs)(`button`,{onClick:i,className:`mb-6 flex items-center gap-2 text-neutral-400 hover:text-white transition-colors font-bold px-4 py-2 bg-neutral-900 rounded-lg hover:bg-neutral-800 w-fit border border-neutral-800`,children:[(0,$.jsx)(ee,{size:20}),`  `]}),(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-3xl p-8 text-center relative overflow-hidden mb-8 shadow-xl`,children:[(0,$.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-32 bg-gradient-to-b ${l.isBanned?`from-red-900/40`:l.isSuperAdmin?`from-orange-900/40`:l.isAdmin?`from-purple-900/40`:D?`from-fuchsia-900/30`:`from-blue-900/20`} to-transparent`}),(0,$.jsxs)(`div`,{className:`relative w-24 h-24 mx-auto mb-4 z-10`,children:[(0,$.jsx)(Pv,{profile:l,className:`w-full h-full rounded-full text-4xl ${D?`border-4 border-fuchsia-500 shadow-[0_0_20px_rgba(217,70,239,0.5)]`:``}`,iconSize:48}),D&&(0,$.jsx)(`div`,{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 bg-neutral-900 rounded-full p-1 border-2 border-fuchsia-500 z-20`,children:(0,$.jsx)(k,{size:16,className:`text-fuchsia-400 fill-fuchsia-400`})})]}),(0,$.jsxs)(`h2`,{className:`text-3xl font-black text-white mb-1 relative z-10 flex justify-center items-center gap-2`,children:[l.nickname,(0,$.jsxs)(`span`,{className:`bg-red-600/20 text-red-400 text-sm px-2 py-1 rounded-xl border border-red-500/50 flex items-center gap-1`,title:` `,children:[(0,$.jsx)(Ee,{size:16}),` `,l.farmLevel||1]}),D&&(0,$.jsx)(k,{size:18,className:`text-fuchsia-400 fill-fuchsia-400`,title:` `}),l.isBanned&&(0,$.jsx)(`span`,{className:`text-[10px] bg-red-900/50 text-red-400 px-2 py-1 rounded-full uppercase tracking-widest border border-red-800`,children:``})]}),(0,$.jsx)(`div`,{className:`text-neutral-500 text-sm flex justify-center gap-4 mt-2`,children:(0,$.jsxs)(`span`,{className:`flex items-center gap-1`,children:[(0,$.jsx)(ne,{size:14}),`   : `,Ev(l.createdAt)]})}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 sm:grid-cols-5 gap-4 relative z-10 mt-6 max-w-2xl mx-auto`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ie,{className:`text-yellow-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:l.coins}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:``})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(fe,{className:`text-blue-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:l.uniqueCardsCount||d.length}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:` `})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ge,{className:`text-purple-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:l.packsOpened||0}),(0,$.jsx)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:` `})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(ie,{className:`text-red-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:l.coinsSpentOnPacks||0}),(0,$.jsxs)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:[` `,(0,$.jsx)(ie,{size:8,className:`inline`})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 border border-neutral-800 rounded-2xl p-4 flex flex-col items-center`,children:[(0,$.jsx)(Ie,{className:`text-green-500 mb-2 w-6 h-6`}),(0,$.jsx)(`span`,{className:`text-xl font-black text-white`,children:l.coinsEarnedFromPacks||0}),(0,$.jsxs)(`span`,{className:`text-[10px] text-neutral-500 font-bold uppercase mt-1`,children:[` `,(0,$.jsx)(ie,{size:8,className:`inline`})]})]})]})]}),p&&te.length>0&&(0,$.jsxs)(`div`,{className:`mb-10`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 mb-4 justify-center`,children:[(0,$.jsx)(we,{className:`text-yellow-500 fill-yellow-500`,size:24}),(0,$.jsx)(`h3`,{className:`text-2xl font-black text-white uppercase tracking-widest`,children:p.name})]}),(0,$.jsx)(`div`,{className:`bg-neutral-900 border-2 border-yellow-500/30 rounded-3xl p-6 flex flex-wrap justify-center gap-4 shadow-[0_0_30px_rgba(234,179,8,0.1)]`,children:te.map((e,t)=>{let n=kv(e.rarity,o),r=e.effect?`effect-${e.effect}`:``;return(0,$.jsx)(`div`,{onClick:()=>s({card:e,amount:1}),className:`relative group cursor-pointer animate-in zoom-in-95 hover:-translate-y-2 transition-transform`,children:(0,$.jsxs)(`div`,{className:`w-28 sm:w-36 aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-950 shadow-lg ${n.border} ${r}`,children:[Number(e.maxSupply)>0&&(0,$.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/90 text-white text-[8px] sm:text-[10px] px-2 py-1 rounded-md border border-neutral-700 font-black z-10`,children:[e.maxSupply,` .`]}),(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`}),e.soundUrl&&(0,$.jsx)(`button`,{onClick:t=>{t.stopPropagation(),Dv(e.soundUrl,e.soundVolume)},className:`absolute bottom-1 right-1 bg-black/80 text-white p-1.5 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:12})})]})},t)})})]}),(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-center mb-6 gap-4`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-black text-white uppercase tracking-wider flex items-center gap-2`,children:[(0,$.jsx)(fe,{className:`text-blue-500`}),`  `]}),(0,$.jsxs)(`div`,{className:`flex flex-wrap items-center gap-3 w-full md:w-auto`,children:[(0,$.jsx)(`select`,{value:b,onChange:e=>{x(e.target.value),C(`all`)},className:`bg-neutral-900 border border-neutral-700 text-sm font-medium rounded-xl px-4 py-2 w-full sm:w-auto focus:outline-none text-white cursor-pointer hover:bg-neutral-800`,children:w.map(e=>(0,$.jsx)(`option`,{value:e,children:e===`all`?` `:e},e))}),(0,$.jsxs)(`select`,{value:S,onChange:e=>C(e.target.value),className:`bg-neutral-900 border border-neutral-700 text-sm font-medium rounded-xl px-4 py-2 w-full sm:w-auto focus:outline-none text-white cursor-pointer hover:bg-neutral-800 h-full`,children:[(0,$.jsx)(`option`,{value:`all`,children:` `}),T.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),(0,$.jsxs)(`select`,{value:v,onChange:e=>y(e.target.value),className:`bg-neutral-900 border border-purple-900/50 text-sm font-bold rounded-xl px-4 py-2 w-full sm:w-auto focus:outline-none text-purple-400 cursor-pointer hover:bg-neutral-800`,children:[(0,$.jsx)(`option`,{value:`rarity`,children:` `}),(0,$.jsx)(`option`,{value:`pack`,children:` `}),(0,$.jsx)(`option`,{value:`amount`,children:` `}),(0,$.jsx)(`option`,{value:`name`,children:` `})]})]})]}),E.length===0?(0,$.jsx)(`div`,{className:`text-center py-10 bg-neutral-900/50 rounded-2xl border border-neutral-800 text-neutral-500`,children:`    .`}):(0,$.jsx)(`div`,{className:`grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4`,children:E.map((t,n)=>{let r=kv(t.card.rarity,o),i=t.card.effect?`effect-${t.card.effect}`:``;return(0,$.jsxs)(`div`,{className:`flex flex-col items-center group cursor-pointer animate-in fade-in zoom-in-95`,style:{animationDelay:`${n*15}ms`,fillMode:`backwards`},onClick:()=>s({card:t.card,amount:t.amount}),children:[(0,$.jsxs)(`div`,{className:`relative w-full aspect-[2/3] rounded-xl border-2 overflow-hidden bg-neutral-900 mb-2 ${r.border} ${i}`,children:[Number(t.card.maxSupply)>0&&(0,$.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/90 text-white font-black text-[9px] px-1.5 py-0.5 rounded-sm z-10 border border-neutral-700 shadow-xl`,children:[e[t.card.id]||0,` / `,t.card.maxSupply]}),t.amount>1&&(0,$.jsxs)(`div`,{className:`absolute top-1 right-1 bg-neutral-950/90 text-white font-black text-[10px] px-2 py-0.5 rounded-full z-10 border border-neutral-700 shadow-xl`,children:[`x`,t.amount]}),(0,$.jsx)(`img`,{src:t.card.image,alt:t.card.name,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300`}),t.card.soundUrl&&(0,$.jsx)(`button`,{onClick:e=>{e.stopPropagation(),Dv(t.card.soundUrl,t.card.soundVolume)},className:`absolute bottom-1 right-1 bg-black/80 text-white p-1 rounded-full hover:text-blue-400 z-30 transition-colors shadow-lg`,title:` `,children:(0,$.jsx)(Pe,{size:12})})]}),(0,$.jsxs)(`div`,{className:`w-full text-center px-1`,children:[(0,$.jsx)(`div`,{className:`text-[8px] font-black uppercase tracking-widest mb-0.5 ${r.text}`,children:t.card.rarity}),(0,$.jsx)(`div`,{className:`font-bold text-[10px] sm:text-xs leading-tight text-white truncate w-full`,children:t.card.name})]})]},t.card.id)})})]})}function Jv({db:e,appId:t,currentProfile:n,cardsCatalog:r,packsCatalog:i,rarities:a,showToast:o,addSystemLog:s,dailyRewards:c,premiumDailyRewards:l,premiumPrice:u,premiumDurationDays:d,premiumShopItems:f,setViewingPlayerProfile:p,setCurrentView:m,bosses:h,setBosses:g}){let[v,y]=(0,_.useState)(`users`),[b,x]=(0,_.useState)([]),[S,C]=(0,_.useState)(!1),[w,T]=(0,_.useState)(``),[D,ae]=(0,_.useState)(null),[le,ue]=(0,_.useState)([]),[pe,me]=(0,_.useState)(!1),[he,ge]=(0,_.useState)(``),[xe,Se]=(0,_.useState)(null),[Ce,we]=(0,_.useState)(``),[Te,De]=(0,_.useState)(``),[ke,je]=(0,_.useState)(`h`),[Pe,Fe]=(0,_.useState)(null),[Le,Re]=(0,_.useState)(30),[ze,Be]=(0,_.useState)(``),[Ve,He]=(0,_.useState)(``),[Ue,We]=(0,_.useState)(1),[Ge,Ke]=(0,_.useState)(100),[qe,Je]=(0,_.useState)(0),[Ye,Xe]=(0,_.useState)(null),[j,Ze]=(0,_.useState)({id:``,packId:i[0]?.id||``,name:``,rarity:a[0]?.name||``,image:``,dropAnim:``,maxSupply:``,weight:``,sellPrice:``,effect:``,soundUrl:``,soundVolume:.5}),[Qe,$e]=(0,_.useState)(null),[et,tt]=(0,_.useState)({id:``,name:``,category:``,cost:50,image:``,customWeights:{},isHidden:!1,isPremiumOnly:!1}),[nt,M]=(0,_.useState)([]),[rt,it]=(0,_.useState)({code:``,reward:100,maxGlobalUses:0,maxUserUses:1}),[at,ot]=(0,_.useState)(``),[st,ct]=(0,_.useState)(``),[lt,ut]=(0,_.useState)(`all`),[dt,ft]=(0,_.useState)([]),[pt,mt]=(0,_.useState)(c||[1e3,2e3,3e3,4e3,5e3,6e3,7e3]),[ht,gt]=(0,_.useState)(l||[2e3,4e3,6e3,8e3,1e4,12e3,15e3]),[_t,vt]=(0,_.useState)(u===void 0?1e4:u),[yt,bt]=(0,_.useState)(d===void 0?30:d),[xt,St]=(0,_.useState)({type:`card`,itemId:``,price:500,description:``});(0,_.useEffect)(()=>{mt(c||[1e3,2e3,3e3,4e3,5e3,6e3,7e3]),gt(l||[2e3,4e3,6e3,8e3,1e4,12e3,15e3]),vt(u===void 0?1e4:u),bt(d===void 0?30:d)},[c,l,u,d]),(0,_.useEffect)(()=>{if(v===`users`){let n=pv(Zg(e,`artifacts`,t,`public`,`data`,`profiles`),e=>{let t=[];e.forEach(e=>t.push(e.data())),x(t)});return()=>n()}if(v===`promos`&&n.isAdmin){let n=pv(Zg(e,`artifacts`,t,`public`,`data`,`promoCodes`),e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),M(t)});return()=>n()}if(v===`logs`&&n.isAdmin){let n=pv(Zg(e,`artifacts`,t,`public`,`data`,`adminLogs`),e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),ft(t)});return()=>n()}},[v,e,t,n]);let Ct=async()=>{if(confirm(`    . ?`)){C(!0),o(` ...`,`success`);try{let n=await lv(Zg(e,`artifacts`,t,`public`,`data`,`profiles`)),r=gv(e),i=0;for(let a of n.docs){let n=a.id,o=await lv(Zg(e,`artifacts`,t,`users`,n,`inventory`)),s=0;o.forEach(e=>{s+=e.data().amount||0});let c=o.size;r.update(a.ref,{uniqueCardsCount:c,totalCards:s}),i++,i>=450&&(await r.commit(),i=0)}i>0&&await r.commit(),o(`  !`,`success`),s(``,`   .`)}catch(e){console.error(e),o(`    .`,`error`)}C(!1)}},wt=async r=>{if(r.isSuperAdmin)return o(`    !`,`error`);if(r.isAdmin&&!n.isSuperAdmin)return o(`      !`,`error`);if(confirm(` ,  ,      ${r.nickname}?`))try{await fv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,r.uid)),o(` ${r.nickname} .`,`success`),s(``,`  : ${r.nickname} (${r.uid})`)}catch(e){console.error(e),o(`    `)}},Tt=async n=>{me(!0);let r=b.find(e=>e.uid===n);ae(r),r&&(Je(r.coins||0),Be(r.nickname||``),T(r.farmLevel||1));try{let r=await lv(Zg(e,`artifacts`,t,`users`,n,`inventory`)),i=[];r.forEach(e=>i.push({id:e.id,...e.data()})),ue(i)}catch(e){console.error(e),o(`   .`)}me(!1)},Et=async n=>{if(n.preventDefault(),!xe)return;let r=null;if(ke!==`perm`){let e=parseInt(Te,10);if(isNaN(e)||e<=0)return o(`   !`,`error`);let t=1;ke===`m`&&(t=60*1e3),ke===`h`&&(t=3600*1e3),ke===`d`&&(t=1440*60*1e3),r=new Date(Date.now()+e*t).toISOString()}try{await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,xe.uid),{isBanned:!0,banReason:Ce||` `,banUntil:r}),o(` ${xe.nickname} .`,`success`),s(``,`:  ${xe.nickname}. : ${Ce}. : ${r||``}`),Se(null),we(``),De(``)}catch(e){console.error(e),o(`   .`,`error`)}},Dt=async n=>{try{await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,n),{isBanned:!1,banReason:null,banUntil:null}),o(`  .`,`success`),s(``,`:  ${b.find(e=>e.uid===n)?.nickname||n}`)}catch(e){console.error(e),o(`   .`,`error`)}},Ot=async r=>{if(n.isSuperAdmin)try{let n=!r.isAdmin;await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,r.uid),{isAdmin:n}),o(`  ${n?``:``}.`,`success`),s(``,` : ${r.nickname}  ${n?``:``}`)}catch(e){console.error(e),o(`  .`,`error`)}},kt=async()=>{if(!(!ze.trim()||ze.trim()===D.nickname))try{let n=await lv(Zg(e,`artifacts`,t,`public`,`data`,`profiles`)),r=!1;if(n.forEach(e=>{e.data().nickname?.toLowerCase()===ze.trim().toLowerCase()&&e.id!==D.uid&&(r=!0)}),r)return o(`     !`,`error`);await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid),{nickname:ze.trim()}),o(`  !`,`success`),s(``,`    ${D.nickname}  ${ze.trim()}`),ae(e=>({...e,nickname:ze.trim()}))}catch(e){console.error(e),o(`  .`,`error`)}},At=async r=>{try{await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,n.uid),{coins:X(r)}),o(`  ${r} !`,`success`),s(``,`  ${r} .`)}catch(e){console.error(e),o(`  .`,`error`)}},jt=async()=>{if(!(!Ve||Ue<1))try{let n=gv(e),i=Y(e,`artifacts`,t,`users`,D.uid,`inventory`,Ve);n.set(i,{amount:X(Ue)},{merge:!0});let a=Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid);n.update(a,{totalCards:X(Ue)}),await n.commit();let c=r.find(e=>e.id===Ve);o(`  ${Ue} .`,`success`),s(``,` ${Ue} .  '${c?.name}'  ${D.nickname}`),We(1),Tt(D.uid)}catch(e){console.error(e),o(`  .`,`error`)}},Mt=async()=>{if(!(!Ge||Ge===0))try{await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid),{coins:X(Ge)});let n=Ge>0?``:``;o(` ${n} ${Math.abs(Ge)} .`,`success`),s(``,`${n} ${Math.abs(Ge)}   ${D.nickname}`),ae(e=>({...e,coins:e.coins+Ge})),Je(e=>e+Ge),Ke(100)}catch(e){console.error(e),o(`  .`,`error`)}},Nt=async()=>{if(!(qe===``||isNaN(qe)||qe<0))try{let n=parseInt(qe,10);await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid),{coins:n}),o(`    ${n} .`,`success`),s(``,`   ${n}   ${D.nickname}`),ae(e=>({...e,coins:n}))}catch(e){console.error(e),o(`  .`,`error`)}},Pt=async(n,r)=>{if(window.confirm(` ,         ${r}?`))try{await uv(Y(e,`artifacts`,t,`users`,n,`farmState`,`main`),{cooldownUntil:null},{merge:!0}),o(`  ${r}  !`,`success`),s&&s(``,`     ${r}`)}catch(e){console.error(e),o(`   .`,`error`)}},Ft=async()=>{let n=parseInt(w,10);if(!(isNaN(n)||n<1))try{await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid),{farmLevel:n}),await uv(Y(e,`artifacts`,t,`users`,D.uid,`farmState`,`main`),{bossId:null,currentHp:null,pendingCoins:0,cooldownUntil:null},{merge:!0}),o(`    ${n}`,`success`),s(``,`   ${n}  ${D.nickname}`),ae(e=>({...e,farmLevel:n}))}catch(e){console.error(e),o(`  .`,`error`)}},It=async(n,i)=>{if(confirm(` 1    ?`))try{let a=gv(e),c=Y(e,`artifacts`,t,`users`,D.uid,`inventory`,n);i<=1?a.delete(c):a.update(c,{amount:X(-1)});let l=Y(e,`artifacts`,t,`public`,`data`,`profiles`,D.uid);a.update(l,{totalCards:X(-1)}),await a.commit(),o(` .`,`success`),s(``,` 1 .  '${r.find(e=>e.id===n)?.name}'   ${D.nickname}`),Tt(D.uid)}catch(e){console.error(e),o(`   .`,`error`)}},[N,Lt]=(0,_.useState)({id:null,level:(h?.length||0)+1,cardId:r?.[0]?.id||``,maxHp:1e3,damagePerClick:10,rewardPerClick:2,killBonus:500,cooldownHours:4}),Rt=()=>Lt({id:null,level:(h?.length||0)+1,cardId:r?.[0]?.id||``,maxHp:1e3,damagePerClick:10,rewardPerClick:2,killBonus:500,cooldownHours:4}),P=async n=>{if(n.preventDefault(),!N.cardId)return o(` !`,`error`);let r={id:N.id||`boss_${Date.now()}`,level:Number(N.level),cardId:N.cardId,maxHp:Number(N.maxHp),damagePerClick:Number(N.damagePerClick),rewardPerClick:Number(N.rewardPerClick),killBonus:Number(N.killBonus),cooldownHours:Number(N.cooldownHours)},i;i=N.id?h.map(e=>e.id===N.id?r:e).sort((e,t)=>e.level-t.level):[...h||[],r].sort((e,t)=>e.level-t.level);try{C(!0),await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{bosses:i}),g(i),o(N.id?` !`:` ${r.level}  !`,`success`),Rt()}catch(e){console.error(e),o(`  `,`error`)}C(!1)},zt=async n=>{if(!confirm(` ,     ?`))return;let r=h.filter(e=>e.id!==n);try{C(!0),await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{bosses:r}),g(r),o(`  `,`success`)}catch(e){console.error(e),o(` `,`error`)}C(!1)},Bt=async(n,r)=>{if(n.preventDefault(),Pe)try{if(r===`revoke`)await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,Pe.uid),{isPremium:!1,premiumUntil:null}),o(`    ${Pe.nickname}`,`success`),s(``,`    ${Pe.nickname}`);else{let n=Number(Le);if(n<=0)return o(`     0`,`error`);let r=new Date;if(Pe.isPremium&&Pe.premiumUntil){let e=new Date(Pe.premiumUntil);!isNaN(e)&&e>r&&(r=e)}r.setDate(r.getDate()+n),await dv(Y(e,`artifacts`,t,`public`,`data`,`profiles`,Pe.uid),{isPremium:!0,premiumUntil:r.toISOString()}),o(` (${n} )   ${Pe.nickname}!`,`success`),s(``,`   ${n}   ${Pe.nickname}`)}Fe(null)}catch(e){console.error(e),o(`   .`,`error`)}},Vt=async n=>{n.preventDefault();let r=[...i];Qe?r=r.map(e=>e.id===Qe.id?{...et,id:Qe.id,cost:Number(et.cost),isHidden:!!et.isHidden,isPremiumOnly:!!et.isPremiumOnly,category:et.category||``}:e):r.push({...et,id:`p`+Date.now(),cost:Number(et.cost),isHidden:!!et.isHidden,isPremiumOnly:!!et.isPremiumOnly,category:et.category||``}),await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{packs:r}),s(``,`${Qe?``:``} : ${et.name}`),$e(null),tt({id:``,name:``,category:``,cost:50,image:``,customWeights:{},isHidden:!1,isPremiumOnly:!1}),o(` !`,`success`)},Ht=async n=>{if(!confirm(`  ?`))return;let r=i.find(e=>e.id===n),a=i.filter(e=>e.id!==n);await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{packs:a}),s(``,` : ${r?.name}`),o(` !`,`success`)},Ut=async n=>{n.preventDefault();let c=[...r],l={id:Ye?Ye.id:`c`+Date.now(),packId:j.packId,name:j.name,rarity:j.rarity,image:j.image,maxSupply:j.maxSupply?Number(j.maxSupply):0,weight:j.weight?Number(j.weight):``,sellPrice:j.sellPrice?Number(j.sellPrice):15,effect:j.effect||``,dropAnim:j.dropAnim||``,soundUrl:j.soundUrl||``,soundVolume:j.soundVolume===void 0?.5:Number(j.soundVolume),pulledCount:Ye&&Ye.pulledCount||0};Ye?c=c.map(e=>e.id===Ye.id?l:e):c.push(l),await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{cards:c}),s(``,`${Ye?``:``} : ${j.name}`),Xe(null),Ze({id:``,packId:i[0]?.id||``,name:``,rarity:a[0]?.name||``,image:``,dropAnim:``,maxSupply:``,weight:``,sellPrice:``,effect:``,soundUrl:``,soundVolume:.5}),o(` !`,`success`)},Wt=async n=>{if(!confirm(`  ?`))return;let i=r.find(e=>e.id===n),a=r.filter(e=>e.id!==n);await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{cards:a}),s(``,` : ${i?.name}`),o(` !`,`success`)},Gt=async n=>{n.preventDefault();let r=rt.code.trim().toUpperCase();if(r)try{await uv(Y(e,`artifacts`,t,`public`,`data`,`promoCodes`,r),{code:r,reward:Number(rt.reward),maxGlobalUses:Number(rt.maxGlobalUses),maxUserUses:Number(rt.maxUserUses),currentGlobalUses:0,version:Date.now()}),o(` !`,`success`),s(``,` : ${r} ( ${rt.reward})`),it({code:``,reward:100,maxGlobalUses:0,maxUserUses:1})}catch(e){console.error(e),o(`  `,`error`)}},Kt=async n=>{if(confirm(` ?`))try{await fv(Y(e,`artifacts`,t,`public`,`data`,`promoCodes`,n)),s(``,` : ${n}`),o(` .`,`success`)}catch(e){console.error(e),o(` .`,`error`)}},qt=async n=>{n.preventDefault();try{await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{dailyRewards:pt,premiumDailyRewards:ht,premiumPrice:Number(_t),premiumDurationDays:Number(yt)}),s(``,`   ( /   / ).`),o(` !`,`success`)}catch(e){console.error(e),o(`  .`,`error`)}},Jt=async n=>{n.preventDefault();try{let n={id:`si_`+Date.now(),type:xt.type,itemId:xt.itemId,price:Number(xt.price),description:xt.description},r=[...f,n];await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{premiumShopItems:r}),s(``,`    .`),o(` !`,`success`),St({type:`card`,itemId:``,price:500,description:``})}catch(e){console.error(e),o(`  .`,`error`)}},Yt=async n=>{if(confirm(`   ?`))try{let r=f.filter(e=>e.id!==n);await dv(Y(e,`artifacts`,t,`public`,`data`,`gameSettings`,`main`),{premiumShopItems:r}),o(` .`,`success`)}catch(e){console.error(e),o(` .`,`error`)}},Xt=async()=>{if(confirm(`   ?  !`))try{let n=gv(e);dt.forEach(r=>{let i=Y(e,`artifacts`,t,`public`,`data`,`adminLogs`,r.id);n.delete(i)}),await n.commit(),o(`  !`,`success`)}catch(e){console.error(e),o(`  .`,`error`)}},Zt=i.filter(e=>e.name.toLowerCase().includes(at.toLowerCase())),Qt=r.filter(e=>{let t=e.name.toLowerCase().includes(st.toLowerCase()),n=lt===`all`||e.packId===lt;return t&&n}).sort((e,t)=>(a.find(t=>t.name===e.rarity)?.weight||100)-(a.find(e=>e.name===t.rarity)?.weight||100)),$t=(e,t)=>{if(!t)return`0%`;let n=r.filter(e=>e.packId===t.id);if(n.length===0)return`0%`;let i=0,o=0;for(let r of n){let n=1,s=a.find(e=>e.name===r.rarity);r.weight!==void 0&&r.weight!==``?n=Number(r.weight):t.customWeights?.[r.rarity]!==void 0&&t.customWeights?.[r.rarity]!==``?n=Number(t.customWeights[r.rarity]):s&&(n=Number(s.weight)),i+=n,r.id===e.id&&(o=n)}if(i===0)return`0%`;let s=o/i*100;return s<.01?`<0.01%`:s.toFixed(2)+`%`},en=b.filter(e=>e.nickname?.toLowerCase().includes(he.toLowerCase()));return(0,$.jsxs)(`div`,{className:`max-w-4xl mx-auto pb-10 relative`,children:[xe&&(0,$.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in`,children:(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-red-900/50 p-6 rounded-3xl shadow-2xl max-w-sm w-full animate-in zoom-in-95`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-black text-red-500 mb-4 flex items-center gap-2`,children:[(0,$.jsx)(E,{}),`  `,xe.nickname]}),(0,$.jsxs)(`form`,{onSubmit:Et,className:`space-y-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:` :`}),(0,$.jsx)(`input`,{type:`text`,value:Ce,onChange:e=>we(e.target.value),placeholder:`: , ...`,required:!0,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-red-500 outline-none`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`:`}),(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[ke!==`perm`&&(0,$.jsx)(`input`,{type:`number`,min:`1`,value:Te,onChange:e=>De(e.target.value),placeholder:`...`,required:!0,className:`w-1/2 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-red-500 outline-none`}),(0,$.jsxs)(`select`,{value:ke,onChange:e=>{je(e.target.value),e.target.value===`perm`&&De(``)},className:`w-1/2 flex-1 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-red-500 outline-none`,children:[(0,$.jsx)(`option`,{value:`m`,children:``}),(0,$.jsx)(`option`,{value:`h`,children:``}),(0,$.jsx)(`option`,{value:`d`,children:``}),(0,$.jsx)(`option`,{value:`perm`,children:``})]})]})]}),(0,$.jsxs)(`div`,{className:`flex gap-3 pt-2`,children:[(0,$.jsx)(`button`,{type:`submit`,className:`flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition-colors`,children:``}),(0,$.jsx)(`button`,{type:`button`,onClick:()=>{Se(null),we(``),De(``)},className:`bg-neutral-800 text-white font-bold py-3 px-6 rounded-xl`,children:``})]})]})]})}),Pe&&(0,$.jsx)(`div`,{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in`,children:(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-fuchsia-900/50 p-6 rounded-3xl shadow-2xl max-w-sm w-full animate-in zoom-in-95`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-black text-fuchsia-400 mb-4 flex items-center gap-2`,children:[(0,$.jsx)(k,{}),` : `,Pe.nickname]}),(0,$.jsxs)(`div`,{className:`space-y-4`,children:[Pe.isPremium&&Pe.premiumUntil&&new Date(Pe.premiumUntil)>new Date&&(0,$.jsxs)(`div`,{className:`bg-fuchsia-900/20 border border-fuchsia-500/30 p-3 rounded-xl text-fuchsia-300 text-sm mb-4`,children:[`  : `,(0,$.jsx)(`br`,{}),(0,$.jsx)(`span`,{className:`font-bold`,children:Ev(Pe.premiumUntil)})]}),(0,$.jsxs)(`form`,{onSubmit:e=>Bt(e,`give`),children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`/ :`}),(0,$.jsx)(`input`,{type:`number`,min:`1`,value:Le,onChange:e=>Re(e.target.value),required:!0,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white focus:border-fuchsia-500 outline-none mb-4`}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-fuchsia-600 hover:bg-fuchsia-500 text-white font-bold py-3 rounded-xl transition-colors shadow-lg`,children:` / `})]}),Pe.isPremium&&(0,$.jsx)(`button`,{onClick:e=>Bt(e,`revoke`),className:`w-full bg-red-900/40 hover:bg-red-900 text-red-400 font-bold py-3 rounded-xl transition-colors border border-red-900/50 mt-2`,children:` `}),(0,$.jsx)(`button`,{onClick:()=>Fe(null),className:`w-full bg-neutral-800 text-white font-bold py-3 rounded-xl mt-2 hover:bg-neutral-700 transition-colors`,children:``})]})]})}),(0,$.jsxs)(`div`,{className:`flex gap-2 mb-6 bg-neutral-900 p-2 rounded-xl overflow-x-auto hide-scrollbar`,children:[(0,$.jsxs)(`button`,{onClick:()=>y(`users`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`users`?`bg-purple-600 text-white`:`text-neutral-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(Ne,{size:18}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`packs`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`packs`?`bg-purple-600 text-white`:`text-neutral-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(de,{size:18}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`cards`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`cards`?`bg-purple-600 text-white`:`text-neutral-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(fe,{size:18}),` `]}),n.isAdmin&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(`button`,{onClick:()=>y(`bosses`),className:`whitespace-nowrap flex items-center gap-2 px-4 py-2 sm:py-3 rounded-xl font-bold transition-all text-sm sm:text-base ${v===`bosses`?`bg-red-600/20 text-red-500 border border-red-500/50`:`bg-neutral-900 border border-neutral-800 text-neutral-400 hover:text-white`}`,children:[(0,$.jsx)(Ee,{size:18}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`promos`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`promos`?`bg-purple-600 text-white`:`text-neutral-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(Oe,{size:18}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`premiumShop`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`premiumShop`?`bg-fuchsia-600 text-white`:`text-fuchsia-400/70 hover:bg-neutral-800`}`,children:[(0,$.jsx)(k,{size:18}),`  `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`settings`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`settings`?`bg-purple-600 text-white`:`text-neutral-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(be,{size:18}),` `]}),(0,$.jsxs)(`button`,{onClick:()=>y(`logs`),className:`flex-1 min-w-[100px] py-3 rounded-lg font-bold flex justify-center items-center gap-2 ${v===`logs`?`bg-red-900/80 text-white border-red-500 border`:`text-red-400 hover:bg-neutral-800`}`,children:[(0,$.jsx)(ve,{size:18}),` `]})]})]}),v===`users`&&(0,$.jsxs)(`div`,{className:`bg-neutral-900 rounded-2xl border border-neutral-800 p-4 relative`,children:[!D&&(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 mb-6 flex flex-col sm:flex-row gap-3 items-end sm:items-center`,children:[(0,$.jsx)(`div`,{className:`flex-1 w-full text-left`,children:(0,$.jsxs)(`span`,{className:`text-white font-bold flex items-center gap-2`,children:[(0,$.jsx)(ie,{className:`text-yellow-500`}),`    :`]})}),(0,$.jsx)(`button`,{onClick:()=>At(1e3),className:`bg-yellow-600 hover:bg-yellow-500 w-full sm:w-auto px-6 py-2.5 rounded-xl text-yellow-950 font-bold transition-colors shadow-lg`,children:`+ 1000`}),(0,$.jsx)(`button`,{onClick:()=>At(5e3),className:`bg-yellow-600 hover:bg-yellow-500 w-full sm:w-auto px-6 py-2.5 rounded-xl text-yellow-950 font-bold transition-colors shadow-lg`,children:`+ 5000`}),(0,$.jsx)(`div`,{className:`w-full sm:w-px h-px sm:h-8 bg-neutral-800 mx-2`}),(0,$.jsxs)(`button`,{onClick:Ct,disabled:S,className:`bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-800 w-full sm:w-auto px-6 py-2.5 rounded-xl text-white font-bold transition-colors shadow-lg flex items-center justify-center gap-2`,children:[S?(0,$.jsx)(A,{size:18,className:`animate-spin`}):(0,$.jsx)(oe,{size:18}),` `]})]}),D?(0,$.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-right-4`,children:[(0,$.jsxs)(`button`,{onClick:()=>ae(null),className:`mb-4 text-neutral-400 hover:text-white flex items-center gap-2 font-bold`,children:[(0,$.jsx)(ee,{size:18}),`   `]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 mb-4 flex flex-col sm:flex-row gap-3 items-end sm:items-center`,children:[(0,$.jsxs)(`div`,{className:`flex-1 w-full`,children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:`  :`}),(0,$.jsx)(`input`,{type:`text`,value:ze,onChange:e=>Be(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-blue-500`})]}),(0,$.jsx)(`button`,{onClick:kt,disabled:!ze.trim()||ze===D.nickname,className:`bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-700 text-white font-bold px-4 py-2 rounded-lg w-full sm:w-auto transition-colors h-10`,children:``})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 mb-4 flex flex-col sm:flex-row gap-3 items-end sm:items-center`,children:[(0,$.jsxs)(`div`,{className:`flex-1 w-full`,children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:`  :`}),(0,$.jsxs)(`select`,{value:Ve,onChange:e=>He(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-purple-500`,children:[(0,$.jsx)(`option`,{value:``,disabled:!0,children:`  ( )...`}),Qt.map(e=>(0,$.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.rarity,`)`]},e.id))]})]}),(0,$.jsxs)(`div`,{className:`w-full sm:w-24`,children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:`:`}),(0,$.jsx)(`input`,{type:`number`,min:`1`,value:Ue,onChange:e=>We(Number(e.target.value)),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-purple-500`})]}),(0,$.jsx)(`button`,{onClick:jt,disabled:!Ve,className:`bg-green-600 hover:bg-green-500 disabled:bg-neutral-700 text-white font-bold px-4 py-2 rounded-lg w-full sm:w-auto transition-colors h-10`,children:``})]}),(0,$.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 mb-6`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 flex-1 flex flex-col gap-3 justify-end`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:`  :`}),(0,$.jsx)(`input`,{type:`number`,value:qe,onChange:e=>Je(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-500`})]}),(0,$.jsx)(`button`,{onClick:Nt,className:`bg-yellow-600 hover:bg-yellow-500 text-yellow-950 font-bold px-4 py-2 rounded-lg w-full transition-colors h-10`,children:``})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 flex-1 flex flex-col gap-3 justify-end`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:`  ():`}),(0,$.jsx)(`input`,{type:`number`,min:`1`,value:w,onChange:e=>T(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[(0,$.jsx)(`button`,{onClick:Ft,className:`bg-red-600 hover:bg-red-500 text-white font-bold px-4 py-2 rounded-lg flex-1 transition-colors h-10`,children:` `}),(0,$.jsx)(`button`,{onClick:()=>Pt(D.uid,D.nickname),className:`bg-yellow-600 hover:bg-yellow-500 text-yellow-950 font-bold px-4 py-2 rounded-lg transition-colors h-10`,title:`  `,children:(0,$.jsx)(Ie,{size:20,className:`mx-auto`})})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800 flex-1 flex flex-col gap-3 justify-end`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs text-neutral-400 font-bold mb-1 block`,children:` /   (  ):`}),(0,$.jsx)(`input`,{type:`number`,value:Ge,onChange:e=>Ke(Number(e.target.value)),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white outline-none focus:border-yellow-500`})]}),(0,$.jsx)(`button`,{onClick:Mt,className:`bg-yellow-600 hover:bg-yellow-500 text-yellow-950 font-bold px-4 py-2 rounded-lg w-full transition-colors h-10`,children:`/`})]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold text-white flex items-center gap-2`,children:[`: `,(0,$.jsx)(`span`,{className:`text-yellow-500`,children:D.nickname}),` (`,D.coins,` `,(0,$.jsx)(ie,{size:16}),`)`]}),(0,$.jsxs)(`div`,{className:`text-[11px] text-neutral-500 font-mono mb-4 mt-1 bg-neutral-900 inline-block px-2 py-1 rounded border border-neutral-800`,children:[` IP: `,(0,$.jsx)(`span`,{className:`text-red-400`,children:D.lastIp||`  `})]})]}),pe?(0,$.jsx)(`div`,{className:`py-10 text-center text-neutral-500`,children:(0,$.jsx)(A,{className:`animate-spin mx-auto w-8 h-8`})}):(0,$.jsxs)(`div`,{className:`grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3 mt-6`,children:[le.map(e=>{let t=r.find(t=>t.id===e.id);if(!t)return null;let n=kv(t.rarity,a),i=t.effect?`effect-${t.effect}`:``;return(0,$.jsxs)(`div`,{className:`bg-neutral-950 rounded-xl border-2 ${n.border} overflow-hidden flex flex-col items-center p-1 relative group ${i}`,children:[(0,$.jsx)(`img`,{src:t.image,alt:t.name,className:`w-full aspect-[2/3] object-cover rounded-lg mb-2 group-hover:opacity-40 transition-opacity`}),(0,$.jsx)(`div`,{className:`text-[10px] font-bold text-white truncate w-full text-center`,children:t.name}),(0,$.jsxs)(`div`,{className:`text-xs font-black text-yellow-500 mb-1 z-10`,children:[`x`,e.amount]}),(0,$.jsx)(`div`,{className:`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center z-20`,children:(0,$.jsx)(`button`,{onClick:()=>It(e.id,e.amount),className:`bg-red-600 hover:bg-red-500 text-white p-2 rounded-full font-bold shadow-[0_0_15px_rgba(220,38,38,0.8)] transform hover:scale-110 transition-transform`,title:` 1 .`,children:(0,$.jsx)(Ae,{size:18})})})]},e.id)}),le.length===0&&(0,$.jsx)(`p`,{className:`col-span-full text-neutral-500`,children:` .`})]})]}):(0,$.jsxs)(`div`,{className:`space-y-4`,children:[(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(ye,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`text`,placeholder:`   ...`,value:he,onChange:e=>ge(e.target.value),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl pl-10 pr-4 py-3 text-white focus:border-purple-500 outline-none`})]}),(0,$.jsxs)(`div`,{className:`space-y-2`,children:[en.map((e,t)=>{let r=e.uid!==n.uid&&!e.isSuperAdmin&&(!e.isAdmin||n.isSuperAdmin),i=n.isSuperAdmin&&e.uid!==n.uid&&!e.isSuperAdmin,a=e.isPremium&&e.premiumUntil&&new Date(e.premiumUntil)>new Date;return(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center py-3 px-4 border border-neutral-800 bg-neutral-950 rounded-xl gap-4`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-3 min-w-0`,children:[(0,$.jsx)(Pv,{profile:e,className:`w-10 h-10 rounded-full shrink-0`,iconSize:18}),(0,$.jsxs)(`div`,{className:`min-w-0`,children:[(0,$.jsxs)(`div`,{className:`font-bold text-blue-400 hover:text-blue-300 hover:underline flex items-center gap-2 truncate cursor-pointer transition-colors`,onClick:()=>{p(e.uid),m(`publicProfile`)},children:[e.nickname,a&&(0,$.jsx)(k,{size:14,className:`text-fuchsia-400 fill-fuchsia-400 shrink-0`,title:``}),e.isBanned&&(0,$.jsx)(`span`,{className:`text-[10px] bg-red-900/50 text-red-400 px-2 py-0.5 rounded border border-red-800 uppercase font-black tracking-widest shrink-0`,children:``})]}),(0,$.jsx)(`div`,{className:`text-xs text-neutral-500 truncate`,children:e.email||` (Google)`})]})]}),(0,$.jsxs)(`div`,{className:`flex flex-wrap items-center gap-2 shrink-0`,children:[(0,$.jsxs)(`div`,{className:`hidden sm:block text-right mr-2`,children:[(0,$.jsx)(`div`,{className:`text-[10px] text-neutral-500 uppercase font-bold`,children:` / `}),(0,$.jsxs)(`div`,{className:`text-sm font-bold text-yellow-500`,children:[e.coins,` `,(0,$.jsx)(ie,{size:12,className:`inline text-yellow-600`}),` / `,(0,$.jsx)(`span`,{className:`text-blue-400`,children:e.uniqueCardsCount||0})]})]}),n.isSuperAdmin&&(0,$.jsx)(`button`,{onClick:()=>{Fe(e),Re(d)},className:`p-2 rounded-lg transition-colors ${a?`bg-fuchsia-600 text-white`:`bg-fuchsia-900/40 text-fuchsia-400 hover:bg-fuchsia-900`}`,title:` `,children:(0,$.jsx)(k,{size:18})}),i&&(0,$.jsx)(`button`,{onClick:()=>Ot(e),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-colors border ${e.isAdmin?`bg-neutral-800 text-neutral-400 border-neutral-700 hover:bg-neutral-700`:`bg-purple-900/40 text-purple-400 border-purple-800 hover:bg-purple-900/60`}`,children:e.isAdmin?`- `:`+ `}),(0,$.jsx)(`button`,{onClick:()=>Pt(e.uid,e.nickname),className:`p-2 bg-yellow-900/40 text-yellow-400 hover:bg-yellow-900 rounded-lg transition-colors`,title:`  `,children:(0,$.jsx)(Ie,{size:18})}),(0,$.jsx)(`button`,{onClick:()=>Tt(e.uid),className:`p-2 bg-blue-900/40 text-blue-400 hover:bg-blue-900 rounded-lg transition-colors`,title:`  ()`,children:(0,$.jsx)(se,{size:18})}),r&&(0,$.jsxs)($.Fragment,{children:[e.isBanned?(0,$.jsx)(`button`,{onClick:()=>Dt(e.uid),className:`p-2 bg-green-900/40 text-green-400 hover:bg-green-900 rounded-lg transition-colors`,title:``,children:(0,$.jsx)(re,{size:18})}):(0,$.jsx)(`button`,{onClick:()=>Se(e),className:`p-2 bg-orange-900/40 text-orange-400 hover:bg-orange-900 rounded-lg transition-colors`,title:` ()`,children:(0,$.jsx)(E,{size:18})}),(0,$.jsx)(`button`,{onClick:()=>wt(e),className:`p-2 bg-red-900/40 text-red-500 hover:bg-red-900 rounded-lg transition-colors ml-1`,title:`  `,children:(0,$.jsx)(Ae,{size:18})})]})]})]},t)}),en.length===0&&(0,$.jsx)(`div`,{className:`text-center py-8 text-neutral-500`,children:`    .`})]})]})]}),v===`settings`&&n.isAdmin&&(0,$.jsx)(`div`,{className:`space-y-6 animate-in fade-in`,children:(0,$.jsxs)(`form`,{onSubmit:qt,className:`bg-neutral-900 border border-purple-900/50 p-6 rounded-2xl`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold mb-4 text-white flex items-center gap-2`,children:[(0,$.jsx)(be,{className:`text-blue-500`}),`  `]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6`,children:[(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800`,children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-2 block`,children:` - ():`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(ie,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-yellow-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`number`,min:`0`,value:_t,onChange:e=>vt(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white focus:border-purple-500 outline-none font-bold`})]})]}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-4 rounded-xl border border-neutral-800`,children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-2 block`,children:` - ():`}),(0,$.jsxs)(`div`,{className:`relative`,children:[(0,$.jsx)(ne,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-blue-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`number`,min:`1`,value:yt,onChange:e=>bt(e.target.value),className:`w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white focus:border-blue-500 outline-none font-bold`})]})]})]}),(0,$.jsxs)(`div`,{className:`mb-6`,children:[(0,$.jsxs)(`h4`,{className:`text-sm font-bold text-orange-400 mb-2 flex items-center gap-2`,children:[(0,$.jsx)(ce,{size:16}),`   ()`]}),(0,$.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3`,children:pt.map((e,t)=>(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-2 rounded-xl border border-neutral-800`,children:[(0,$.jsxs)(`label`,{className:`text-[10px] font-bold text-neutral-500 uppercase block mb-1`,children:[` `,t+1]}),(0,$.jsx)(`input`,{type:`number`,min:`0`,value:e,onChange:e=>{let n=[...pt];n[t]=Number(e.target.value),mt(n)},className:`w-full bg-transparent text-white font-bold outline-none text-sm`})]},`norm-${t}`))})]}),(0,$.jsxs)(`div`,{className:`mb-6`,children:[(0,$.jsxs)(`h4`,{className:`text-sm font-bold text-fuchsia-400 mb-2 flex items-center gap-2`,children:[(0,$.jsx)(k,{size:16}),`   ()`]}),(0,$.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3`,children:ht.map((e,t)=>(0,$.jsxs)(`div`,{className:`bg-neutral-950 p-2 rounded-xl border border-fuchsia-900/50`,children:[(0,$.jsxs)(`label`,{className:`text-[10px] font-bold text-fuchsia-500 uppercase block mb-1`,children:[` `,t+1]}),(0,$.jsx)(`input`,{type:`number`,min:`0`,value:e,onChange:e=>{let n=[...ht];n[t]=Number(e.target.value),gt(n)},className:`w-full bg-transparent text-white font-bold outline-none text-sm`})]},`prem-${t}`))})]}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg transition-colors`,children:` `})]})}),v===`bosses`&&n.isAdmin&&(0,$.jsxs)(`div`,{className:`space-y-6 animate-in fade-in`,children:[(0,$.jsxs)(`h2`,{className:`text-2xl font-black text-white uppercase tracking-widest flex items-center gap-2 mb-6`,children:[(0,$.jsx)(Ee,{className:`text-red-500`}),`  `]}),(0,$.jsxs)(`form`,{onSubmit:P,className:`bg-neutral-900 border border-red-900/50 p-6 rounded-2xl grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:` `}),(0,$.jsx)(`input`,{type:`number`,required:!0,value:N.level,onChange:e=>Lt({...N,level:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:` (: -)`}),(0,$.jsx)(`select`,{required:!0,value:N.cardId,onChange:e=>Lt({...N,cardId:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`,children:r.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:`' (Max HP)`}),(0,$.jsx)(`input`,{type:`number`,required:!0,value:N.maxHp,onChange:e=>Lt({...N,maxHp:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:`  1  `}),(0,$.jsx)(`input`,{type:`number`,required:!0,value:N.damagePerClick,onChange:e=>Lt({...N,damagePerClick:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`,title:`     (, 10)`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:`  1 `}),(0,$.jsx)(`input`,{type:`number`,required:!0,value:N.rewardPerClick,onChange:e=>Lt({...N,rewardPerClick:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:`  `}),(0,$.jsx)(`input`,{type:`number`,required:!0,value:N.killBonus,onChange:e=>Lt({...N,killBonus:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`block text-xs text-neutral-500 uppercase font-bold mb-1`,children:` ()`}),(0,$.jsx)(`input`,{type:`number`,required:!0,step:`0.5`,value:N.cooldownHours,onChange:e=>Lt({...N,cooldownHours:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-800 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-red-500`})]}),(0,$.jsxs)(`div`,{className:`sm:col-span-2 md:col-span-3 flex items-end gap-2`,children:[(0,$.jsxs)(`button`,{type:`submit`,disabled:S,className:`flex-1 bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-6 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2`,children:[S?(0,$.jsx)(A,{size:20,className:`animate-spin`}):(0,$.jsx)(Ee,{size:20}),N.id?` `:` `]}),N.id&&(0,$.jsx)(`button`,{type:`button`,onClick:Rt,className:`bg-neutral-800 hover:bg-neutral-700 text-white font-bold py-3 px-6 rounded-xl transition-colors`,children:``})]})]}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 mt-8`,children:[...h||[]].sort((e,t)=>e.level-t.level).map(e=>{let t=r.find(t=>t.id===e.cardId);return(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-2xl p-4 flex gap-4 relative overflow-hidden group`,children:[(0,$.jsxs)(`div`,{className:`w-20 aspect-[2/3] rounded-lg border border-neutral-700 overflow-hidden flex-shrink-0 relative`,children:[t&&(0,$.jsx)(`img`,{src:t.image,alt:`boss`,className:`w-full h-full object-cover`}),(0,$.jsxs)(`div`,{className:`absolute top-0 left-0 w-full bg-black/80 text-center text-[10px] font-black text-red-500 py-0.5`,children:[`LVL `,e.level]})]}),(0,$.jsxs)(`div`,{className:`flex-1`,children:[(0,$.jsx)(`h4`,{className:`text-white font-black text-lg`,children:t?.name||``}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 gap-x-2 gap-y-1 mt-2 text-xs text-neutral-400`,children:[(0,$.jsxs)(`div`,{children:[`HP: `,(0,$.jsx)(`span`,{className:`text-white`,children:e.maxHp})]}),(0,$.jsxs)(`div`,{children:[`: `,(0,$.jsxs)(`span`,{className:`text-red-400`,children:[`-`,e.damagePerClick]})]}),(0,$.jsxs)(`div`,{children:[` : `,(0,$.jsxs)(`span`,{className:`text-yellow-500`,children:[`+`,e.rewardPerClick,` `]})]}),(0,$.jsxs)(`div`,{children:[`: `,(0,$.jsxs)(`span`,{className:`text-yellow-500`,children:[`+`,e.killBonus,` `]})]}),(0,$.jsxs)(`div`,{className:`col-span-2`,children:[`: `,(0,$.jsxs)(`span`,{className:`text-blue-400`,children:[e.cooldownHours,` .`]})]})]})]}),(0,$.jsx)(`button`,{onClick:()=>{Lt(e),window.scrollTo({top:0,behavior:`smooth`})},className:`absolute top-3 right-10 text-neutral-500 hover:text-blue-500 transition-colors opacity-0 group-hover:opacity-100`,children:(0,$.jsx)(_e,{size:18})}),(0,$.jsx)(`button`,{onClick:()=>zt(e.id),className:`absolute top-3 right-3 text-neutral-500 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100`,children:(0,$.jsx)(Ae,{size:18})})]},e.id)})})]}),v===`premiumShop`&&n.isAdmin&&(0,$.jsxs)(`div`,{className:`space-y-6 animate-in fade-in`,children:[(0,$.jsxs)(`form`,{onSubmit:Jt,className:`bg-neutral-900 border border-fuchsia-900/50 p-6 rounded-2xl`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold mb-4 text-fuchsia-400 flex items-center gap-2`,children:[(0,$.jsx)(k,{}),`    . `]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`  ():`}),(0,$.jsxs)(`select`,{value:xt.itemId,onChange:e=>St({...xt,itemId:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white outline-none focus:border-fuchsia-500`,required:!0,children:[(0,$.jsx)(`option`,{value:``,disabled:!0,children:`...`}),Qt.map(e=>(0,$.jsxs)(`option`,{value:e.id,children:[e.name,` (`,e.rarity,`)`]},e.id))]})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:` ():`}),(0,$.jsx)(`input`,{type:`number`,value:xt.price,onChange:e=>St({...xt,price:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white outline-none focus:border-fuchsia-500`,min:`1`,required:!0})]}),(0,$.jsxs)(`div`,{className:`sm:col-span-2`,children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`  :`}),(0,$.jsx)(`input`,{type:`text`,placeholder:`:      -!`,value:xt.description,onChange:e=>St({...xt,description:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white outline-none focus:border-fuchsia-500`,required:!0})]})]}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-fuchsia-600 hover:bg-fuchsia-500 text-white font-bold py-3 rounded-xl shadow-lg transition-colors`,children:` `})]}),(0,$.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.map(e=>{let t=r.find(t=>t.id===e.itemId);return(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-xl p-4 flex gap-4 relative`,children:[(0,$.jsx)(`button`,{onClick:()=>Yt(e.id),className:`absolute top-2 right-2 text-red-500 hover:bg-red-900/30 p-1.5 rounded-lg transition-colors`,children:(0,$.jsx)(Ae,{size:16})}),(0,$.jsx)(`div`,{className:`w-16 h-24 bg-neutral-950 border border-neutral-700 rounded-md shrink-0 overflow-hidden`,children:(0,$.jsx)(`img`,{src:t?.image,className:`w-full h-full object-cover`,alt:``})}),(0,$.jsxs)(`div`,{className:`flex-1 min-w-0 pr-6`,children:[(0,$.jsx)(`div`,{className:`text-[10px] text-fuchsia-400 font-bold uppercase tracking-widest mb-1`,children:``}),(0,$.jsx)(`div`,{className:`font-bold text-white text-sm truncate`,children:t?.name||``}),(0,$.jsxs)(`div`,{className:`text-xs text-yellow-500 font-bold mt-1 mb-2`,children:[e.price,` `,(0,$.jsx)(ie,{size:10,className:`inline`})]}),(0,$.jsx)(`div`,{className:`text-[10px] text-neutral-500 line-clamp-2 leading-tight`,children:e.description})]})]},e.id)})})]}),v===`promos`&&n.isAdmin&&(0,$.jsxs)(`div`,{className:`space-y-6 animate-in fade-in`,children:[(0,$.jsxs)(`form`,{onSubmit:Gt,className:`bg-neutral-900 border border-purple-900/50 p-6 rounded-2xl`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold mb-4 text-purple-400 flex items-center gap-2`,children:[(0,$.jsx)(Oe,{}),`  `]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:` ():`}),(0,$.jsx)(`input`,{type:`text`,placeholder:`: NEW_YEAR`,value:rt.code,onChange:e=>it({...rt,code:e.target.value.toUpperCase()}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white uppercase`,required:!0})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:` ():`}),(0,$.jsx)(`input`,{type:`number`,value:rt.reward,onChange:e=>it({...rt,reward:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,min:`1`,required:!0})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`   (0 = ):`}),(0,$.jsx)(`input`,{type:`number`,value:rt.maxGlobalUses,onChange:e=>it({...rt,maxGlobalUses:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,min:`0`,required:!0})]}),(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`label`,{className:`text-xs font-bold text-neutral-400 uppercase mb-1 block`,children:`  1  (0 = ):`}),(0,$.jsx)(`input`,{type:`number`,value:rt.maxUserUses,onChange:e=>it({...rt,maxUserUses:e.target.value}),className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,min:`0`,required:!0})]})]}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-purple-600 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-purple-500 transition-colors`,children:` `})]}),(0,$.jsxs)(`div`,{className:`space-y-3`,children:[nt.map(e=>(0,$.jsxs)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-4`,children:[(0,$.jsxs)(`div`,{children:[(0,$.jsx)(`div`,{className:`text-lg font-black text-white font-mono tracking-widest`,children:e.code}),(0,$.jsxs)(`div`,{className:`text-sm text-yellow-500 font-bold`,children:[`: `,e.reward,` `,(0,$.jsx)(ie,{size:14,className:`inline`})]})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,$.jsxs)(`div`,{className:`text-right text-xs text-neutral-400`,children:[(0,$.jsxs)(`div`,{children:[`: `,(0,$.jsxs)(`span`,{className:`text-white`,children:[e.currentGlobalUses,` / `,e.maxGlobalUses===0?``:e.maxGlobalUses]})]}),(0,$.jsxs)(`div`,{children:[` 1 : `,(0,$.jsx)(`span`,{className:`text-white`,children:e.maxUserUses===0?``:e.maxUserUses})]})]}),(0,$.jsx)(`button`,{onClick:()=>Kt(e.code),className:`p-3 bg-red-900/40 text-red-400 hover:bg-red-900 rounded-lg transition-colors`,children:(0,$.jsx)(Ae,{size:20})})]})]},e.id)),nt.length===0&&(0,$.jsx)(`p`,{className:`text-center text-neutral-500 py-6`,children:`  .`})]})]}),v===`logs`&&n.isAdmin&&(0,$.jsxs)(`div`,{className:`space-y-4 animate-in fade-in`,children:[(0,$.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,$.jsxs)(`h3`,{className:`text-xl font-bold text-red-400 flex items-center gap-2`,children:[(0,$.jsx)(ve,{}),`  `]}),dt.length>0&&(0,$.jsxs)(`button`,{onClick:Xt,className:`bg-red-900 hover:bg-red-800 text-white px-4 py-2 rounded-lg font-bold text-sm transition-colors flex items-center gap-2`,children:[(0,$.jsx)(Ae,{size:16}),`  `]})]}),dt.length===0?(0,$.jsxs)(`div`,{className:`text-center py-10 bg-neutral-900 rounded-2xl border border-neutral-800`,children:[(0,$.jsx)(te,{size:40,className:`mx-auto mb-3 text-neutral-700`}),(0,$.jsx)(`p`,{className:`text-neutral-500`,children:`  .`})]}):(0,$.jsx)(`div`,{className:`bg-neutral-900 border border-neutral-800 rounded-2xl overflow-hidden`,children:dt.map(e=>(0,$.jsxs)(`div`,{className:`p-4 border-b border-neutral-800 last:border-0 hover:bg-neutral-950 transition-colors flex flex-col sm:flex-row gap-2 sm:gap-6 sm:items-center`,children:[(0,$.jsxs)(`div`,{className:`w-32 shrink-0`,children:[(0,$.jsx)(`div`,{className:`text-xs text-neutral-500`,children:Ev(e.timestamp)}),(0,$.jsx)(`div`,{className:`text-xs font-bold uppercase tracking-wider mt-0.5 ${e.type===``?`text-red-500`:`text-purple-400`}`,children:e.type})]}),(0,$.jsxs)(`div`,{className:`flex-1`,children:[(0,$.jsx)(`div`,{className:`text-white text-sm break-words`,children:e.details}),(0,$.jsxs)(`div`,{className:`text-[10px] text-neutral-500 mt-1 flex items-center gap-1`,children:[(0,$.jsx)(Me,{size:10}),` `,e.userNickname,` `,(0,$.jsxs)(`span`,{className:`text-neutral-700`,children:[`(`,e.userUid,`)`]})]})]})]},e.id))})]}),v===`packs`&&(0,$.jsxs)(`div`,{className:`space-y-6 animate-in fade-in`,children:[(0,$.jsxs)(`form`,{onSubmit:Vt,className:`bg-neutral-900 border border-purple-900/50 p-6 rounded-2xl`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-4 text-purple-400`,children:Qe?` `:` `}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:` `,value:et.name,onChange:e=>tt({...et,name:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,required:!0}),(0,$.jsx)(`input`,{type:`text`,placeholder:` (. )`,value:et.category,onChange:e=>tt({...et,category:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,required:!0}),(0,$.jsx)(`input`,{type:`number`,placeholder:``,value:et.cost,onChange:e=>tt({...et,cost:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,min:`0`,required:!0}),(0,$.jsx)(`input`,{type:`text`,placeholder:`URL `,value:et.image,onChange:e=>tt({...et,image:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,required:!0}),(0,$.jsxs)(`div`,{className:`sm:col-span-2 mt-2 p-4 border border-neutral-800 rounded-xl bg-neutral-950/50`,children:[(0,$.jsx)(`h4`,{className:`text-neutral-400 text-sm font-bold mb-3`,children:`   ( ,   ):`}),(0,$.jsx)(`div`,{className:`grid grid-cols-2 sm:grid-cols-3 gap-3`,children:a.map(e=>(0,$.jsxs)(`div`,{className:`flex flex-col`,children:[(0,$.jsxs)(`label`,{className:`text-xs font-bold mb-1`,children:[e.name,` (: `,e.weight,`)`]}),(0,$.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:``,value:et.customWeights?.[e.name]||``,onChange:t=>tt({...et,customWeights:{...et.customWeights||{},[e.name]:t.target.value}}),className:`bg-neutral-900 border border-neutral-700 rounded-lg px-3 py-2 text-white text-sm`})]},e.name))})]}),(0,$.jsxs)(`div`,{className:`sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2`,children:[(0,$.jsxs)(`label`,{className:`flex items-center gap-2 text-white font-bold cursor-pointer bg-neutral-950 p-4 rounded-xl border border-neutral-800`,children:[(0,$.jsx)(`input`,{type:`checkbox`,checked:et.isHidden||!1,onChange:e=>tt({...et,isHidden:e.target.checked}),className:`w-5 h-5 accent-purple-600`}),`    ( )`]}),(0,$.jsxs)(`label`,{className:`flex items-center gap-2 text-fuchsia-400 font-bold cursor-pointer bg-fuchsia-950/20 p-4 rounded-xl border border-fuchsia-900/50`,children:[(0,$.jsx)(`input`,{type:`checkbox`,checked:et.isPremiumOnly||!1,onChange:e=>tt({...et,isPremiumOnly:e.target.checked}),className:`w-5 h-5 accent-fuchsia-600`}),(0,$.jsx)(k,{size:18}),`    `]})]})]}),(0,$.jsxs)(`div`,{className:`flex gap-3`,children:[(0,$.jsx)(`button`,{type:`submit`,className:`flex-1 bg-purple-600 text-white font-bold py-3 rounded-xl`,children:` `}),Qe&&(0,$.jsx)(`button`,{type:`button`,onClick:()=>{$e(null),tt({id:``,name:``,category:``,cost:50,image:``,customWeights:{},isHidden:!1,isPremiumOnly:!1})},className:`bg-neutral-800 text-white font-bold py-3 px-6 rounded-xl`,children:``})]})]}),(0,$.jsxs)(`div`,{className:`relative mb-4`,children:[(0,$.jsx)(ye,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`text`,placeholder:` ...`,value:at,onChange:e=>ot(e.target.value),className:`w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-10 pr-4 py-3 text-white focus:border-purple-500 outline-none`})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4`,children:[Zt.map(e=>(0,$.jsxs)(`div`,{className:`bg-neutral-900 rounded-xl p-4 border ${e.isPremiumOnly?`border-fuchsia-900`:`border-neutral-800`} relative group`,children:[e.isHidden&&(0,$.jsx)(`span`,{className:`text-[10px] bg-neutral-800 text-neutral-400 px-2 py-0.5 rounded border border-neutral-600 uppercase font-black tracking-widest absolute top-2 right-2 z-10`,children:``}),e.isPremiumOnly&&(0,$.jsxs)(`span`,{className:`text-[10px] bg-fuchsia-900 text-fuchsia-100 px-2 py-0.5 rounded border border-fuchsia-500 uppercase font-black tracking-widest absolute top-2 left-2 z-10 flex items-center gap-1`,children:[(0,$.jsx)(k,{size:10}),` `]}),(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-24 h-24 object-cover rounded-lg mx-auto mb-3 ${e.isHidden?`opacity-50 grayscale`:``}`}),(0,$.jsx)(`div`,{className:`text-[10px] ${e.isPremiumOnly?`text-fuchsia-400`:`text-purple-400`} font-bold uppercase tracking-widest text-center mb-1`,children:e.category||``}),(0,$.jsx)(`h4`,{className:`text-center font-bold text-white mb-1`,children:e.name}),(0,$.jsxs)(`div`,{className:`text-center text-yellow-500 font-bold text-sm mb-4`,children:[e.cost,` `]}),(0,$.jsxs)(`div`,{className:`flex gap-2`,children:[(0,$.jsx)(`button`,{onClick:()=>{$e(e),tt({...e,customWeights:e.customWeights||{},category:e.category||``})},className:`flex-1 py-2 bg-blue-600/20 text-blue-400 rounded-lg text-sm font-bold`,children:``}),(0,$.jsx)(`button`,{onClick:()=>Ht(e.id),className:`flex-1 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm font-bold`,children:``})]})]},e.id)),Zt.length===0&&(0,$.jsx)(`p`,{className:`col-span-full text-center text-neutral-500`,children:`  .`})]})]}),v===`cards`&&(0,$.jsxs)(`div`,{className:`space-y-6 animate-in fade-in`,children:[(0,$.jsxs)(`form`,{onSubmit:Ut,className:`bg-neutral-900 border border-purple-900/50 p-6 rounded-2xl`,children:[(0,$.jsx)(`h3`,{className:`text-xl font-bold mb-4 text-purple-400`,children:Ye?` `:` `}),(0,$.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-4`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:` `,value:j.name,onChange:e=>Ze({...j,name:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,required:!0}),(0,$.jsxs)(`select`,{value:j.packId,onChange:e=>Ze({...j,packId:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,required:!0,children:[(0,$.jsx)(`option`,{value:``,disabled:!0,children:` ...`}),i.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))]}),(0,$.jsx)(`select`,{value:j.rarity,onChange:e=>Ze({...j,rarity:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,children:a.map(e=>(0,$.jsx)(`option`,{value:e.name,children:e.name},e.name))}),(0,$.jsx)(`input`,{type:`number`,placeholder:` (0=)`,value:j.maxSupply,onChange:e=>Ze({...j,maxSupply:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`}),(0,$.jsx)(`input`,{type:`number`,step:`0.01`,placeholder:`.  ()`,value:j.weight,onChange:e=>Ze({...j,weight:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white`,title:`  -    `}),(0,$.jsx)(`input`,{type:`number`,placeholder:`  (. 15)`,value:j.sellPrice,onChange:e=>Ze({...j,sellPrice:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white text-green-400`,title:`     `}),(0,$.jsx)(`select`,{value:j.effect,onChange:e=>Ze({...j,effect:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white md:col-span-1 text-purple-400 font-bold`,children:yv.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))}),(0,$.jsx)(`select`,{value:j.effect,onChange:e=>Ze({...j,effect:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white md:col-span-1 text-purple-400 font-bold`,children:yv.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))}),(0,$.jsx)(`select`,{value:j.dropAnim||``,onChange:e=>Ze({...j,dropAnim:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white md:col-span-1 text-yellow-500 font-bold`,title:`    `,children:Sv.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))}),(0,$.jsx)(`input`,{type:`text`,placeholder:`URL `,value:j.image,onChange:e=>Ze({...j,image:e.target.value}),className:`bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3 text-white md:col-span-4`,required:!0}),(0,$.jsxs)(`div`,{className:`md:col-span-4 flex flex-col sm:flex-row gap-4 bg-neutral-950 border border-neutral-700 rounded-xl px-4 py-3`,children:[(0,$.jsx)(`input`,{type:`text`,placeholder:`URL  (mp3/wav) '`,value:j.soundUrl||``,onChange:e=>Ze({...j,soundUrl:e.target.value}),className:`flex-1 bg-transparent text-white outline-none`}),j.soundUrl&&(0,$.jsxs)(`div`,{className:`w-full sm:w-40 flex flex-col justify-center sm:border-l sm:border-neutral-800 sm:pl-4 pt-2 sm:pt-0 border-t border-neutral-800 sm:border-t-0 mt-2 sm:mt-0`,children:[(0,$.jsxs)(`label`,{className:`text-[10px] font-bold text-neutral-400 uppercase mb-1`,children:[`: `,j.soundVolume===void 0?.5:j.soundVolume]}),(0,$.jsx)(`input`,{type:`range`,min:`0.1`,max:`1`,step:`0.1`,value:j.soundVolume===void 0?.5:j.soundVolume,onChange:e=>Ze({...j,soundVolume:parseFloat(e.target.value)}),className:`accent-purple-500 w-full`})]})]})]}),(0,$.jsxs)(`div`,{className:`flex gap-3`,children:[(0,$.jsx)(`button`,{type:`submit`,disabled:!j.packId,className:`flex-1 bg-purple-600 disabled:bg-neutral-700 text-white font-bold py-3 rounded-xl`,children:` `}),Ye&&(0,$.jsx)(`button`,{type:`button`,onClick:()=>{Xe(null),Ze({id:``,packId:i[0]?.id||``,name:``,rarity:a[0]?.name||``,image:``,dropAnim:``,maxSupply:``,weight:``,sellPrice:``,effect:``,soundUrl:``,soundVolume:.5})},className:`bg-neutral-800 text-white font-bold py-3 px-6 rounded-xl`,children:``})]})]}),(0,$.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-3 mb-4`,children:[(0,$.jsxs)(`div`,{className:`relative flex-1`,children:[(0,$.jsx)(ye,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 w-5 h-5`}),(0,$.jsx)(`input`,{type:`text`,placeholder:` ...`,value:st,onChange:e=>ct(e.target.value),className:`w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-10 pr-4 py-3 text-white focus:border-purple-500 outline-none`})]}),(0,$.jsxs)(`div`,{className:`relative w-full sm:w-64`,children:[(0,$.jsx)(O,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 w-5 h-5`}),(0,$.jsxs)(`select`,{value:lt,onChange:e=>ut(e.target.value),className:`w-full bg-neutral-900 border border-neutral-800 rounded-xl pl-10 pr-4 py-3 text-white focus:border-purple-500 outline-none appearance-none`,children:[(0,$.jsx)(`option`,{value:`all`,children:` `}),i.map(e=>(0,$.jsx)(`option`,{value:e.id,children:e.name},e.id))]})]})]}),(0,$.jsxs)(`div`,{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4`,children:[Qt.map(e=>{let t=i.find(t=>t.id===e.packId),n=kv(e.rarity,a),r=e.effect?`effect-${e.effect}`:``,o=$t(e,t);return(0,$.jsxs)(`div`,{className:`bg-neutral-900 rounded-xl overflow-hidden border-2 ${n.border} group relative flex flex-col`,children:[(0,$.jsxs)(`div`,{className:`aspect-[2/3] w-full relative shrink-0 ${r}`,children:[(0,$.jsx)(`img`,{src:e.image,alt:e.name,className:`w-full h-full object-cover`}),e.maxSupply>0&&(0,$.jsxs)(`div`,{className:`absolute top-1 left-1 bg-black/80 text-white text-[8px] px-1.5 py-0.5 rounded border border-neutral-700 z-10`,children:[e.maxSupply-(e.pulledCount||0),`/`,e.maxSupply]}),(0,$.jsxs)(`div`,{className:`absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 z-20`,children:[(0,$.jsx)(`button`,{onClick:()=>{Xe(e),Ze({...e,maxSupply:e.maxSupply||``,weight:e.weight||``,sellPrice:e.sellPrice||``,effect:e.effect||``,dropAnim:e.dropAnim||``,soundUrl:e.soundUrl||``,soundVolume:e.soundVolume===void 0?.5:e.soundVolume})},className:`p-2 bg-blue-600 rounded-lg text-white shadow-lg transform hover:scale-110 transition-transform`,children:(0,$.jsx)(_e,{size:18})}),(0,$.jsx)(`button`,{onClick:()=>Wt(e.id),className:`p-2 bg-red-600 rounded-lg text-white shadow-lg transform hover:scale-110 transition-transform`,children:(0,$.jsx)(Ae,{size:18})})]})]}),(0,$.jsx)(`div`,{className:`p-2 text-center flex flex-col items-center flex-1 justify-between`,children:(0,$.jsxs)(`div`,{className:`w-full`,children:[(0,$.jsxs)(`div`,{className:`text-[10px] font-black uppercase ${n.text} flex justify-between px-1 mb-0.5`,children:[(0,$.jsx)(`span`,{children:e.rarity}),(0,$.jsx)(`span`,{className:`text-white bg-black/40 px-1 rounded`,title:`   `,children:o})]}),(0,$.jsx)(`div`,{className:`font-bold text-xs truncate mb-1 text-white w-full`,children:e.name}),(0,$.jsxs)(`div`,{className:`flex justify-between items-center w-full px-1 mb-1`,children:[(0,$.jsxs)(`span`,{className:`text-[10px] text-green-400 font-bold flex items-center gap-0.5`,title:` `,children:[e.sellPrice||15,` `,(0,$.jsx)(ie,{size:10})]}),e.effect&&(0,$.jsx)(`span`,{className:`text-[8px] text-purple-400 bg-purple-900/40 px-1 rounded border border-purple-800/50 uppercase tracking-wider`,title:` `,children:e.effect})]}),(0,$.jsx)(`div`,{className:`text-[9px] text-neutral-500 truncate bg-neutral-950 rounded py-0.5 px-1 inline-block w-full`,children:t?t.name:` !`})]})})]},e.id)}),Qt.length===0&&(0,$.jsx)(`p`,{className:`col-span-full text-center text-neutral-500 py-10`,children:`  .`})]})]})]})}function Yv(){let[e,t]=(0,_.useState)(void 0),[n,r]=(0,_.useState)(null),[i,a]=(0,_.useState)([]),[o,s]=(0,_.useState)([]),[c,l]=(0,_.useState)([]),[u,d]=(0,_.useState)(!0),[f,p]=(0,_.useState)(!1),m=(0,_.useRef)(!1),[h,g]=(0,_.useState)(!1),[v,y]=(0,_.useState)(`login`),[b,x]=(0,_.useState)(``),[S,C]=(0,_.useState)([]),[w,T]=(0,_.useState)([]),[ee,E]=(0,_.useState)([]),[te,ne]=(0,_.useState)({}),[ae,oe]=(0,_.useState)([]),[se,O]=(0,_.useState)([1e3,2e3,3e3,4e3,5e3,6e3,7e3]),[le,de]=(0,_.useState)([2e3,4e3,6e3,8e3,1e4,12e3,15e3]),[pe,me]=(0,_.useState)(1e4),[he,_e]=(0,_.useState)(30),[ve,ye]=(0,_.useState)([]),be=[`shop`,`farm`,`inventory`,`market`,`profile`,`premium`,`rating`,`admin`],Se=localStorage.getItem(`lastView`),[Ce,we]=(0,_.useState)(be.includes(Se)?Se:`shop`),De=e=>{be.includes(e)&&localStorage.setItem(`lastView`,e),we(e)},[Oe,ke]=(0,_.useState)(null),[Ae,Ne]=(0,_.useState)(null),[Ie,Le]=(0,_.useState)(!1),[Re,ze]=(0,_.useState)([]),[Be,Ve]=(0,_.useState)([]),[He,Ue]=(0,_.useState)(null),[We,Ge]=(0,_.useState)(null),[Ke,qe]=(0,_.useState)({text:``,type:``}),[Je,Ye]=(0,_.useState)(null),Xe=n&&!Tv(n.lastDailyClaim),j=(e=>{if(!e||!e.isPremium||!e.premiumUntil)return!1;let t=new Date(e.premiumUntil);return!isNaN(t)&&t>new Date})(n),Ze=(0,_.useRef)(null);(0,_.useEffect)(()=>{!e||!n||Ze.current===e.uid||(async()=>{Ze.current=e.uid;try{let t=null;for(let e of[{url:`https://httpbin.org/ip`,field:`origin`},{url:`https://worldtimeapi.org/api/ip`,field:`client_ip`},{url:`https://api.seeip.org/jsonip`,field:`ip`},{url:`https://myexternalip.com/json`,field:`ip`}])try{let n=(await(await fetch(e.url)).json())[e.field];if(n){t=n.split(`,`)[0].trim();break}}catch{}if(!t)return;if(n.lastIp!==t){let r=await lv(H_(Zg(Z,`artifacts`,Q,`public`,`data`,`profiles`),W_(`lastIp`,`==`,t))),i=[];r.forEach(t=>{t.id!==e.uid&&i.push(t.data().nickname)}),i.length>0?Qe(` `,` ${n.nickname}   IP (${t}),  : ${i.join(`, `)}`):n.lastIp?Qe(`  `,` ${n.nickname}  IP : ${t}`):Qe(`  IP`,` ${n.nickname}   IP: ${t}`),await dv(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{lastIp:t})}}catch(e){console.error(` IP`,e)}})()},[e,n?.uid]),(0,_.useEffect)(()=>{document.title=`Card Game`},[]);let Qe=async(t,r)=>{try{await uv(Y(Z,`artifacts`,Q,`public`,`data`,`adminLogs`,`log_`+Date.now()+`_`+Math.random().toString(36).substr(2,5)),{type:t,details:r,userUid:e?.uid||``,userNickname:n?.nickname||``,timestamp:new Date().toISOString()})}catch(e){console.error(` :`,e)}};(0,_.useEffect)(()=>{let t;return u&&e!==void 0&&!n&&!h&&(t=setTimeout(()=>{x(`'   .    .`),d(!1)},8e3)),()=>clearTimeout(t)},[u,n,h,e]),(0,_.useEffect)(()=>{let e=io(Mv,e=>{t(e),e||(g(!0),d(!1))});return()=>e()},[]),(0,_.useEffect)(()=>{if(!e)return;let t=pv(Y(Z,`artifacts`,Q,`public`,`data`,`gameSettings`,`main`),e=>{if(e.exists()){let t=e.data();C(t.bosses||vv),T(t.cards||[]),E(t.packs||_v),oe(t.rarities||xv),O(t.dailyRewards||[1e3,2e3,3e3,4e3,5e3,6e3,7e3]),de(t.premiumDailyRewards||[2e3,4e3,6e3,8e3,1e4,12e3,15e3]),me(t.premiumPrice===void 0?1e4:t.premiumPrice),_e(t.premiumDurationDays===void 0?30:t.premiumDurationDays),ye(t.premiumShopItems||[])}},e=>{x(`   .`),d(!1)}),n=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),i=pv(n,async e=>{if(e.exists()){let t=e.data(),i=!1,a={},o=(await Av()).getTime();t.isBanned&&t.banUntil&&o>new Date(t.banUntil).getTime()&&(a.isBanned=!1,a.banReason=null,a.banUntil=null,i=!0,t.isBanned=!1,t.banReason=null,t.banUntil=null),t.isPremium&&t.premiumUntil&&o>new Date(t.premiumUntil).getTime()&&(a.isPremium=!1,a.premiumUntil=null,i=!0,t.isPremium=!1,t.premiumUntil=null),i&&dv(n,a).catch(e=>console.error(`  :`,e)),r(t),g(!1)}else g(!0);d(!1)}),o=pv(Zg(Z,`artifacts`,Q,`users`,e.uid,`inventory`),e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),a(t)}),c=pv(Zg(Z,`artifacts`,Q,`public`,`data`,`cardStats`),e=>{let t={};e.forEach(e=>{t[e.id]=e.data().pulledCount||0}),ne(t)}),u=pv(Zg(Z,`artifacts`,Q,`public`,`data`,`market`),e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),s(t.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))}),f=pv(Zg(Z,`artifacts`,Q,`users`,e.uid,`showcases`),e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),l(t)});return()=>{t(),i(),o(),u(),f(),c()}},[e]),(0,_.useEffect)(()=>{e&&n&&i&&n.uniqueCardsCount!==i.length&&dv(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{uniqueCardsCount:i.length}).catch(console.error)},[e,n?.uniqueCardsCount,i.length]),(0,_.useEffect)(()=>{!e||!c||c.length===0||c.forEach(t=>{if(!t.cardIds||t.cardIds.length===0)return;let n=!1,r=[],a={};i.forEach(e=>{a[e.id]=e.amount}),t.cardIds.forEach(e=>{a[e]&&a[e]>0?(r.push(e),--a[e]):n=!0}),n&&dv(Y(Z,`artifacts`,Q,`users`,e.uid,`showcases`,t.id),{cardIds:r}).catch(console.error)})},[i,c,e]);let $e=async e=>{e.preventDefault();let t=e.target.email.value.trim(),n=e.target.password.value;d(!0),x(``);try{if(v===`register`){let r=e.target.nickname.value.trim();if(!r)throw Error(` !`);let i=await lv(Zg(Z,`artifacts`,Q,`public`,`data`,`profiles`)),a=!1;if(i.forEach(e=>{e.data().nickname?.toLowerCase()===r.toLowerCase()&&(a=!0)}),a){x(`     !`),d(!1);return}let o=await eo(Mv,t,n);await uv(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,o.user.uid),{uid:o.user.uid,nickname:r,email:t,coins:200,totalCards:0,uniqueCardsCount:0,packsOpened:0,coinsSpentOnPacks:0,coinsEarnedFromPacks:0,lastDailyClaim:null,dailyStreak:0,createdAt:new Date().toISOString(),promoUsed:!1,isAdmin:!1,isSuperAdmin:!1,isBanned:!1,isPremium:!1,premiumUntil:null,avatarUrl:``,mainShowcaseId:null})}else await to(Mv,t,n)}catch(e){x(`: `+e.message)}d(!1)},et=async()=>{if(!(!e||m.current)){m.current=!0;try{let t=n?.autoSoundEnabled===!1;await dv(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{autoSoundEnabled:t}),M(t?` `:` `,`success`)}catch(e){console.error(e),M(`   `)}finally{m.current=!1}}},tt=async()=>{d(!0),x(``);try{let e=await ss(Mv,new Va),t=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.user.uid);if(!(await cv(t)).exists()){let n=e.user.displayName||``,r=await lv(Zg(Z,`artifacts`,Q,`public`,`data`,`profiles`)),i=!1;r.forEach(e=>{e.data().nickname?.toLowerCase()===n.toLowerCase()&&(i=!0)}),i&&(n=`${n}_${e.user.uid.substring(0,4)}`),await uv(t,{uid:e.user.uid,nickname:n,email:e.user.email||``,coins:200,totalCards:0,uniqueCardsCount:0,packsOpened:0,coinsSpentOnPacks:0,coinsEarnedFromPacks:0,lastDailyClaim:null,dailyStreak:0,createdAt:new Date().toISOString(),promoUsed:!1,isAdmin:!1,isSuperAdmin:!1,isBanned:!1,isPremium:!1,premiumUntil:null,avatarUrl:e.user.photoURL||``,mainShowcaseId:null})}}catch(e){x(` Google: `+e.message)}d(!1)},nt=async()=>{d(!0),await ao(Mv),r(null),a([]),l([]),localStorage.removeItem(`lastView`),we(`shop`),y(`login`)},M=(e,t=`error`)=>{qe({text:e,type:t}),setTimeout(()=>qe({text:``,type:``}),3e3)},rt=async(t,r)=>{if(!m.current){m.current=!0,p(!0);try{let a=i.find(e=>e.id===t);if(!a||a.amount<1){M(`    !`);return}if(r<1||!Number.isInteger(r)){M(` !`);return}let o=gv(Z),s=Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,t);a.amount===1?o.delete(s):o.update(s,{amount:X(-1)});let c=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid);o.update(c,{totalCards:X(-1)});let l=Y(Z,`artifacts`,Q,`public`,`data`,`market`,`m_`+Date.now()+`_`+e.uid);o.set(l,{cardId:t,sellerUid:e.uid,sellerNickname:n.nickname,price:Number(r),createdAt:new Date().toISOString(),status:`active`}),await o.commit(),M(`    !`,`success`),Ye(null)}catch(e){console.error(e),M(`: ${e.message}`)}finally{m.current=!1,p(!1)}}},it=async t=>{if(!m.current){m.current=!0,p(!0);try{if(n.coins<t.price){M(` !`);return}if(t.sellerUid===e.uid){M(`    !`);return}let r=gv(Z),i=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid);r.update(i,{coins:X(-t.price),totalCards:X(1)});let a=Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,t.cardId);r.set(a,{amount:X(1)},{merge:!0});let o=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,t.sellerUid);r.update(o,{coins:X(t.price)});let s=Y(Z,`artifacts`,Q,`public`,`data`,`market`,t.id);r.update(s,{status:`sold`,buyerUid:e.uid,buyerNickname:n.nickname,soldAt:new Date().toISOString()}),await r.commit(),M(`    ${t.price} !`,`success`)}catch(e){console.error(e),M(` . ,   .`)}finally{m.current=!1,p(!1)}}},at=async t=>{if(!m.current){m.current=!0,p(!0);try{if(t.sellerUid!==e.uid&&!n.isAdmin)return;let r=gv(Z);r.delete(Y(Z,`artifacts`,Q,`public`,`data`,`market`,t.id));let i=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,t.sellerUid);r.update(i,{totalCards:X(1)});let a=Y(Z,`artifacts`,Q,`users`,t.sellerUid,`inventory`,t.cardId);r.set(a,{amount:X(1)},{merge:!0}),await r.commit(),M(t.sellerUid===e.uid?`   .`:`  .`,`success`)}catch(e){console.error(e),M(`  .`)}finally{m.current=!1,p(!1)}}},ot=async(t,r,i=1)=>{if(!(m.current||!n||Ae||Ie)){m.current=!0,p(!0);try{let a=ee.find(e=>e.id===t);if(a?.isPremiumOnly&&!j){M(`      !`,`error`),m.current=!1,p(!1);return}let o=r*i;if(n.coins<o){M(` !`),m.current=!1,p(!1);return}Ne(t),Ve([]),setTimeout(async()=>{let n=JSON.parse(JSON.stringify(w)),r=[],s={},c=0;for(let e=0;e<i;e++){let i=n.filter(e=>e.packId===t&&(!e.maxSupply||(e.pulledCount||0)<e.maxSupply));if(i.length===0){if(e===0){Ne(null),M(`      !`),m.current=!1,p(!1);return}break}let o=0,l=[];for(let e of i){let t=1,n=ae.find(t=>t.name===e.rarity);e.weight!==void 0&&e.weight!==``?t=Number(e.weight):a?.customWeights?.[e.rarity]!==void 0&&a?.customWeights?.[e.rarity]!==``?t=Number(a.customWeights[e.rarity]):n&&(t=Number(n.weight)),o+=t,l.push({card:e,weight:t})}let u=Math.random()*o,d=0,f=l[0].card;for(let e of l)if(d+=e.weight,u<=d){f=e.card;break}r.push(f),s[f.id]=(s[f.id]||0)+1,c+=f.sellPrice?Number(f.sellPrice):15}if(r.length===0){Ne(null),m.current=!1,p(!1);return}try{let a=gv(Z),l=Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid);a.update(l,{coins:X(-o),totalCards:X(r.length),packsOpened:X(i),coinsSpentOnPacks:X(o),coinsEarnedFromPacks:X(c)});for(let e of r)Number(e.maxSupply)>0&&a.set(Y(Z,`artifacts`,Q,`public`,`data`,`cardStats`,e.id),{pulledCount:X(1)},{merge:!0});for(let[t,n]of Object.entries(s))a.set(Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,t),{amount:X(n)},{merge:!0});if(await a.commit(),i===1){let e=n.filter(e=>e.packId===t),i=Array.from({length:45},()=>e[Math.floor(Math.random()*e.length)]);i[35]=r[0],ze(i),Le(!0),Ne(null),setTimeout(()=>{Le(!1),Ve(r),m.current=!1,p(!1)},5e3)}else Ne(null),Ve(r),m.current=!1,p(!1)}catch(e){console.error(e),M(`: ${e.message}`),Ne(null),m.current=!1,p(!1)}},i===1?100:1500)}catch{m.current=!1,p(!1)}}},st=async()=>{if(m.current||Be.length===0)return;m.current=!0,p(!0);let t=[...Be];Ve([]);let n=0,r=t.length,a={};t.forEach(e=>{a[e.id]=(a[e.id]||0)+1,n+=e.sellPrice?Number(e.sellPrice):15});try{let t=gv(Z);for(let[n,r]of Object.entries(a)){let a=Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,n),o=i.find(e=>e.id===n);o&&o.amount<=r?t.delete(a):t.update(a,{amount:X(-r)})}t.update(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{coins:X(n),totalCards:X(-r)}),await t.commit(),M(`    !  ${n} .`,`success`)}catch{M(`  .`),Ve(t)}finally{m.current=!1,p(!1)}},ct=async t=>{if(!m.current){m.current=!0,p(!0);try{let n=i.find(e=>e.id===t);if(!n||n.amount<=1)return;let r=w.find(e=>e.id===t),a=r?.sellPrice?Number(r.sellPrice):15,o=gv(Z);o.update(Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,t),{amount:X(-1)}),o.update(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{coins:X(a),totalCards:X(-1)}),await o.commit(),M(`  ${a} !`,`success`)}catch{M(`   .`)}finally{m.current=!1,p(!1)}}},lt=async t=>{if(!m.current){m.current=!0,p(!0);try{let n=i.find(e=>e.id===t);if(!n||n.amount<=1)return;let r=w.find(e=>e.id===t),a=r?.sellPrice?Number(r.sellPrice):15,o=n.amount-1,s=o*a,c=gv(Z);c.update(Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,t),{amount:1}),c.update(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{coins:X(s),totalCards:X(-o)}),await c.commit(),M(` ${o} .  ${s} !`,`success`)}catch{M(`    .`)}finally{m.current=!1,p(!1)}}},ut=async(t=null)=>{if(!m.current){m.current=!0,p(!0);try{let n=(t||i.map(e=>{let t=w.find(t=>t.id===e.id);return t&&e.amount>0?{card:t,amount:e.amount}:null}).filter(Boolean)).filter(e=>e.amount>1);if(n.length===0){M(`   !`,`error`);return}let r=0,a=0,o=gv(Z);n.forEach(t=>{let n=t.card?.id||t.id,i=w.find(e=>e.id===n),s=i?.sellPrice?Number(i.sellPrice):15,c=t.amount-1;r+=c*s,a+=c,o.update(Y(Z,`artifacts`,Q,`users`,e.uid,`inventory`,n),{amount:1})}),o.update(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{coins:X(r),totalCards:X(-a)}),await o.commit(),M(`  !  ${r} .`,`success`)}catch{M(`     .`)}finally{m.current=!1,p(!1)}}},dt=async t=>{if(!t.trim())return M(`  !`);if(c.length>=5&&!n.isSuperAdmin)return M(`   (5 ).`);try{await uv(Y(Zg(Z,`artifacts`,Q,`users`,e.uid,`showcases`)),{name:t.trim(),cardIds:[],createdAt:new Date().toISOString()}),M(`  !`,`success`)}catch{M(`  .`)}},ft=async t=>{if(confirm(`  ?     .`))try{let r=gv(Z);r.delete(Y(Z,`artifacts`,Q,`users`,e.uid,`showcases`,t)),n.mainShowcaseId===t&&r.update(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{mainShowcaseId:null}),await r.commit(),M(` .`,`success`)}catch{M(` .`)}},pt=async t=>{try{await dv(Y(Z,`artifacts`,Q,`public`,`data`,`profiles`,e.uid),{mainShowcaseId:t}),M(`  !`,`success`)}catch{M(`  .`)}},mt=async(t,n)=>{try{await dv(Y(Z,`artifacts`,Q,`users`,e.uid,`showcases`,t),{cardIds:n})}catch{M(`    .`)}};if(b&&e!==void 0)return(0,$.jsx)(`div`,{className:`min-h-screen bg-neutral-950 flex flex-col items-center justify-center p-6 text-center text-white`,children:(0,$.jsxs)(`div`,{className:`bg-red-950/40 border-2 border-red-900 p-8 rounded-3xl max-w-lg w-full`,children:[(0,$.jsx)(`h1`,{className:`text-2xl font-black mb-4 uppercase`,children:``}),(0,$.jsx)(`p`,{className:`mb-6`,children:b}),(!e||h)&&(0,$.jsx)(`button`,{onClick:()=>{x(``),d(!1)},className:`bg-neutral-800 px-6 py-3 rounded-xl font-bold`,children:`  `})]})});if(n?.isBanned)return(0,$.jsx)(`div`,{className:`min-h-screen bg-neutral-950 flex flex-col items-center justify-center p-6 text-center text-white`,children:(0,$.jsxs)(`div`,{className:`bg-red-950/30 border-2 border-red-900/50 p-10 rounded-3xl max-w-md w-full`,children:[(0,$.jsx)(`h1`,{className:`text-4xl font-black mb-2 text-white`,children:` `}),(0,$.jsx)(`p`,{className:`text-red-400 font-bold uppercase mb-8 text-sm`,children:` `}),(0,$.jsx)(`button`,{onClick:nt,className:`w-full bg-neutral-900 text-white font-bold py-4 rounded-xl`,children:`  `})]})});if(u||e===void 0)return(0,$.jsx)(`div`,{className:`min-h-screen bg-neutral-950 flex flex-col items-center justify-center text-yellow-500`,children:(0,$.jsx)(A,{className:`animate-spin w-16 h-16 mb-4`})});if(!e||h)return(0,$.jsx)(`div`,{className:`min-h-screen bg-neutral-950 flex items-center justify-center p-4 font-sans text-neutral-100 relative overflow-hidden`,children:(0,$.jsxs)(`div`,{className:`bg-neutral-900 p-8 rounded-3xl max-w-md w-full relative z-10`,children:[(0,$.jsx)(`h1`,{className:`text-3xl font-black mb-6 text-center text-white`,children:v===`login`?``:``}),(0,$.jsxs)(`form`,{onSubmit:$e,className:`space-y-4`,children:[v===`register`&&(0,$.jsx)(`input`,{type:`text`,name:`nickname`,required:!0,placeholder:``,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl p-4 text-white focus:border-yellow-500 outline-none`}),(0,$.jsx)(`input`,{type:`email`,name:`email`,required:!0,placeholder:` `,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl p-4 text-white focus:border-yellow-500 outline-none`}),(0,$.jsx)(`input`,{type:`password`,name:`password`,required:!0,placeholder:``,className:`w-full bg-neutral-950 border border-neutral-700 rounded-xl p-4 text-white focus:border-yellow-500 outline-none`,minLength:`6`}),(0,$.jsx)(`button`,{type:`submit`,className:`w-full bg-yellow-500 hover:bg-yellow-400 text-yellow-950 font-black py-4 px-4 rounded-xl mt-4`,children:v===`login`?`  `:` `})]}),(0,$.jsx)(`button`,{onClick:tt,className:`w-full bg-white text-neutral-900 font-bold p-4 rounded-xl mt-4`,children:`  Google`}),(0,$.jsx)(`button`,{onClick:()=>{y(v===`login`?`register`:`login`),x(``)},className:`w-full text-neutral-400 mt-6 font-bold`,children:v===`login`?` ? `:`  ? `})]})});let ht=i.map(e=>{let t=w.find(t=>t.id===e.id);return t&&e.amount>0?{card:t,amount:e.amount}:null}).filter(Boolean);return(0,$.jsxs)(`div`,{className:`min-h-screen bg-neutral-950 text-neutral-100 font-sans pb-24 relative overflow-x-hidden`,children:[(0,$.jsx)(`header`,{className:`bg-neutral-900 border-b border-neutral-800 sticky top-0 z-50 shadow-sm`,children:(0,$.jsxs)(`div`,{className:`max-w-5xl mx-auto px-4 py-3 flex justify-between items-center`,children:[(0,$.jsxs)(`div`,{className:`flex items-center gap-2 sm:gap-3 text-white font-black text-lg tracking-wider cursor-pointer`,onClick:()=>De(`shop`),children:[(0,$.jsx)(`div`,{className:`bg-gradient-to-br from-purple-600 to-blue-600 p-2 rounded-xl`,children:(0,$.jsx)(ue,{className:`text-white w-5 h-5`})}),(0,$.jsx)(`span`,{className:`hidden sm:block`,children:`Card Game`})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-3 sm:gap-6`,children:[(0,$.jsxs)(`button`,{onClick:()=>De(`profile`),className:`flex items-center gap-3 hover:bg-neutral-800 p-1.5 pr-3 rounded-full text-left`,children:[(0,$.jsx)(Pv,{profile:n,className:`w-10 h-10 rounded-full`,iconSize:20}),(0,$.jsxs)(`div`,{className:`hidden md:block text-left`,children:[(0,$.jsxs)(`div`,{className:`font-bold text-sm text-white flex items-center gap-1`,children:[n?.nickname,(0,$.jsxs)(`span`,{className:`bg-red-900/50 text-red-400 text-[10px] px-1.5 py-0.5 rounded-md border border-red-800 flex items-center gap-0.5 ml-1`,children:[(0,$.jsx)(Ee,{size:10}),` `,n?.farmLevel||1]})]}),(0,$.jsx)(`div`,{className:`text-xs text-neutral-400`,children:j?(0,$.jsx)(`span`,{className:`text-fuchsia-400 font-bold`,children:``}):``})]})]}),(0,$.jsxs)(`div`,{className:`flex items-center gap-2 sm:gap-4`,children:[Xe&&(0,$.jsx)(`button`,{onClick:()=>De(`profile`),className:`bg-orange-500/20 text-orange-400 p-2.5 rounded-xl border border-orange-500/30`,children:(0,$.jsx)(ce,{size:20})}),(0,$.jsx)(`button`,{onClick:et,className:`bg-neutral-950 p-2.5 rounded-xl border border-neutral-800 text-neutral-400 hover:text-white transition-colors`,title:n?.autoSoundEnabled===!1?`  `:`  `,children:n?.autoSoundEnabled===!1?(0,$.jsx)(Fe,{size:20}):(0,$.jsx)(Pe,{size:20})}),(0,$.jsxs)(`div`,{className:`bg-neutral-950 px-4 py-2 rounded-xl border border-neutral-800 flex gap-2 items-center`,children:[(0,$.jsx)(ie,{size:18,className:`text-yellow-500`}),(0,$.jsx)(`span`,{className:`text-yellow-500 font-black`,children:n?.coins})]}),(0,$.jsxs)(`button`,{onClick:()=>De(`premium`),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl border bg-neutral-950 border-neutral-800 text-fuchsia-400`,children:[(0,$.jsx)(k,{size:18}),` `,(0,$.jsx)(`span`,{className:`hidden sm:block font-bold text-sm`,children:``})]})]})]})]})}),Ke.text&&(0,$.jsxs)(`div`,{className:`fixed top-20 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full flex items-center gap-2 shadow-lg z-50 text-white font-medium ${Ke.type===`success`?`bg-green-600`:`bg-red-900`}`,children:[Ke.type===`success`?(0,$.jsx)(re,{size:18}):(0,$.jsx)(D,{size:18}),` `,Ke.text]}),(0,$.jsxs)(`main`,{className:`max-w-5xl mx-auto p-4 mt-4`,children:[Ce===`farm`&&(0,$.jsx)(zv,{profile:n,db:Z,appId:Q,cardsCatalog:w,showToast:M,bosses:S,rarities:ae}),Ce===`shop`&&(0,$.jsx)(Bv,{profile:n,cardStats:te,packs:ee,cardsCatalog:w,rarities:ae,openPack:ot,openingPackId:Ae,isRouletteSpinning:Ie,rouletteItems:Re,pulledCards:Be,setPulledCards:Ve,sellPulledCards:st,selectedPackId:Oe,setSelectedPackId:ke,setViewingCard:Ue,isPremiumActive:j,isAdmin:n?.isAdmin,isProcessing:f}),Ce===`premium`&&(0,$.jsx)(Hv,{profile:n,user:e,db:Z,appId:Q,premiumPrice:pe,premiumDurationDays:he,premiumShopItems:ve,showToast:M,isProcessing:f,setIsProcessing:p,addSystemLog:Qe,isPremiumActive:j,cardsCatalog:w,setViewingCard:Ue,rarities:ae,cardStats:te}),Ce===`inventory`&&(0,$.jsx)(Uv,{inventory:ht,rarities:ae,catalogTotal:w.length,setViewingCard:Ue,setListingCard:Ye,packsCatalog:ee,showcases:c,profile:n,cardsCatalog:w,cardStats:te,sellDuplicate:ct,sellAllDuplicates:lt,sellEveryDuplicate:ut,sellPrice:15,createShowcase:dt,deleteShowcase:ft,setMainShowcase:pt,saveShowcaseCards:mt}),Ce===`market`&&(0,$.jsx)(Wv,{marketListings:o,cardsCatalog:w,rarities:ae,currentUserUid:e.uid,setViewingCard:Ue,isAdmin:n?.isAdmin,buyFromMarket:it,cancelMarketListing:at}),Ce===`profile`&&(0,$.jsx)(Gv,{profile:n,user:e,db:Z,appId:Q,handleLogout:nt,showToast:M,inventoryCount:ht.length,canClaimDaily:Xe,dailyRewards:se,premiumDailyRewards:le,isPremiumActive:j,showcases:c,cardsCatalog:w,rarities:ae,fullInventory:ht,setViewingCard:Ue,cardStats:te}),Ce===`rating`&&(0,$.jsx)(Kv,{db:Z,appId:Q,currentUid:e.uid,setViewingPlayerProfile:e=>{Ge(e),De(`publicProfile`)}}),Ce===`publicProfile`&&We&&(0,$.jsx)(qv,{db:Z,appId:Q,targetUid:We,goBack:()=>De(`rating`),cardsCatalog:w,rarities:ae,setViewingCard:Ue,packsCatalog:ee,cardStats:te}),Ce===`admin`&&n?.isAdmin&&(0,$.jsx)(Jv,{db:Z,appId:Q,currentProfile:n,cardsCatalog:w,packsCatalog:ee,rarities:ae,showToast:M,addSystemLog:Qe,dailyRewards:se,premiumDailyRewards:le,premiumPrice:pe,premiumDurationDays:he,premiumShopItems:ve,setViewingPlayerProfile:Ge,setCurrentView:De,bosses:S,setBosses:C})]}),He&&(0,$.jsx)(Fv,{viewingCard:He,setViewingCard:Ue,rarities:ae}),Je&&(0,$.jsx)(Iv,{listingCard:Je,setListingCard:Ye,isProcessing:f,listOnMarket:rt}),(0,$.jsx)(`nav`,{className:`fixed bottom-0 w-full bg-neutral-900 border-t border-neutral-800 px-2 py-2 z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] overflow-x-auto hide-scrollbar`,children:(0,$.jsxs)(`div`,{className:`min-w-max mx-auto flex justify-center sm:gap-2`,children:[(0,$.jsx)(Lv,{icon:(0,$.jsx)(Ee,{size:22}),label:``,isActive:Ce===`farm`,onClick:()=>De(`farm`)}),(0,$.jsx)(Lv,{icon:(0,$.jsx)(ge,{size:22}),label:``,isActive:Ce===`shop`,onClick:()=>{De(`shop`),Ve([]),ke(null)}}),(0,$.jsx)(Lv,{icon:(0,$.jsx)(fe,{size:22}),label:``,isActive:Ce===`inventory`,onClick:()=>De(`inventory`)}),(0,$.jsx)(Lv,{icon:(0,$.jsx)(Te,{size:22}),label:``,isActive:Ce===`market`,onClick:()=>De(`market`)}),(0,$.jsx)(Lv,{icon:(0,$.jsx)(je,{size:22}),label:``,isActive:Ce===`rating`||Ce===`publicProfile`,onClick:()=>De(`rating`)}),(0,$.jsx)(Lv,{icon:(0,$.jsx)(Me,{size:22}),label:``,isActive:Ce===`profile`,onClick:()=>De(`profile`)}),n?.isAdmin&&(0,$.jsxs)(`button`,{onClick:()=>De(`admin`),className:`flex flex-col items-center p-2 rounded-lg w-16 sm:w-20 transition-colors ${Ce===`admin`?`text-purple-500`:`text-neutral-500`}`,children:[(0,$.jsx)(xe,{size:22}),(0,$.jsx)(`span`,{className:`text-[9px] sm:text-[10px] mt-1 font-bold uppercase tracking-wider`,children:``})]})]})})]})}(0,g.createRoot)(document.getElementById(`root`)).render((0,$.jsx)(_.StrictMode,{children:(0,$.jsx)(Yv,{})}));